import{a as an,f as cn}from"../chunks/DC8EVfpz.js";import{f as Xt,h as Q,g as ki,w as S,i as Ti,H as Ni,j as dt,k as qn,l as Zn,e as Dn,a3 as qt,av as Gi,af as vt,c as zi,a as ce,aN as pn,b as Ne,s as Ii,aG as Li,aO as Di,at as it,aP as ji,aQ as Fi,v as Oi,a1 as ht,aR as Bi,r as Zt,p as Ut,aS as Re,aT as Yi,as as Hi,d as Wi,ap as Ge,J as Vt,aU as Kt,q as Xi,aV as qi,aW as Zi,aX as Ui,aY as Vi,aZ as Ki,a_ as Qi,X as rt,F as gt,Z as En,_ as ot,z as un,A as X,aL as Rn,B as Y,Y as Qt,a$ as Ji,$ as U,ag as nr,b0 as er,b1 as tr}from"../chunks/BH0XA-ZU.js";import{d as at,e as ue,s as mn}from"../chunks/CJc-qb04.js";import{b as ir,s as tn,a as st,i as de}from"../chunks/Bul1e3B-.js";import"../chunks/CyuSA9oO.js";import{d as Jt,w as Pn,o as rr}from"../chunks/CblLKELC.js";function ze(n,e){return e}function or(n,e,i){for(var t=[],r=e.length,s,l=e.length,u=0;u<r;u++){let o=e[u];Ut(o,()=>{if(s){if(s.pending.delete(o),s.done.add(o),s.pending.size===0){var c=n.outrogroups;Ie(it(s.done)),c.delete(s),c.size===0&&(n.outrogroups=null)}}else l-=1},!1)}if(l===0){var d=t.length===0&&i!==null;if(d){var p=i,a=p.parentNode;Hi(a),a.append(p),n.items.clear()}Ie(e,!d)}else s={pending:new Set(e),done:new Set},(n.outrogroups??=new Set).add(s)}function Ie(n,e=!0){for(var i=0;i<n.length;i++)Wi(n[i],e)}var mt;function Le(n,e,i,t,r,s=null){var l=n,u=new Map,d=(e&Kt)!==0;if(d){var p=n;l=Q?qn(Vt(p)):p.appendChild(ce())}Q&&ki();var a=null,o=Li(()=>{var m=i();return Di(m)?m:m==null?[]:it(m)}),c,f=!0;function h(){v.fallback=a,ar(v,c,l,e,t),a!==null&&(c.length===0?(a.f&pn)===0?Zt(a):(a.f^=pn,jn(a,null,l)):Ut(a,()=>{a=null}))}var E=Xt(()=>{c=S(o);var m=c.length;let M=!1;if(Q){var w=Ti(l)===Ni;w!==(m===0)&&(l=dt(),qn(l),Zn(!1),M=!0)}for(var y=new Set,$=zi,C=Ii(),b=0;b<m;b+=1){Q&&Dn.nodeType===qt&&Dn.data===Gi&&(l=Dn,M=!0,Zn(!1));var A=c[b],k=t(A,b),x=f?null:u.get(k);x?(x.v&&vt(x.v,A),x.i&&vt(x.i,b),C&&$.skipped_effects.delete(x.e)):(x=sr(u,f?l:mt??=ce(),A,k,b,r,e,i),f||(x.e.f|=pn),u.set(k,x)),y.add(k)}if(m===0&&s&&!a&&(f?a=Ne(()=>s(l)):(a=Ne(()=>s(mt??=ce())),a.f|=pn)),Q&&m>0&&qn(dt()),!f)if(C){for(const[R,W]of u)y.has(R)||$.skipped_effects.add(W.e);$.oncommit(h),$.ondiscard(()=>{})}else h();M&&Zn(!0),S(o)}),v={effect:E,items:u,outrogroups:null,fallback:a};f=!1,Q&&(l=Dn)}function In(n){for(;n!==null&&(n.f&Yi)===0;)n=n.next;return n}function ar(n,e,i,t,r){var s=(t&qi)!==0,l=e.length,u=n.items,d=In(n.effect.first),p,a=null,o,c=[],f=[],h,E,v,m;if(s)for(m=0;m<l;m+=1)h=e[m],E=r(h,m),v=u.get(E).e,(v.f&pn)===0&&(v.nodes?.a?.measure(),(o??=new Set).add(v));for(m=0;m<l;m+=1){if(h=e[m],E=r(h,m),v=u.get(E).e,n.outrogroups!==null)for(const x of n.outrogroups)x.pending.delete(v),x.done.delete(v);if((v.f&pn)!==0)if(v.f^=pn,v===d)jn(v,null,i);else{var M=a?a.next:d;v===n.effect.last&&(n.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),hn(n,a,v),hn(n,v,M),jn(v,M,i),a=v,c=[],f=[],d=In(a.next);continue}if((v.f&Re)!==0&&(Zt(v),s&&(v.nodes?.a?.unfix(),(o??=new Set).delete(v))),v!==d){if(p!==void 0&&p.has(v)){if(c.length<f.length){var w=f[0],y;a=w.prev;var $=c[0],C=c[c.length-1];for(y=0;y<c.length;y+=1)jn(c[y],w,i);for(y=0;y<f.length;y+=1)p.delete(f[y]);hn(n,$.prev,C.next),hn(n,a,$),hn(n,C,w),d=w,a=C,m-=1,c=[],f=[]}else p.delete(v),jn(v,d,i),hn(n,v.prev,v.next),hn(n,v,a===null?n.effect.first:a.next),hn(n,a,v),a=v;continue}for(c=[],f=[];d!==null&&d!==v;)(p??=new Set).add(d),f.push(d),d=In(d.next);if(d===null)continue}(v.f&pn)===0&&c.push(v),a=v,d=In(v.next)}if(n.outrogroups!==null){for(const x of n.outrogroups)x.pending.size===0&&(Ie(it(x.done)),n.outrogroups?.delete(x));n.outrogroups.size===0&&(n.outrogroups=null)}if(d!==null||p!==void 0){var b=[];if(p!==void 0)for(v of p)(v.f&Re)===0&&b.push(v);for(;d!==null;)(d.f&Re)===0&&d!==n.fallback&&b.push(d),d=In(d.next);var A=b.length;if(A>0){var k=(t&Kt)!==0&&l===0?i:null;if(s){for(m=0;m<A;m+=1)b[m].nodes?.a?.measure();for(m=0;m<A;m+=1)b[m].nodes?.a?.fix()}or(n,b,k)}}s&&Xi(()=>{if(o!==void 0)for(v of o)v.nodes?.a?.apply()})}function sr(n,e,i,t,r,s,l,u){var d=(l&ji)!==0?(l&Fi)===0?Oi(i,!1,!1):ht(i):null,p=(l&Bi)!==0?ht(r):null;return{v:d,i:p,e:Ne(()=>(s(e,d??i,p??r,u),()=>{n.delete(t)}))}}function jn(n,e,i){if(n.nodes)for(var t=n.nodes.start,r=n.nodes.end,s=e&&(e.f&pn)===0?e.nodes.start:i;t!==null;){var l=Ge(t);if(s.before(t),t===r)return;t=l}}function hn(n,e,i){e===null?n.effect.first=i:e.next=i,i===null?n.effect.last=e:i.prev=e}function lr(n,e){let i=null,t=Q;var r;if(Q){i=Dn;for(var s=Vt(document.head);s!==null&&(s.nodeType!==qt||s.data!==n);)s=Ge(s);if(s===null)Zn(!1);else{var l=Ge(s);s.remove(),qn(l)}}Q||(r=document.head.appendChild(ce()));try{Xt(()=>e(r),Zi)}finally{t&&(Zn(!0),qn(i))}}const wt=[...` 	
\r\f \v\uFEFF`];function cr(n,e,i){var t=n==null?"":""+n;if(i){for(var r in i)if(i[r])t=t?t+" "+r:r;else if(t.length)for(var s=r.length,l=0;(l=t.indexOf(r,l))>=0;){var u=l+s;(l===0||wt.includes(t[l-1]))&&(u===t.length||wt.includes(t[u]))?t=(l===0?"":t.substring(0,l))+t.substring(u+1):l=u}}return t===""?null:t}function ur(n,e){return n==null?null:String(n)}function gn(n,e,i,t,r,s){var l=n.__className;if(Q||l!==i||l===void 0){var u=cr(i,t,s);(!Q||u!==n.getAttribute("class"))&&(u==null?n.removeAttribute("class"):e?n.className=u:n.setAttribute("class",u)),n.__className=i}else if(s&&r!==s)for(var d in s){var p=!!s[d];(r==null||p!==!!r[d])&&n.classList.toggle(d,p)}return s}function fr(n,e,i,t){var r=n.__style;if(Q||r!==e){var s=ur(e);(!Q||s!==n.getAttribute("style"))&&(s==null?n.removeAttribute("style"):n.style.cssText=s),n.__style=e}return t}const pr=Symbol("is custom element"),dr=Symbol("is html");function fe(n,e,i,t){var r=vr(n);Q&&(r[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||r[e]!==(r[e]=i)&&(e==="loading"&&(n[Ui]=i),i==null?n.removeAttribute(e):typeof i!="string"&&hr(n).includes(e)?n[e]=i:n.setAttribute(e,i))}function vr(n){return n.__attributes??={[pr]:n.nodeName.includes("-"),[dr]:n.namespaceURI===Vi}}var _t=new Map;function hr(n){var e=n.getAttribute("is")||n.nodeName,i=_t.get(e);if(i)return i;_t.set(e,i=[]);for(var t,r=n,s=Element.prototype;s!==r;){t=Qi(r);for(var l in t)t[l].set&&i.push(l);r=Ki(r)}return i}class Sn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let t=0;for(let r=0;r<this._n&&r<32;r++){const s=i[r],l=e+s,u=Math.abs(e)<Math.abs(s)?e-(l-s):s-(l-e);u&&(i[t++]=u),e=l}return i[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let i=this._n,t,r,s,l=0;if(i>0){for(l=e[--i];i>0&&(t=l,r=e[--i],l=t+r,s=r-(l-t),!s););i>0&&(s<0&&e[i-1]<0||s>0&&e[i-1]>0)&&(r=s*2,t=l+r,r==t-l&&(l=t))}return l}}function*gr(n){for(const e of n)yield*e}function ni(n){return Array.from(gr(n))}function xn(n,e,i){n=+n,e=+e,i=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+i;for(var t=-1,r=Math.max(0,Math.ceil((e-n)/i))|0,s=new Array(r);++t<r;)s[t]=n+t*i;return s}var z=1e-6,ei=1e-12,L=Math.PI,J=L/2,yt=L/4,en=L*2,nn=180/L,V=L/180,j=Math.abs,ti=Math.atan,Tn=Math.atan2,H=Math.cos,ie=Math.ceil,mr=Math.exp,wr=Math.log,O=Math.sin,_r=Math.sign||function(n){return n>0?1:n<0?-1:0},vn=Math.sqrt,yr=Math.tan;function Mr(n){return n>1?0:n<-1?L:Math.acos(n)}function dn(n){return n>1?J:n<-1?-J:Math.asin(n)}function on(){}function ve(n,e){n&&Et.hasOwnProperty(n.type)&&Et[n.type](n,e)}var Mt={Feature:function(n,e){ve(n.geometry,e)},FeatureCollection:function(n,e){for(var i=n.features,t=-1,r=i.length;++t<r;)ve(i[t].geometry,e)}},Et={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var i=n.coordinates,t=-1,r=i.length;++t<r;)n=i[t],e.point(n[0],n[1],n[2])},LineString:function(n,e){De(n.coordinates,e,0)},MultiLineString:function(n,e){for(var i=n.coordinates,t=-1,r=i.length;++t<r;)De(i[t],e,0)},Polygon:function(n,e){St(n.coordinates,e)},MultiPolygon:function(n,e){for(var i=n.coordinates,t=-1,r=i.length;++t<r;)St(i[t],e)},GeometryCollection:function(n,e){for(var i=n.geometries,t=-1,r=i.length;++t<r;)ve(i[t],e)}};function De(n,e,i){var t=-1,r=n.length-i,s;for(e.lineStart();++t<r;)s=n[t],e.point(s[0],s[1],s[2]);e.lineEnd()}function St(n,e){var i=-1,t=n.length;for(e.polygonStart();++i<t;)De(n[i],e,1);e.polygonEnd()}function $n(n,e){n&&Mt.hasOwnProperty(n.type)?Mt[n.type](n,e):ve(n,e)}function je(n){return[Tn(n[1],n[0]),dn(n[2])]}function Nn(n){var e=n[0],i=n[1],t=H(i);return[t*H(e),t*O(e),O(i)]}function re(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function he(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function xe(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function oe(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function Fe(n){var e=vn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function Oe(n,e){function i(t,r){return t=n(t,r),e(t[0],t[1])}return n.invert&&e.invert&&(i.invert=function(t,r){return t=e.invert(t,r),t&&n.invert(t[0],t[1])}),i}function Be(n,e){return j(n)>L&&(n-=Math.round(n/en)*en),[n,e]}Be.invert=Be;function ii(n,e,i){return(n%=en)?e||i?Oe(bt(n),Pt(e,i)):bt(n):e||i?Pt(e,i):Be}function Ct(n){return function(e,i){return e+=n,j(e)>L&&(e-=Math.round(e/en)*en),[e,i]}}function bt(n){var e=Ct(n);return e.invert=Ct(-n),e}function Pt(n,e){var i=H(n),t=O(n),r=H(e),s=O(e);function l(u,d){var p=H(d),a=H(u)*p,o=O(u)*p,c=O(d),f=c*i+a*t;return[Tn(o*r-f*s,a*i-c*t),dn(f*r+o*s)]}return l.invert=function(u,d){var p=H(d),a=H(u)*p,o=O(u)*p,c=O(d),f=c*r-o*s;return[Tn(o*r+c*s,a*i+f*t),dn(f*i-a*t)]},l}function Er(n){n=ii(n[0]*V,n[1]*V,n.length>2?n[2]*V:0);function e(i){return i=n(i[0]*V,i[1]*V),i[0]*=nn,i[1]*=nn,i}return e.invert=function(i){return i=n.invert(i[0]*V,i[1]*V),i[0]*=nn,i[1]*=nn,i},e}function Sr(n,e,i,t,r,s){if(i){var l=H(e),u=O(e),d=t*i;r==null?(r=e+t*en,s=e-d/2):(r=$t(l,r),s=$t(l,s),(t>0?r<s:r>s)&&(r+=t*en));for(var p,a=r;t>0?a>s:a<s;a-=d)p=je([l,-u*H(a),-u*O(a)]),n.point(p[0],p[1])}}function $t(n,e){e=Nn(e),e[0]-=n,Fe(e);var i=Mr(-e[1]);return((-e[2]<0?-i:i)+en-z)%en}function ri(){var n=[],e;return{point:function(i,t,r){e.push([i,t,r])},lineStart:function(){n.push(e=[])},lineEnd:on,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],e=null,i}}}function pe(n,e){return j(n[0]-e[0])<z&&j(n[1]-e[1])<z}function ae(n,e,i,t){this.x=n,this.z=e,this.o=i,this.e=t,this.v=!1,this.n=this.p=null}function oi(n,e,i,t,r){var s=[],l=[],u,d;if(n.forEach(function(h){if(!((E=h.length-1)<=0)){var E,v=h[0],m=h[E],M;if(pe(v,m)){if(!v[2]&&!m[2]){for(r.lineStart(),u=0;u<E;++u)r.point((v=h[u])[0],v[1]);r.lineEnd();return}m[0]+=2*z}s.push(M=new ae(v,h,null,!0)),l.push(M.o=new ae(v,null,M,!1)),s.push(M=new ae(m,h,null,!1)),l.push(M.o=new ae(m,null,M,!0))}}),!!s.length){for(l.sort(e),Rt(s),Rt(l),u=0,d=l.length;u<d;++u)l[u].e=i=!i;for(var p=s[0],a,o;;){for(var c=p,f=!0;c.v;)if((c=c.n)===p)return;a=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(f)for(u=0,d=a.length;u<d;++u)r.point((o=a[u])[0],o[1]);else t(c.x,c.n.x,1,r);c=c.n}else{if(f)for(a=c.p.z,u=a.length-1;u>=0;--u)r.point((o=a[u])[0],o[1]);else t(c.x,c.p.x,-1,r);c=c.p}c=c.o,a=c.z,f=!f}while(!c.v);r.lineEnd()}}}function Rt(n){if(e=n.length){for(var e,i=0,t=n[0],r;++i<e;)t.n=r=n[i],r.p=t,t=r;t.n=r=n[0],r.p=t}}function Ae(n){return j(n[0])<=L?n[0]:_r(n[0])*((j(n[0])+L)%en-L)}function Cr(n,e){var i=Ae(e),t=e[1],r=O(t),s=[O(i),-H(i),0],l=0,u=0,d=new Sn;r===1?t=J+z:r===-1&&(t=-J-z);for(var p=0,a=n.length;p<a;++p)if(c=(o=n[p]).length)for(var o,c,f=o[c-1],h=Ae(f),E=f[1]/2+yt,v=O(E),m=H(E),M=0;M<c;++M,h=y,v=C,m=b,f=w){var w=o[M],y=Ae(w),$=w[1]/2+yt,C=O($),b=H($),A=y-h,k=A>=0?1:-1,x=k*A,R=x>L,W=v*C;if(d.add(Tn(W*k*O(x),m*b+W*H(x))),l+=R?A+k*en:A,R^h>=i^y>=i){var D=he(Nn(f),Nn(w));Fe(D);var G=he(s,D);Fe(G);var g=(R^A>=0?-1:1)*dn(G[2]);(t>g||t===g&&(D[0]||D[1]))&&(u+=R^A>=0?1:-1)}}return(l<-z||l<z&&d<-ei)^u&1}function ai(n,e,i,t){return function(r){var s=e(r),l=ri(),u=e(l),d=!1,p,a,o,c={point:f,lineStart:E,lineEnd:v,polygonStart:function(){c.point=m,c.lineStart=M,c.lineEnd=w,a=[],p=[]},polygonEnd:function(){c.point=f,c.lineStart=E,c.lineEnd=v,a=ni(a);var y=Cr(p,t);a.length?(d||(r.polygonStart(),d=!0),oi(a,Pr,y,i,r)):y&&(d||(r.polygonStart(),d=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),d&&(r.polygonEnd(),d=!1),a=p=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(y,$){n(y,$)&&r.point(y,$)}function h(y,$){s.point(y,$)}function E(){c.point=h,s.lineStart()}function v(){c.point=f,s.lineEnd()}function m(y,$){o.push([y,$]),u.point(y,$)}function M(){u.lineStart(),o=[]}function w(){m(o[0][0],o[0][1]),u.lineEnd();var y=u.clean(),$=l.result(),C,b=$.length,A,k,x;if(o.pop(),p.push(o),o=null,!!b){if(y&1){if(k=$[0],(A=k.length-1)>0){for(d||(r.polygonStart(),d=!0),r.lineStart(),C=0;C<A;++C)r.point((x=k[C])[0],x[1]);r.lineEnd()}return}b>1&&y&2&&$.push($.pop().concat($.shift())),a.push($.filter(br))}}return c}}function br(n){return n.length>1}function Pr(n,e){return((n=n.x)[0]<0?n[1]-J-z:J-n[1])-((e=e.x)[0]<0?e[1]-J-z:J-e[1])}const xt=ai(function(){return!0},$r,xr,[-L,-J]);function $r(n){var e=NaN,i=NaN,t=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(s,l){var u=s>0?L:-L,d=j(s-e);j(d-L)<z?(n.point(e,i=(i+l)/2>0?J:-J),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(u,i),n.point(s,i),r=0):t!==u&&d>=L&&(j(e-t)<z&&(e-=t*z),j(s-u)<z&&(s-=u*z),i=Rr(e,i,s,l),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(u,i),r=0),n.point(e=s,i=l),t=u},lineEnd:function(){n.lineEnd(),e=i=NaN},clean:function(){return 2-r}}}function Rr(n,e,i,t){var r,s,l=O(n-i);return j(l)>z?ti((O(e)*(s=H(t))*O(i)-O(t)*(r=H(e))*O(n))/(r*s*l)):(e+t)/2}function xr(n,e,i,t){var r;if(n==null)r=i*J,t.point(-L,r),t.point(0,r),t.point(L,r),t.point(L,0),t.point(L,-r),t.point(0,-r),t.point(-L,-r),t.point(-L,0),t.point(-L,r);else if(j(n[0]-e[0])>z){var s=n[0]<e[0]?L:-L;r=i*s/2,t.point(-s,r),t.point(0,r),t.point(s,r)}else t.point(e[0],e[1])}function Ar(n){var e=H(n),i=2*V,t=e>0,r=j(e)>z;function s(a,o,c,f){Sr(f,n,i,c,a,o)}function l(a,o){return H(a)*H(o)>e}function u(a){var o,c,f,h,E;return{lineStart:function(){h=f=!1,E=1},point:function(v,m){var M=[v,m],w,y=l(v,m),$=t?y?0:p(v,m):y?p(v+(v<0?L:-L),m):0;if(!o&&(h=f=y)&&a.lineStart(),y!==f&&(w=d(o,M),(!w||pe(o,w)||pe(M,w))&&(M[2]=1)),y!==f)E=0,y?(a.lineStart(),w=d(M,o),a.point(w[0],w[1])):(w=d(o,M),a.point(w[0],w[1],2),a.lineEnd()),o=w;else if(r&&o&&t^y){var C;!($&c)&&(C=d(M,o,!0))&&(E=0,t?(a.lineStart(),a.point(C[0][0],C[0][1]),a.point(C[1][0],C[1][1]),a.lineEnd()):(a.point(C[1][0],C[1][1]),a.lineEnd(),a.lineStart(),a.point(C[0][0],C[0][1],3)))}y&&(!o||!pe(o,M))&&a.point(M[0],M[1]),o=M,f=y,c=$},lineEnd:function(){f&&a.lineEnd(),o=null},clean:function(){return E|(h&&f)<<1}}}function d(a,o,c){var f=Nn(a),h=Nn(o),E=[1,0,0],v=he(f,h),m=re(v,v),M=v[0],w=m-M*M;if(!w)return!c&&a;var y=e*m/w,$=-e*M/w,C=he(E,v),b=oe(E,y),A=oe(v,$);xe(b,A);var k=C,x=re(b,k),R=re(k,k),W=x*x-R*(re(b,b)-1);if(!(W<0)){var D=vn(W),G=oe(k,(-x-D)/R);if(xe(G,b),G=je(G),!c)return G;var g=a[0],N=o[0],F=a[1],q=o[1],T;N<g&&(T=g,g=N,N=T);var _=N-g,P=j(_-L)<z,I=P||_<z;if(!P&&q<F&&(T=F,F=q,q=T),I?P?F+q>0^G[1]<(j(G[0]-g)<z?F:q):F<=G[1]&&G[1]<=q:_>L^(g<=G[0]&&G[0]<=N)){var B=oe(k,(-x+D)/R);return xe(B,b),[G,je(B)]}}}function p(a,o){var c=t?n:L-n,f=0;return a<-c?f|=1:a>c&&(f|=2),o<-c?f|=4:o>c&&(f|=8),f}return ai(l,u,s,t?[0,-n]:[-L,n-L])}function kr(n,e,i,t,r,s){var l=n[0],u=n[1],d=e[0],p=e[1],a=0,o=1,c=d-l,f=p-u,h;if(h=i-l,!(!c&&h>0)){if(h/=c,c<0){if(h<a)return;h<o&&(o=h)}else if(c>0){if(h>o)return;h>a&&(a=h)}if(h=r-l,!(!c&&h<0)){if(h/=c,c<0){if(h>o)return;h>a&&(a=h)}else if(c>0){if(h<a)return;h<o&&(o=h)}if(h=t-u,!(!f&&h>0)){if(h/=f,f<0){if(h<a)return;h<o&&(o=h)}else if(f>0){if(h>o)return;h>a&&(a=h)}if(h=s-u,!(!f&&h<0)){if(h/=f,f<0){if(h>o)return;h>a&&(a=h)}else if(f>0){if(h<a)return;h<o&&(o=h)}return a>0&&(n[0]=l+a*c,n[1]=u+a*f),o<1&&(e[0]=l+o*c,e[1]=u+o*f),!0}}}}}var Fn=1e9,se=-Fn;function Tr(n,e,i,t){function r(p,a){return n<=p&&p<=i&&e<=a&&a<=t}function s(p,a,o,c){var f=0,h=0;if(p==null||(f=l(p,o))!==(h=l(a,o))||d(p,a)<0^o>0)do c.point(f===0||f===3?n:i,f>1?t:e);while((f=(f+o+4)%4)!==h);else c.point(a[0],a[1])}function l(p,a){return j(p[0]-n)<z?a>0?0:3:j(p[0]-i)<z?a>0?2:1:j(p[1]-e)<z?a>0?1:0:a>0?3:2}function u(p,a){return d(p.x,a.x)}function d(p,a){var o=l(p,1),c=l(a,1);return o!==c?o-c:o===0?a[1]-p[1]:o===1?p[0]-a[0]:o===2?p[1]-a[1]:a[0]-p[0]}return function(p){var a=p,o=ri(),c,f,h,E,v,m,M,w,y,$,C,b={point:A,lineStart:W,lineEnd:D,polygonStart:x,polygonEnd:R};function A(g,N){r(g,N)&&a.point(g,N)}function k(){for(var g=0,N=0,F=f.length;N<F;++N)for(var q=f[N],T=1,_=q.length,P=q[0],I,B,Z=P[0],K=P[1];T<_;++T)I=Z,B=K,P=q[T],Z=P[0],K=P[1],B<=t?K>t&&(Z-I)*(t-B)>(K-B)*(n-I)&&++g:K<=t&&(Z-I)*(t-B)<(K-B)*(n-I)&&--g;return g}function x(){a=o,c=[],f=[],C=!0}function R(){var g=k(),N=C&&g,F=(c=ni(c)).length;(N||F)&&(p.polygonStart(),N&&(p.lineStart(),s(null,null,1,p),p.lineEnd()),F&&oi(c,u,g,s,p),p.polygonEnd()),a=p,c=f=h=null}function W(){b.point=G,f&&f.push(h=[]),$=!0,y=!1,M=w=NaN}function D(){c&&(G(E,v),m&&y&&o.rejoin(),c.push(o.result())),b.point=A,y&&a.lineEnd()}function G(g,N){var F=r(g,N);if(f&&h.push([g,N]),$)E=g,v=N,m=F,$=!1,F&&(a.lineStart(),a.point(g,N));else if(F&&y)a.point(g,N);else{var q=[M=Math.max(se,Math.min(Fn,M)),w=Math.max(se,Math.min(Fn,w))],T=[g=Math.max(se,Math.min(Fn,g)),N=Math.max(se,Math.min(Fn,N))];kr(q,T,n,e,i,t)?(y||(a.lineStart(),a.point(q[0],q[1])),a.point(T[0],T[1]),F||a.lineEnd(),C=!1):F&&(a.lineStart(),a.point(g,N),C=!1)}M=g,w=N,y=F}return b}}function At(n,e,i){var t=xn(n,e-z,i).concat(e);return function(r){return t.map(function(s){return[r,s]})}}function kt(n,e,i){var t=xn(n,e-z,i).concat(e);return function(r){return t.map(function(s){return[s,r]})}}function Nr(){var n,e,i,t,r,s,l,u,d=10,p=d,a=90,o=360,c,f,h,E,v=2.5;function m(){return{type:"MultiLineString",coordinates:M()}}function M(){return xn(ie(t/a)*a,i,a).map(h).concat(xn(ie(u/o)*o,l,o).map(E)).concat(xn(ie(e/d)*d,n,d).filter(function(w){return j(w%a)>z}).map(c)).concat(xn(ie(s/p)*p,r,p).filter(function(w){return j(w%o)>z}).map(f))}return m.lines=function(){return M().map(function(w){return{type:"LineString",coordinates:w}})},m.outline=function(){return{type:"Polygon",coordinates:[h(t).concat(E(l).slice(1),h(i).reverse().slice(1),E(u).reverse().slice(1))]}},m.extent=function(w){return arguments.length?m.extentMajor(w).extentMinor(w):m.extentMinor()},m.extentMajor=function(w){return arguments.length?(t=+w[0][0],i=+w[1][0],u=+w[0][1],l=+w[1][1],t>i&&(w=t,t=i,i=w),u>l&&(w=u,u=l,l=w),m.precision(v)):[[t,u],[i,l]]},m.extentMinor=function(w){return arguments.length?(e=+w[0][0],n=+w[1][0],s=+w[0][1],r=+w[1][1],e>n&&(w=e,e=n,n=w),s>r&&(w=s,s=r,r=w),m.precision(v)):[[e,s],[n,r]]},m.step=function(w){return arguments.length?m.stepMajor(w).stepMinor(w):m.stepMinor()},m.stepMajor=function(w){return arguments.length?(a=+w[0],o=+w[1],m):[a,o]},m.stepMinor=function(w){return arguments.length?(d=+w[0],p=+w[1],m):[d,p]},m.precision=function(w){return arguments.length?(v=+w,c=At(s,r,90),f=kt(e,n,v),h=At(u,l,90),E=kt(t,i,v),m):v},m.extentMajor([[-180,-90+z],[180,90-z]]).extentMinor([[-180,-80-z],[180,80+z]])}function Gr(){return Nr()()}const Ye=n=>n;var ke=new Sn,He=new Sn,si,li,We,Xe,fn={point:on,lineStart:on,lineEnd:on,polygonStart:function(){fn.lineStart=zr,fn.lineEnd=Lr},polygonEnd:function(){fn.lineStart=fn.lineEnd=fn.point=on,ke.add(j(He)),He=new Sn},result:function(){var n=ke/2;return ke=new Sn,n}};function zr(){fn.point=Ir}function Ir(n,e){fn.point=ci,si=We=n,li=Xe=e}function ci(n,e){He.add(Xe*n-We*e),We=n,Xe=e}function Lr(){ci(si,li)}var Gn=1/0,ge=Gn,Jn=-Gn,me=Jn,we={point:Dr,lineStart:on,lineEnd:on,polygonStart:on,polygonEnd:on,result:function(){var n=[[Gn,ge],[Jn,me]];return Jn=me=-(ge=Gn=1/0),n}};function Dr(n,e){n<Gn&&(Gn=n),n>Jn&&(Jn=n),e<ge&&(ge=e),e>me&&(me=e)}var qe=0,Ze=0,On=0,_e=0,ye=0,An=0,Ue=0,Ve=0,Bn=0,ui,fi,sn,ln,rn={point:Cn,lineStart:Tt,lineEnd:Nt,polygonStart:function(){rn.lineStart=Or,rn.lineEnd=Br},polygonEnd:function(){rn.point=Cn,rn.lineStart=Tt,rn.lineEnd=Nt},result:function(){var n=Bn?[Ue/Bn,Ve/Bn]:An?[_e/An,ye/An]:On?[qe/On,Ze/On]:[NaN,NaN];return qe=Ze=On=_e=ye=An=Ue=Ve=Bn=0,n}};function Cn(n,e){qe+=n,Ze+=e,++On}function Tt(){rn.point=jr}function jr(n,e){rn.point=Fr,Cn(sn=n,ln=e)}function Fr(n,e){var i=n-sn,t=e-ln,r=vn(i*i+t*t);_e+=r*(sn+n)/2,ye+=r*(ln+e)/2,An+=r,Cn(sn=n,ln=e)}function Nt(){rn.point=Cn}function Or(){rn.point=Yr}function Br(){pi(ui,fi)}function Yr(n,e){rn.point=pi,Cn(ui=sn=n,fi=ln=e)}function pi(n,e){var i=n-sn,t=e-ln,r=vn(i*i+t*t);_e+=r*(sn+n)/2,ye+=r*(ln+e)/2,An+=r,r=ln*n-sn*e,Ue+=r*(sn+n),Ve+=r*(ln+e),Bn+=r*3,Cn(sn=n,ln=e)}function di(n){this._context=n}di.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,en);break}}},result:on};var Ke=new Sn,Te,vi,hi,Yn,Hn,ne={point:on,lineStart:function(){ne.point=Hr},lineEnd:function(){Te&&gi(vi,hi),ne.point=on},polygonStart:function(){Te=!0},polygonEnd:function(){Te=null},result:function(){var n=+Ke;return Ke=new Sn,n}};function Hr(n,e){ne.point=gi,vi=Yn=n,hi=Hn=e}function gi(n,e){Yn-=n,Hn-=e,Ke.add(vn(Yn*Yn+Hn*Hn)),Yn=n,Hn=e}let Gt,Me,zt,It;class Lt{constructor(e){this._append=e==null?mi:Wr(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==zt||this._append!==Me){const t=this._radius,r=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,zt=t,Me=this._append,It=this._,this._=r}this._+=It;break}}}result(){const e=this._;return this._="",e.length?e:null}}function mi(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=arguments[e]+n[e]}function Wr(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return mi;if(e!==Gt){const i=10**e;Gt=e,Me=function(r){let s=1;this._+=r[0];for(const l=r.length;s<l;++s)this._+=Math.round(arguments[s]*i)/i+r[s]}}return Me}function Xr(n,e){let i=3,t=4.5,r,s;function l(u){return u&&(typeof t=="function"&&s.pointRadius(+t.apply(this,arguments)),$n(u,r(s))),s.result()}return l.area=function(u){return $n(u,r(fn)),fn.result()},l.measure=function(u){return $n(u,r(ne)),ne.result()},l.bounds=function(u){return $n(u,r(we)),we.result()},l.centroid=function(u){return $n(u,r(rn)),rn.result()},l.projection=function(u){return arguments.length?(r=u==null?(n=null,Ye):(n=u).stream,l):n},l.context=function(u){return arguments.length?(s=u==null?(e=null,new Lt(i)):new di(e=u),typeof t!="function"&&s.pointRadius(t),l):e},l.pointRadius=function(u){return arguments.length?(t=typeof u=="function"?u:(s.pointRadius(+u),+u),l):t},l.digits=function(u){if(!arguments.length)return i;if(u==null)i=null;else{const d=Math.floor(u);if(!(d>=0))throw new RangeError(`invalid digits: ${u}`);i=d}return e===null&&(s=new Lt(i)),l},l.projection(n).digits(i).context(e)}function lt(n){return function(e){var i=new Qe;for(var t in n)i[t]=n[t];return i.stream=e,i}}function Qe(){}Qe.prototype={constructor:Qe,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ct(n,e,i){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),$n(i,n.stream(we)),e(we.result()),t!=null&&n.clipExtent(t),n}function wi(n,e,i){return ct(n,function(t){var r=e[1][0]-e[0][0],s=e[1][1]-e[0][1],l=Math.min(r/(t[1][0]-t[0][0]),s/(t[1][1]-t[0][1])),u=+e[0][0]+(r-l*(t[1][0]+t[0][0]))/2,d=+e[0][1]+(s-l*(t[1][1]+t[0][1]))/2;n.scale(150*l).translate([u,d])},i)}function qr(n,e,i){return wi(n,[[0,0],e],i)}function Zr(n,e,i){return ct(n,function(t){var r=+e,s=r/(t[1][0]-t[0][0]),l=(r-s*(t[1][0]+t[0][0]))/2,u=-s*t[0][1];n.scale(150*s).translate([l,u])},i)}function Ur(n,e,i){return ct(n,function(t){var r=+e,s=r/(t[1][1]-t[0][1]),l=-s*t[0][0],u=(r-s*(t[1][1]+t[0][1]))/2;n.scale(150*s).translate([l,u])},i)}var Dt=16,Vr=H(30*V);function jt(n,e){return+e?Qr(n,e):Kr(n)}function Kr(n){return lt({point:function(e,i){e=n(e,i),this.stream.point(e[0],e[1])}})}function Qr(n,e){function i(t,r,s,l,u,d,p,a,o,c,f,h,E,v){var m=p-t,M=a-r,w=m*m+M*M;if(w>4*e&&E--){var y=l+c,$=u+f,C=d+h,b=vn(y*y+$*$+C*C),A=dn(C/=b),k=j(j(C)-1)<z||j(s-o)<z?(s+o)/2:Tn($,y),x=n(k,A),R=x[0],W=x[1],D=R-t,G=W-r,g=M*D-m*G;(g*g/w>e||j((m*D+M*G)/w-.5)>.3||l*c+u*f+d*h<Vr)&&(i(t,r,s,l,u,d,R,W,k,y/=b,$/=b,C,E,v),v.point(R,W),i(R,W,k,y,$,C,p,a,o,c,f,h,E,v))}}return function(t){var r,s,l,u,d,p,a,o,c,f,h,E,v={point:m,lineStart:M,lineEnd:y,polygonStart:function(){t.polygonStart(),v.lineStart=$},polygonEnd:function(){t.polygonEnd(),v.lineStart=M}};function m(A,k){A=n(A,k),t.point(A[0],A[1])}function M(){o=NaN,v.point=w,t.lineStart()}function w(A,k){var x=Nn([A,k]),R=n(A,k);i(o,c,a,f,h,E,o=R[0],c=R[1],a=A,f=x[0],h=x[1],E=x[2],Dt,t),t.point(o,c)}function y(){v.point=m,t.lineEnd()}function $(){M(),v.point=C,v.lineEnd=b}function C(A,k){w(r=A,k),s=o,l=c,u=f,d=h,p=E,v.point=w}function b(){i(o,c,a,f,h,E,s,l,r,u,d,p,Dt,t),v.lineEnd=y,y()}return v}}var Jr=lt({point:function(n,e){this.stream.point(n*V,e*V)}});function no(n){return lt({point:function(e,i){var t=n(e,i);return this.stream.point(t[0],t[1])}})}function eo(n,e,i,t,r){function s(l,u){return l*=t,u*=r,[e+n*l,i-n*u]}return s.invert=function(l,u){return[(l-e)/n*t,(i-u)/n*r]},s}function Ft(n,e,i,t,r,s){if(!s)return eo(n,e,i,t,r);var l=H(s),u=O(s),d=l*n,p=u*n,a=l/n,o=u/n,c=(u*i-l*e)/n,f=(u*e+l*i)/n;function h(E,v){return E*=t,v*=r,[d*E-p*v+e,i-p*E-d*v]}return h.invert=function(E,v){return[t*(a*E-o*v+c),r*(f-o*E-a*v)]},h}function te(n){return to(function(){return n})()}function to(n){var e,i=150,t=480,r=250,s=0,l=0,u=0,d=0,p=0,a,o=0,c=1,f=1,h=null,E=xt,v=null,m,M,w,y=Ye,$=.5,C,b,A,k,x;function R(g){return A(g[0]*V,g[1]*V)}function W(g){return g=A.invert(g[0],g[1]),g&&[g[0]*nn,g[1]*nn]}R.stream=function(g){return k&&x===g?k:k=Jr(no(a)(E(C(y(x=g)))))},R.preclip=function(g){return arguments.length?(E=g,h=void 0,G()):E},R.postclip=function(g){return arguments.length?(y=g,v=m=M=w=null,G()):y},R.clipAngle=function(g){return arguments.length?(E=+g?Ar(h=g*V):(h=null,xt),G()):h*nn},R.clipExtent=function(g){return arguments.length?(y=g==null?(v=m=M=w=null,Ye):Tr(v=+g[0][0],m=+g[0][1],M=+g[1][0],w=+g[1][1]),G()):v==null?null:[[v,m],[M,w]]},R.scale=function(g){return arguments.length?(i=+g,D()):i},R.translate=function(g){return arguments.length?(t=+g[0],r=+g[1],D()):[t,r]},R.center=function(g){return arguments.length?(s=g[0]%360*V,l=g[1]%360*V,D()):[s*nn,l*nn]},R.rotate=function(g){return arguments.length?(u=g[0]%360*V,d=g[1]%360*V,p=g.length>2?g[2]%360*V:0,D()):[u*nn,d*nn,p*nn]},R.angle=function(g){return arguments.length?(o=g%360*V,D()):o*nn},R.reflectX=function(g){return arguments.length?(c=g?-1:1,D()):c<0},R.reflectY=function(g){return arguments.length?(f=g?-1:1,D()):f<0},R.precision=function(g){return arguments.length?(C=jt(b,$=g*g),G()):vn($)},R.fitExtent=function(g,N){return wi(R,g,N)},R.fitSize=function(g,N){return qr(R,g,N)},R.fitWidth=function(g,N){return Zr(R,g,N)},R.fitHeight=function(g,N){return Ur(R,g,N)};function D(){var g=Ft(i,0,0,c,f,o).apply(null,e(s,l)),N=Ft(i,t-g[0],r-g[1],c,f,o);return a=ii(u,d,p),b=Oe(e,N),A=Oe(a,b),C=jt(b,$),G()}function G(){return k=x=null,R}return function(){return e=n.apply(this,arguments),R.invert=e.invert&&W,D()}}function io(n){return function(e,i){var t=vn(e*e+i*i),r=n(t),s=O(r),l=H(r);return[Tn(e*s,t*l),dn(t&&i*s/t)]}}function ut(n,e){return[n,wr(yr((J+e)/2))]}ut.invert=function(n,e){return[n,2*ti(mr(e))-J]};function ro(){return oo(ut).scale(961/en)}function oo(n){var e=te(n),i=e.center,t=e.scale,r=e.translate,s=e.clipExtent,l=null,u,d,p;e.scale=function(o){return arguments.length?(t(o),a()):t()},e.translate=function(o){return arguments.length?(r(o),a()):r()},e.center=function(o){return arguments.length?(i(o),a()):i()},e.clipExtent=function(o){return arguments.length?(o==null?l=u=d=p=null:(l=+o[0][0],u=+o[0][1],d=+o[1][0],p=+o[1][1]),a()):l==null?null:[[l,u],[d,p]]};function a(){var o=L*t(),c=e(Er(e.rotate()).invert([0,0]));return s(l==null?[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]:n===ut?[[Math.max(c[0]-o,l),u],[Math.min(c[0]+o,d),p]]:[[l,Math.max(c[1]-o,u)],[d,Math.min(c[1]+o,p)]])}return a()}function Je(n,e){return[n,e]}Je.invert=Je;function ao(){return te(Je).scale(152.63)}var Un=1.340264,Vn=-.081106,Kn=893e-6,Qn=.003796,Ee=vn(3)/2,so=12;function _i(n,e){var i=dn(Ee*O(e)),t=i*i,r=t*t*t;return[n*H(i)/(Ee*(Un+3*Vn*t+r*(7*Kn+9*Qn*t))),i*(Un+Vn*t+r*(Kn+Qn*t))]}_i.invert=function(n,e){for(var i=e,t=i*i,r=t*t*t,s=0,l,u,d;s<so&&(u=i*(Un+Vn*t+r*(Kn+Qn*t))-e,d=Un+3*Vn*t+r*(7*Kn+9*Qn*t),i-=l=u/d,t=i*i,r=t*t*t,!(j(l)<ei));++s);return[Ee*n*(Un+3*Vn*t+r*(7*Kn+9*Qn*t))/H(i),dn(O(i)/Ee)]};function lo(){return te(_i).scale(177.158)}function yi(n,e){var i=e*e,t=i*i;return[n*(.8707-.131979*i+t*(-.013791+t*(.003971*i-.001529*t))),e*(1.007226+i*(.015085+t*(-.044475+.028874*i-.005916*t)))]}yi.invert=function(n,e){var i=e,t=25,r;do{var s=i*i,l=s*s;i-=r=(i*(1.007226+s*(.015085+l*(-.044475+.028874*s-.005916*l)))-e)/(1.007226+s*(.015085*3+l*(-.044475*7+.028874*9*s-.005916*11*l)))}while(j(r)>z&&--t>0);return[n/(.8707+(s=i*i)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),i]};function co(){return te(yi).scale(175.295)}function Mi(n,e){return[H(e)*O(n),O(e)]}Mi.invert=io(dn);function uo(){return te(Mi).scale(249.5).clipAngle(90+z)}var zn=0,Wn=0,Ln=0,Ei=1e3,Se,Xn,Ce=0,bn=0,Pe=0,ee=typeof performance=="object"&&performance.now?performance:Date,Si=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Ci(){return bn||(Si(fo),bn=ee.now()+Pe)}function fo(){bn=0}function nt(){this._call=this._time=this._next=null}nt.prototype=bi.prototype={constructor:nt,restart:function(n,e,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?Ci():+i)+(e==null?0:+e),!this._next&&Xn!==this&&(Xn?Xn._next=this:Se=this,Xn=this),this._call=n,this._time=i,et()},stop:function(){this._call&&(this._call=null,this._time=1/0,et())}};function bi(n,e,i){var t=new nt;return t.restart(n,e,i),t}function po(){Ci(),++zn;for(var n=Se,e;n;)(e=bn-n._time)>=0&&n._call.call(void 0,e),n=n._next;--zn}function Ot(){bn=(Ce=ee.now())+Pe,zn=Wn=0;try{po()}finally{zn=0,ho(),bn=0}}function vo(){var n=ee.now(),e=n-Ce;e>Ei&&(Pe-=e,Ce=n)}function ho(){for(var n,e=Se,i,t=1/0;e;)e._call?(t>e._time&&(t=e._time),n=e,e=e._next):(i=e._next,e._next=null,e=n?n._next=i:Se=i);Xn=n,et(t)}function et(n){if(!zn){Wn&&(Wn=clearTimeout(Wn));var e=n-bn;e>24?(n<1/0&&(Wn=setTimeout(Ot,n-ee.now()-Pe)),Ln&&(Ln=clearInterval(Ln))):(Ln||(Ce=ee.now(),Ln=setInterval(vo,Ei)),zn=1,Si(Ot))}}function go(n){return n}function mo(n){if(n==null)return go;var e,i,t=n.scale[0],r=n.scale[1],s=n.translate[0],l=n.translate[1];return function(u,d){d||(e=i=0);var p=2,a=u.length,o=new Array(a);for(o[0]=(e+=u[0])*t+s,o[1]=(i+=u[1])*r+l;p<a;)o[p]=u[p],++p;return o}}function wo(n,e){for(var i,t=n.length,r=t-e;r<--t;)i=n[r],n[r++]=n[t],n[t]=i}function Bt(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return Yt(n,i)})}:Yt(n,e)}function Yt(n,e){var i=e.id,t=e.bbox,r=e.properties==null?{}:e.properties,s=Pi(n,e);return i==null&&t==null?{type:"Feature",properties:r,geometry:s}:t==null?{type:"Feature",id:i,properties:r,geometry:s}:{type:"Feature",id:i,bbox:t,properties:r,geometry:s}}function Pi(n,e){var i=mo(n.transform),t=n.arcs;function r(a,o){o.length&&o.pop();for(var c=t[a<0?~a:a],f=0,h=c.length;f<h;++f)o.push(i(c[f],f));a<0&&wo(o,h)}function s(a){return i(a)}function l(a){for(var o=[],c=0,f=a.length;c<f;++c)r(a[c],o);return o.length<2&&o.push(o[0]),o}function u(a){for(var o=l(a);o.length<4;)o.push(o[0]);return o}function d(a){return a.map(u)}function p(a){var o=a.type,c;switch(o){case"GeometryCollection":return{type:o,geometries:a.geometries.map(p)};case"Point":c=s(a.coordinates);break;case"MultiPoint":c=a.coordinates.map(s);break;case"LineString":c=l(a.arcs);break;case"MultiLineString":c=a.arcs.map(l);break;case"Polygon":c=d(a.arcs);break;case"MultiPolygon":c=a.arcs.map(d);break;default:return null}return{type:o,coordinates:c}}return p(e)}function _o(n,e){var i={},t={},r={},s=[],l=-1;e.forEach(function(p,a){var o=n.arcs[p<0?~p:p],c;o.length<3&&!o[1][0]&&!o[1][1]&&(c=e[++l],e[l]=p,e[a]=c)}),e.forEach(function(p){var a=u(p),o=a[0],c=a[1],f,h;if(f=r[o])if(delete r[f.end],f.push(p),f.end=c,h=t[c]){delete t[h.start];var E=h===f?f:f.concat(h);t[E.start=f.start]=r[E.end=h.end]=E}else t[f.start]=r[f.end]=f;else if(f=t[c])if(delete t[f.start],f.unshift(p),f.start=o,h=r[o]){delete r[h.end];var v=h===f?f:h.concat(f);t[v.start=h.start]=r[v.end=f.end]=v}else t[f.start]=r[f.end]=f;else f=[p],t[f.start=o]=r[f.end=c]=f});function u(p){var a=n.arcs[p<0?~p:p],o=a[0],c;return n.transform?(c=[0,0],a.forEach(function(f){c[0]+=f[0],c[1]+=f[1]})):c=a[a.length-1],p<0?[c,o]:[o,c]}function d(p,a){for(var o in p){var c=p[o];delete a[c.start],delete c.start,delete c.end,c.forEach(function(f){i[f<0?~f:f]=1}),s.push(c)}}return d(r,t),d(t,r),e.forEach(function(p){i[p<0?~p:p]||s.push([p])}),s}function yo(n){return Pi(n,Mo.apply(this,arguments))}function Mo(n,e,i){var t,r,s;if(arguments.length>1)t=Eo(n,e,i);else for(r=0,t=new Array(s=n.arcs.length);r<s;++r)t[r]=r;return{type:"MultiLineString",arcs:_o(n,t)}}function Eo(n,e,i){var t=[],r=[],s;function l(o){var c=o<0?~o:o;(r[c]||(r[c]=[])).push({i:o,g:s})}function u(o){o.forEach(l)}function d(o){o.forEach(u)}function p(o){o.forEach(d)}function a(o){switch(s=o,o.type){case"GeometryCollection":o.geometries.forEach(a);break;case"LineString":u(o.arcs);break;case"MultiLineString":case"Polygon":d(o.arcs);break;case"MultiPolygon":p(o.arcs);break}}return a(e),r.forEach(i==null?function(o){t.push(o[0].i)}:function(o){i(o[0].g,o[o.length-1].g)&&t.push(o[0].i)}),t}const tt=[{id:"orthographic",name:"Globe",description:"3D spherical view",preserves:"True shape (no distortion)",factory:()=>uo()},{id:"mercator",name:"Mercator",description:"Standard web map",preserves:"Angles & shapes",factory:()=>ro()},{id:"equalEarth",name:"Equal Earth",description:"Modern equal-area",preserves:"Area (sizes)",factory:()=>lo()},{id:"naturalEarth1",name:"Natural Earth",description:"Balanced compromise",preserves:"Nothing perfectly",factory:()=>co()},{id:"equirectangular",name:"Plate Carrée",description:"Simple lat/lon grid",preserves:"Distances on meridians",factory:()=>ao()}],be=Pn("orthographic"),kn=Pn([0,-20,0]),yn=Pn(1),le=Pn([0,0]),Mn=Pn(!0),$i=Jt(be,n=>tt.find(e=>e.id===n)||tt[0]),Ri=Jt(be,n=>n==="orthographic");var So=cn('<div class="canvas-container"><canvas></canvas></div>');function Co(n,e){rt(e,!0);const i=()=>tn(Ri,"$isGlobe",d),t=()=>tn(kn,"$rotation",d),r=()=>tn(le,"$panOffset",d),s=()=>tn(Mn,"$autoRotate",d),l=()=>tn($i,"$currentProjectionConfig",d),u=()=>tn(yn,"$scale",d),[d,p]=st();let a,o,c=Rn(0),f=Rn(0),h=Rn(null),E=Rn(!1),v=[0,0],m=[0,0,0],M=[0,0],w=0,y=!1,$=[0,0,0];function C(_){if(_.length<2)return 0;const P=_[1].clientX-_[0].clientX,I=_[1].clientY-_[0].clientY;return Math.sqrt(P*P+I*I)}function b(_){return _.length<2?[_[0].clientX,_[0].clientY]:[(_[0].clientX+_[1].clientX)/2,(_[0].clientY+_[1].clientY)/2]}function A(_){_.preventDefault(),y=!0,_.touches.length===1?(v=[_.touches[0].clientX,_.touches[0].clientY],i()?($=[...t()],Mn.set(!1)):M=[...r()]):_.touches.length===2&&(w=C(_.touches),b(_.touches))}function k(_){if(_.preventDefault(),!!y){if(_.touches.length===1){const P=_.touches[0].clientX-v[0],I=_.touches[0].clientY-v[1];i()?kn.set([$[0]+P*.3,Math.max(-90,Math.min(90,$[1]-I*.3)),$[2]]):le.set([M[0]+P,M[1]+I])}else if(_.touches.length===2){const P=C(_.touches);if(w>0){const I=P/w;yn.update(B=>Math.max(.5,Math.min(5,B*I)))}w=P}}}function x(_){_.touches.length===0?(y=!1,w=0):_.touches.length===1&&(v=[_.touches[0].clientX,_.touches[0].clientY],$=[...t()],w=0)}const R={water:"#1a3a5c",land:"#2d5a3d",graticule:"rgba(255, 255, 255, 0.12)",border:"rgba(255, 255, 255, 0.25)",atmosphere:"rgba(100, 150, 255, 0.15)"};gt(()=>{i()&&le.set([0,0])}),rr(async()=>{console.log("[GlobeCanvas] onMount called"),console.log("[GlobeCanvas] canvas element:",a),console.log("[GlobeCanvas] canvas.parentElement:",a?.parentElement);try{console.log("[GlobeCanvas] Fetching world data...");const _=await fetch("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json");console.log("[GlobeCanvas] Fetch response:",_.status,_.ok);const P=await _.json();console.log("[GlobeCanvas] Topology loaded:",Object.keys(P)),console.log("[GlobeCanvas] topology.objects:",Object.keys(P.objects)),un(h,{land:Bt(P,P.objects.land),countries:Bt(P,P.objects.countries),borders:yo(P,P.objects.countries,(Z,K)=>Z!==K)},!0),console.log("[GlobeCanvas] worldData set:",!!S(h).land,!!S(h).countries,!!S(h).borders),o=a.getContext("2d"),console.log("[GlobeCanvas] Canvas context:",o),W();const I=bi(Z=>{s()&&i()&&!S(E)&&kn.update(K=>[(K[0]+.1)%360,K[1],K[2]])}),B=new ResizeObserver(()=>{console.log("[GlobeCanvas] ResizeObserver triggered"),W()});return B.observe(a.parentElement),()=>{I.stop(),B.disconnect()}}catch(_){console.error("[GlobeCanvas] Error in onMount:",_)}});function W(){const _=a?.parentElement;if(console.log("[GlobeCanvas] handleResize - parent:",_),!_){console.error("[GlobeCanvas] No parent element!");return}const P=_.getBoundingClientRect();if(console.log("[GlobeCanvas] handleResize - rect:",P.width,P.height),un(c,P.width,!0),un(f,P.height,!0),S(c)===0||S(f)===0){console.warn("[GlobeCanvas] Zero dimensions!",{width:S(c),height:S(f)});return}a.width=S(c)*window.devicePixelRatio,a.height=S(f)*window.devicePixelRatio,console.log("[GlobeCanvas] Canvas size set:",a.width,a.height),o&&(o.scale(window.devicePixelRatio,window.devicePixelRatio),console.log("[GlobeCanvas] Context scaled by:",window.devicePixelRatio))}function D(){const _=l();console.log("[GlobeCanvas] createProjection - config:",_?.id);const P=_.factory(),I=Math.min(S(c),S(f))/2.2;return console.log("[GlobeCanvas] createProjection - baseScale:",I,"width:",S(c),"height:",S(f)),i()?P.translate([S(c)/2,S(f)/2]).scale(I*u()).rotate(t()).clipAngle(90):P.translate([S(c)/2+r()[0],S(f)/2+r()[1]]).scale(I*u()),console.log("[GlobeCanvas] Projection created - scale:",P.scale(),"translate:",P.translate()),P}gt(()=>{if(console.log("[GlobeCanvas] $effect triggered - ctx:",!!o,"worldData:",!!S(h),"width:",S(c),"height:",S(f)),!o||!S(h)){console.log("[GlobeCanvas] $effect early return - missing ctx or worldData");return}if(S(c)===0||S(f)===0){console.log("[GlobeCanvas] $effect early return - zero dimensions");return}console.log("[GlobeCanvas] Drawing map...");const _=D(),P=Xr(_,o),I=Gr();if(o.clearRect(0,0,S(c),S(f)),i()&&_([0,0])){const Z=o.createRadialGradient(S(c)/2,S(f)/2,_.scale()*.9,S(c)/2,S(f)/2,_.scale()*1.1);Z.addColorStop(0,"transparent"),Z.addColorStop(.5,R.atmosphere),Z.addColorStop(1,"transparent"),o.beginPath(),o.arc(S(c)/2,S(f)/2,_.scale()*1.1,0,Math.PI*2),o.fillStyle=Z,o.fill()}o.beginPath(),i()?o.arc(S(c)/2,S(f)/2,_.scale(),0,Math.PI*2):P({type:"Sphere"}),o.fillStyle=R.water,o.fill(),console.log("[GlobeCanvas] Drew water/sphere"),o.beginPath(),P(I),o.strokeStyle=R.graticule,o.lineWidth=.5,o.stroke(),console.log("[GlobeCanvas] Drew graticule"),o.beginPath(),P(S(h).land),o.fillStyle=R.land,o.fill(),console.log("[GlobeCanvas] Drew land"),o.beginPath(),P(S(h).borders),o.strokeStyle=R.border,o.lineWidth=.5,o.stroke(),i()&&(o.beginPath(),o.arc(S(c)/2,S(f)/2,_.scale(),0,Math.PI*2),o.strokeStyle="rgba(255, 255, 255, 0.2)",o.lineWidth=1,o.stroke()),console.log("[GlobeCanvas] Drawing complete!")});function G(_){un(E,!0),v=[_.clientX,_.clientY],i()?(m=[...t()],Mn.set(!1)):M=[...r()]}function g(_){if(!S(E))return;const P=_.clientX-v[0],I=_.clientY-v[1];i()?kn.set([m[0]+P*.3,Math.max(-90,Math.min(90,m[1]-I*.3)),m[2]]):le.set([M[0]+P,M[1]+I])}function N(){un(E,!1)}function F(_){_.preventDefault();const P=_.deltaY>0?.9:1.1;yn.update(I=>Math.max(.5,Math.min(5,I*P)))}var q=So(),T=X(q);T.__mousedown=G,T.__mousemove=g,T.__mouseup=N,T.__touchstart=A,T.__touchmove=k,T.__touchend=x,ir(T,_=>a=_,()=>a),Y(q),En(()=>fr(T,`cursor: ${S(E)?"grabbing":"grab"}; touch-action: none;`)),ue("mouseleave",T,N),ue("wheel",T,F),ue("touchcancel",T,x),an(n,q),ot(),p()}at(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"]);const bo=[{id:"cultural",name:"Cultural Maps",description:"Languages, religions, and civilizations",icon:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",maps:[{id:"languages",name:"World Languages",description:"Language families and distribution"},{id:"religions",name:"World Religions",description:"Major religions by region"},{id:"ethnicities",name:"Ethnic Groups",description:"Major ethnic distributions"},{id:"alphabets",name:"Writing Systems",description:"Scripts and alphabets worldwide"},{id:"civilizations",name:"Historical Civilizations",description:"Ancient empires and kingdoms"}]},{id:"language",name:"Language Maps",description:"Linguistic families and dialects",icon:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129",maps:[{id:"indo-european",name:"Indo-European",description:"IE language family tree"},{id:"sino-tibetan",name:"Sino-Tibetan",description:"Chinese and Tibetan languages"},{id:"afroasiatic",name:"Afroasiatic",description:"Semitic, Berber, Cushitic"},{id:"niger-congo",name:"Niger-Congo",description:"Bantu and West African"},{id:"austronesian",name:"Austronesian",description:"Pacific and Southeast Asian"},{id:"endangered",name:"Endangered Languages",description:"Languages at risk of extinction"}]},{id:"terrain",name:"Terrain Maps",description:"Physical geography and landforms",icon:"M3 17l6-6 4 4 8-8M14 7h7v7",maps:[{id:"elevation",name:"Elevation",description:"Global topography and relief"},{id:"mountains",name:"Mountain Ranges",description:"Major peaks and ranges"},{id:"rivers",name:"River Systems",description:"Major rivers and watersheds"},{id:"deserts",name:"Deserts",description:"Arid regions worldwide"},{id:"forests",name:"Forests",description:"Forest types and coverage"},{id:"tectonic",name:"Tectonic Plates",description:"Plate boundaries and activity"}]},{id:"climate",name:"Climate Maps",description:"Weather patterns and climate zones",icon:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z",maps:[{id:"koppen",name:"Köppen Climate",description:"Climate classification zones"},{id:"temperature",name:"Temperature",description:"Average temperatures"},{id:"precipitation",name:"Precipitation",description:"Rainfall and snowfall"},{id:"ocean-currents",name:"Ocean Currents",description:"Major ocean circulation"},{id:"wind-patterns",name:"Wind Patterns",description:"Trade winds and jet streams"}]},{id:"political",name:"Political Maps",description:"Countries, borders, and governance",icon:"M3 21V3h18v18H3zM9 3v18M3 9h18M3 15h18",maps:[{id:"countries",name:"Countries",description:"Current national boundaries"},{id:"territories",name:"Territories",description:"Dependencies and disputed areas"},{id:"capitals",name:"Capital Cities",description:"National capitals"},{id:"timezones",name:"Time Zones",description:"Global time zone divisions"},{id:"historical-borders",name:"Historical Borders",description:"Borders through history"}]},{id:"population",name:"Population Maps",description:"Demographics and human settlement",icon:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M9 11a4 4 0 100-8 4 4 0 000 8zM23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75",maps:[{id:"density",name:"Population Density",description:"People per square km"},{id:"cities",name:"Major Cities",description:"Urban centers by population"},{id:"growth",name:"Population Growth",description:"Growth rates by country"},{id:"migration",name:"Migration Patterns",description:"Human movement flows"},{id:"urbanization",name:"Urbanization",description:"Urban vs rural populations"}]},{id:"economic",name:"Economic Maps",description:"Trade, resources, and development",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",maps:[{id:"gdp",name:"GDP by Country",description:"Gross domestic product"},{id:"trade-routes",name:"Trade Routes",description:"Major shipping lanes"},{id:"resources",name:"Natural Resources",description:"Oil, gas, minerals"},{id:"agriculture",name:"Agriculture",description:"Farming and crops"},{id:"internet",name:"Internet Connectivity",description:"Global internet access"}]},{id:"historical",name:"Historical Maps",description:"Maps through time",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",maps:[{id:"ancient-world",name:"Ancient World (3000 BCE)",description:"Early civilizations"},{id:"roman-empire",name:"Roman Empire (117 CE)",description:"Maximum extent"},{id:"medieval",name:"Medieval World (1200 CE)",description:"Kingdoms and empires"},{id:"colonial",name:"Colonial Era (1914)",description:"European empires"},{id:"cold-war",name:"Cold War (1960)",description:"East vs West"},{id:"world-wars",name:"World War Fronts",description:"WWI and WWII"}]},{id:"environmental",name:"Environmental Maps",description:"Ecosystems and conservation",icon:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z",maps:[{id:"biomes",name:"Biomes",description:"Major ecosystem types"},{id:"protected-areas",name:"Protected Areas",description:"National parks and reserves"},{id:"deforestation",name:"Deforestation",description:"Forest loss over time"},{id:"biodiversity",name:"Biodiversity Hotspots",description:"Species-rich regions"},{id:"pollution",name:"Air Quality",description:"Global pollution levels"}]}],Ht=Pn(null),Wt=Pn(null);var Po=cn('<button class="menu-overlay" aria-label="Close menu" tabindex="-1"></button>'),$o=cn('<button><span class="menu-map-name"> </span> <span class="menu-map-desc"> </span></button>'),Ro=cn('<div class="menu-category-content"></div>'),xo=cn('<div class="menu-category"><button><div class="menu-category-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path></path></svg></div> <div class="menu-category-info"><span class="menu-category-name"> </span> <span class="menu-category-desc"> </span></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></button> <!></div>'),Ao=cn('<button><span class="menu-toggle-bar"></span> <span class="menu-toggle-bar"></span> <span class="menu-toggle-bar"></span></button> <!> <nav aria-label="Map categories"><div class="side-menu-header"><h2 class="side-menu-title">Maps</h2> <span class="side-menu-subtitle">Geographic Visualization</span></div> <div class="side-menu-content"><a href="/mymaps" class="menu-link" data-sveltekit-reload=""><div class="menu-link-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></div> <div class="menu-link-info"><span class="menu-link-name">MyMaps</span> <span class="menu-link-desc">Interactive map explorer</span></div> <svg class="menu-link-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"></path></svg></a> <div class="menu-divider"></div> <!></div> <div class="side-menu-footer"><span class="footer-text">d3-geo visualization</span></div></nav>',1);function ko(n,e){rt(e,!0);const i=()=>tn(Ht,"$selectedCategory",r),t=()=>tn(Wt,"$selectedMap",r),[r,s]=st();let l=Rn(!1);function u(){un(l,!S(l))}function d(){un(l,!1)}function p(C){C.key==="Escape"&&S(l)&&d()}function a(C){Ht.update(b=>b===C?null:C)}function o(C,b){Wt.set(b),console.log(`Selected map: ${C}/${b}`)}var c=Ao();ue("keydown",Ji,p);var f=Qt(c);let h;f.__click=u;var E=U(f,2);{var v=C=>{var b=Po();b.__click=d,an(C,b)};de(E,C=>{S(l)&&C(v)})}var m=U(E,2);let M;var w=U(X(m),2),y=X(w);y.__click=d;var $=U(y,4);Le($,17,()=>bo,ze,(C,b)=>{var A=xo(),k=X(A);let x;k.__click=()=>a(S(b).id);var R=X(k),W=X(R),D=X(W);Y(W),Y(R);var G=U(R,2),g=X(G),N=X(g,!0);Y(g);var F=U(g,2),q=X(F,!0);Y(F),Y(G);var T=U(G,2);let _;Y(k);var P=U(k,2);{var I=B=>{var Z=Ro();Le(Z,21,()=>S(b).maps,ze,(K,wn)=>{var _n=$o();let ft;_n.__click=()=>o(S(b).id,S(wn).id);var $e=X(_n),xi=X($e,!0);Y($e);var pt=U($e,2),Ai=X(pt,!0);Y(pt),Y(_n),En(()=>{ft=gn(_n,1,"menu-map-item",null,ft,{"menu-map-item--active":t()===S(wn).id}),mn(xi,S(wn).name),mn(Ai,S(wn).description)}),an(K,_n)}),Y(Z),an(B,Z)};de(P,B=>{i()===S(b).id&&B(I)})}Y(A),En(()=>{x=gn(k,1,"menu-category-header",null,x,{"menu-category-header--active":i()===S(b).id}),fe(D,"d",S(b).icon),mn(N,S(b).name),mn(q,S(b).description),_=gn(T,0,"menu-category-chevron",null,_,{"menu-category-chevron--open":i()===S(b).id})}),an(C,A)}),Y(w),nr(2),Y(m),En(()=>{h=gn(f,1,"menu-toggle",null,h,{"menu-toggle--open":S(l)}),fe(f,"aria-label",S(l)?"Close menu":"Open menu"),fe(f,"aria-expanded",S(l)),M=gn(m,1,"side-menu",null,M,{"side-menu--open":S(l)})}),an(n,c),ot(),s()}at(["click"]);var To=cn('<div class="control-group"><button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path></svg></button></div>'),No=cn("<li><button> </button></li>"),Go=cn('<div class="projection-selector"><div class="projection-label">Projection</div> <ul class="projection-list"></ul></div>'),zo=cn('<!> <!> <div class="controls"><div class="control-group"><button class="control-btn" title="Zoom in"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <button class="control-btn" title="Zoom out"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <button class="control-btn" title="Reset view"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div> <!> <div class="control-group"><button title="Change projection"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M2 12h20"></path><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></button></div> <!></div> <div class="info-panel"><h2 class="info-title"> </h2> <p class="info-subtitle"> <br/> <strong>Preserves:</strong> </p></div>',1);function Bo(n,e){rt(e,!0);const i=()=>tn(Ri,"$isGlobe",l),t=()=>tn($i,"$currentProjectionConfig",l),r=()=>tn(Mn,"$autoRotate",l),s=()=>tn(be,"$currentProjectionType",l),[l,u]=st();let d=Rn(!1);function p(T){be.set(T),un(d,!1),yn.set(1),T==="orthographic"&&(kn.set([0,-20,0]),Mn.set(!0))}function a(){Mn.update(T=>!T)}function o(){yn.update(T=>Math.min(5,T*1.2))}function c(){yn.update(T=>Math.max(.5,T/1.2))}function f(){yn.set(1),kn.set([0,-20,0]),i()&&Mn.set(!0)}var h=zo();lr("1uha8ag",T=>{er(()=>{tr.title=`Maps - ${t().name??""} View`})});var E=Qt(h);Co(E,{});var v=U(E,2);ko(v,{});var m=U(v,2),M=X(m),w=X(M);w.__click=o;var y=U(w,2);y.__click=c;var $=U(y,2);$.__click=f,Y(M);var C=U(M,2);{var b=T=>{var _=To(),P=X(_);let I;P.__click=a,Y(_),En(()=>{I=gn(P,1,"control-btn",null,I,{active:r()}),fe(P,"title",r()?"Stop rotation":"Auto-rotate")}),an(T,_)};de(C,T=>{i()&&T(b)})}var A=U(C,2),k=X(A);let x;k.__click=()=>un(d,!S(d)),Y(A);var R=U(A,2);{var W=T=>{var _=Go(),P=U(X(_),2);Le(P,21,()=>tt,ze,(I,B)=>{var Z=No(),K=X(Z);let wn;K.__click=()=>p(S(B).id);var _n=X(K,!0);Y(K),Y(Z),En(()=>{wn=gn(K,1,"projection-item",null,wn,{active:s()===S(B).id}),mn(_n,S(B).name)}),an(I,Z)}),Y(P),Y(_),an(T,_)};de(R,T=>{S(d)&&T(W)})}Y(m);var D=U(m,2),G=X(D),g=X(G,!0);Y(G);var N=U(G,2),F=X(N,!0),q=U(F,4);Y(N),Y(D),En(()=>{x=gn(k,1,"control-btn",null,x,{active:S(d)}),mn(g,t().name),mn(F,t().description),mn(q,` ${t().preserves??""}`)}),an(n,h),ot(),u()}at(["click"]);export{Bo as component};
