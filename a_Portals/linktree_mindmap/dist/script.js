"use strict";(()=>{var Xe={physics:{repulsion:0,attraction:0,centerGravity:0,damping:.98,ambientForce:0,ambientFrequency:.002,minVelocity:0,maxVelocity:1},visual:{nodeRadiusByDepth:[45,32,24,16,12],glowIntensityByDepth:[1,.8,.6,.4,.25],opacityByDepth:[1,.95,.85,.7,.5],breatheDuration:4e3,particleCount:80}};var P={levelSpacing:280,siblingSpacing:120,minZoom:.2,maxZoom:2.5,defaultZoom:1,panEasing:.12,hoverFadeSpeed:.15,expansionDuration:2e3,expansionEasing:.08};var nt={root:{id:"dnm",label:"DNM",fullLabel:"Diego Nepomuceno Marcos",icon:"user",color:"#2196F3",children:["professional","personal"]},nodes:{professional:{id:"professional",label:"Professional",icon:"briefcase",color:"#4CAF50",children:["profile-pro","repos","nexus"]},personal:{id:"personal",label:"Personal",icon:"heart",color:"#E91E63",children:["profile-personal","deving","tools","circus"]},"profile-pro":{id:"profile-pro",label:"Profile",icon:"user",color:"#4CAF50",children:["contact-pro","profiles-pro","ventures","curriculum"]},repos:{id:"repos",label:"Repos",icon:"brand-github",color:"#4CAF50",children:["github-overview","cs-repos","eng-finance-repos"]},nexus:{id:"nexus",label:"Nexus",icon:"rocket",color:"#4CAF50",children:["nexus-contact","nexus-venture"]},"profile-personal":{id:"profile-personal",label:"Profile",icon:"user",color:"#E91E63",children:["contact-personal","profiles-personal","my-media","my-endurance","my-maps","my-bucket"]},deving:{id:"deving",label:"Deving",icon:"code",color:"#E91E63",children:["cloud-portal","ai-tools","inbox-tools","productivity-tools","dev-tools"]},tools:{id:"tools",label:"Tools",icon:"settings",color:"#E91E63",children:["health-tools","finance-tools","content-tools"]},circus:{id:"circus",label:"Circus",icon:"sparkles",color:"#E91E63",children:["games","video","audio"]},"contact-pro":{id:"contact-pro",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"vCard",url:"public/diegonmarcos-contact_photo.vcf",icon:"user",download:!0}]},"profiles-pro":{id:"profiles-pro",label:"Profiles",icon:"world",color:"#81C784",links:[{label:"Landpage",url:"https://diegonmarcos.com/",icon:"world"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},ventures:{id:"ventures",label:"Ventures",icon:"rocket",color:"#81C784",links:[{label:"Nexus",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"}]},curriculum:{id:"curriculum",label:"Curriculum",icon:"file-type-pdf",color:"#81C784",links:[{label:"CV (web)",url:"https://diegonmarcos.github.io/cv_web",icon:"file-type-html"},{label:"CV (pdf)",url:"https://diegonmarcos.github.io/cv_pdf",icon:"file-type-pdf"}]},"github-overview":{id:"github-overview",label:"Overview",icon:"brand-github",color:"#81C784",links:[{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},"cs-repos":{id:"cs-repos",label:"Computer Science",icon:"brain",color:"#81C784",links:[{label:"Back-End",url:"https://github.com/diegonmarcos/back-System",icon:"settings"},{label:"Cyber-Security",url:"https://github.com/diegonmarcos/cyber-Cyberwarfare",icon:"bolt"},{label:"DevOps",url:"https://github.com/diegonmarcos/ops-Tooling",icon:"git-branch"},{label:"Front-End",url:"https://github.com/diegonmarcos/diegonmarcos.github.io",icon:"world"},{label:"ARM Mobile",url:"https://github.com/diegonmarcos/front-android-Portfolio",icon:"device-desktop"},{label:"Data Science",url:"https://github.com/diegonmarcos/ml-DataScience",icon:"brain"}]},"eng-finance-repos":{id:"eng-finance-repos",label:"Engineering & Finance",icon:"database",color:"#81C784",links:[{label:"Civil Engineer",url:"https://github.com/diegonmarcos/cveng_AFrame",icon:"settings"},{label:"Macro Economics",url:"https://github.com/diegonmarcos/ecoqt-thesis1",icon:"world-longitude"},{label:"Quant Finance",url:"https://github.com/diegonmarcos/ecoqt-thesis2",icon:"database"}]},"nexus-contact":{id:"nexus-contact",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"}]},"nexus-venture":{id:"nexus-venture",label:"Venture",icon:"rocket",color:"#81C784",links:[{label:"Website",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"},{label:"Slides",url:"https://diegonmarcos.github.io/nexus/slides",icon:"slideshow"}]},"contact-personal":{id:"contact-personal",label:"Contact",icon:"send",color:"#F48FB1",links:[{label:"Telegram",url:"https://t.me/diegonmarcos",icon:"send"},{label:"WhatsApp",url:"https://wa.me/34634769833",icon:"brand-whatsapp"}]},"profiles-personal":{id:"profiles-personal",label:"Profiles",icon:"user",color:"#F48FB1",links:[{label:"MyProfile",url:"https://diegonmarcos.github.io/myprofile",icon:"user"}]},"my-media":{id:"my-media",label:"Media",icon:"headphones",color:"#F48FB1",links:[{label:"TIDAL",url:"https://tidal.com/@diegonmarcos",icon:"headphones"},{label:"YouTube",url:"https://www.youtube.com/@diegonmarcos1",icon:"brand-youtube"},{label:"Pinterest",url:"https://www.pinterest.com/diegonmarcos",icon:"slideshow"},{label:"Instagram",url:"https://www.instagram.com/diegonmarcos",icon:"brand-instagram"}]},"my-endurance":{id:"my-endurance",label:"Endurance",icon:"bike",color:"#F48FB1",links:[{label:"Komoot",url:"https://www.komoot.com/user/2474200810898/routes",icon:"christmas-tree"},{label:"Strava",url:"https://www.strava.com/athletes/4662170",icon:"bike"}]},"my-maps":{id:"my-maps",label:"Maps",icon:"map-pin-2",color:"#F48FB1",links:[{label:"NomadMania",url:"https://nomadmania.com/profile/73889",icon:"brand-google-maps"},{label:"Google Maps",url:"https://www.google.com/maps/d/u/0/edit?mid=1Wpors-fGHMZOYPx41nDtyF9vXOJcpsY",icon:"map-pin-2"},{label:"Earth",url:"https://earth.google.com/earth/d/1WF5_9NDew9IB5xkTqXPpm9e9n8JM0a3H",icon:"world-longitude"}]},"my-bucket":{id:"my-bucket",label:"Bucket List",icon:"checklist",color:"#F48FB1",links:[{label:"50 Things",url:"https://bucketlistjourney.net/my-bucket-list",icon:"checklist"}]},"cloud-portal":{id:"cloud-portal",label:"Cloud Portal",icon:"settings",color:"#F48FB1",links:[{label:"Portal",url:"https://diegonmarcos.github.io/cloud",icon:"settings"}]},"ai-tools":{id:"ai-tools",label:"AI",icon:"robot",color:"#F48FB1",links:[{label:"Chat Multi-Model",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"robot"},{label:"WebIDE",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"device-desktop"}]},"inbox-tools":{id:"inbox-tools",label:"Inbox",icon:"mail",color:"#F48FB1",links:[{label:"Mail&Cal",url:"https://diegonmarcos.github.io/mymail",icon:"mail"},{label:"MyFeed",url:"https://diegonmarcos.github.io/myfeed",icon:"file-stack"}]},"productivity-tools":{id:"productivity-tools",label:"Productivity",icon:"file-stack",color:"#F48FB1",links:[{label:"Drive&Suite",url:"https://diegonmarcos.github.io/mydrive",icon:"file-stack"},{label:"JSON Vision",url:"https://diegonmarcos.github.io/json-vision",icon:"database"}]},"dev-tools":{id:"dev-tools",label:"DEV",icon:"git-branch",color:"#F48FB1",links:[{label:"API Endpoints",url:"https://diegonmarcos.github.io/cloud/api",icon:"git-branch"},{label:"MCP Tools",url:"https://diegonmarcos.github.io/cloud/mcp",icon:"settings"}]},"health-tools":{id:"health-tools",label:"Health",icon:"heart",color:"#F48FB1",links:[{label:"Feed Yourself",url:"https://diegonmarcos.github.io/feed_yourself",icon:"brain"},{label:"Health Tracker",url:"https://diegonmarcos.github.io/health_tracker",icon:"heart"}]},"finance-tools":{id:"finance-tools",label:"Finance",icon:"database",color:"#F48FB1",links:[{label:"Market Watch",url:"https://diegonmarcos.github.io/market_watch",icon:"database"},{label:"Central Bank",url:"https://diegonmarcos.github.io/central_bank",icon:"database"}]},"content-tools":{id:"content-tools",label:"Content",icon:"map-pin-2",color:"#F48FB1",links:[{label:"MyMaps",url:"https://diegonmarcos.github.io/mymaps",icon:"map-pin-2"}]},games:{id:"games",label:"Games",icon:"device-gamepad",color:"#F48FB1",links:[{label:"MyGames",url:"https://diegonmarcos.github.io/mygames",icon:"device-gamepad"}]},video:{id:"video",label:"Video",icon:"brand-youtube",color:"#F48FB1",links:[{label:"MyVideos",url:"https://diegonmarcos.github.io/myvideos",icon:"video"},{label:"MyMovies",url:"https://diegonmarcos.github.io/mymovies/",icon:"brand-youtube"}]},audio:{id:"audio",label:"Audio",icon:"headphones",color:"#F48FB1",links:[{label:"MyMusic",url:"https://diegonmarcos.github.io/mymusic/",icon:"headphones"}]}}};async function rt(){return Promise.resolve(nt)}function it(e){let o=[],t=[],i=new Map,r=ot(e.root,0,null);o.push(r),i.set(r.id,r);function a(l,c,m){c&&c.forEach(s=>{let p=e.nodes[s];if(!p){console.warn(`Node not found: ${s}`);return}let d=ot(p,m,l);o.push(d),i.set(d.id,d),l.children.push(d),t.push({source:l,target:d,highlighted:!1,opacity:1}),a(d,p.children,m+1),p.links&&p.links.length>0&&(!p.children||p.children.length===0)&&p.links.forEach((f,A)=>{let L=an(f,`${d.id}-link-${A}`,m+1,d);o.push(L),i.set(L.id,L),d.children.push(L),t.push({source:d,target:L,highlighted:!1,opacity:1})})})}return a(r,e.root.children,1),{nodes:o,edges:t}}function an(e,o,t,i){let r=Xe.visual,a=Math.min(t,r.nodeRadiusByDepth.length-1);return{id:o,label:e.label,fullLabel:e.label,icon:e.icon,color:i.color,depth:t,parent:i,children:[],links:[e],x:0,y:0,vx:0,vy:0,targetX:0,targetY:0,radius:r.nodeRadiusByDepth[a],opacity:1,glowIntensity:r.glowIntensityByDepth[a],highlighted:!1,hovered:!1,focused:!1,breathePhase:Math.random()*Math.PI*2,breatheScale:1}}function ot(e,o,t){let i=Xe.visual,r=Math.min(o,i.nodeRadiusByDepth.length-1);return{id:e.id,label:e.label,fullLabel:e.fullLabel,icon:e.icon,color:e.color,depth:o,parent:t,children:[],links:e.links||[],x:0,y:0,vx:0,vy:0,targetX:0,targetY:0,radius:i.nodeRadiusByDepth[r],opacity:1,glowIntensity:i.glowIntensityByDepth[r],highlighted:!1,hovered:!1,focused:!1,breathePhase:Math.random()*Math.PI*2,breatheScale:1}}function ln(e){let o=[],t=e.parent;for(;t;)o.push(t),t=t.parent;return o}function sn(e){let o=[];function t(i){i.children.forEach(r=>{o.push(r),t(r)})}return t(e),o}function J(e,o,t){if(!t){e.forEach(s=>{s.highlighted=!1,s.opacity=1}),o.forEach(s=>{s.highlighted=!1,s.opacity=1});return}let i=ln(t),r=sn(t),a=new Set([t,...i,...r]),l=new Map;l.set(t,0),i.forEach((s,p)=>{l.set(s,p+1)});function c(s,p){s.children.forEach(d=>{l.has(d)||(l.set(d,p),c(d,p+1))})}c(t,1);let m=Math.max(...Array.from(l.values()),1);e.forEach(s=>{if(s.highlighted=a.has(s),s.highlighted){let p=l.get(s)||0;s.opacity=Math.max(.3,1-p/(m+1)*.7)}else s.opacity=.08}),o.forEach(s=>{if(s.highlighted=a.has(s.source)&&a.has(s.target),s.highlighted){let p=l.get(s.source)||0,d=l.get(s.target)||0,f=(p+d)/2;s.opacity=Math.max(.3,1-f/(m+1)*.7)}else s.opacity=.03})}var V=null,Q=null,F=null,Me=new Map,Ue=new Map;function lt(e){if(V=e,Q=document.getElementById("graph-world"),F=document.getElementById("edges-svg"),!Q||!F){console.error("Graph DOM elements not found");return}at(),window.addEventListener("resize",at)}function at(){if(!F||!V)return;let e=V.clientWidth,o=V.clientHeight;F.setAttribute("viewBox",`0 0 ${e} ${o}`),F.style.width=`${e}px`,F.style.height=`${o}px`}function Te(){return{width:V?.clientWidth||window.innerWidth,height:V?.clientHeight||window.innerHeight}}function st(e){let o=Q;o&&(o.innerHTML="",Me.clear(),e.forEach((t,i)=>{let r=document.createElement("div");r.className=`node node--depth-${Math.min(t.depth,5)}`,r.dataset.nodeId=t.id,r.style.setProperty("--node-color",t.color),r.style.setProperty("--enter-delay",String(i)),r.style.setProperty("--icon-url",`url(public/icons/${t.icon}.svg)`),r.style.backgroundImage="none";let a=document.createElement("img");a.className="node-icon",a.src=`public/icons/${t.icon}.svg`,a.alt="",a.draggable=!1,r.appendChild(a);let l=document.createElement("span");if(l.className="node-label",l.textContent=t.label,r.appendChild(l),t.children.length>0&&t.depth<3){let c=document.createElement("span");c.className="node-badge",c.textContent=String(t.children.length),r.appendChild(c)}o.appendChild(r),Me.set(t.id,r)}))}function ct(e){let o=F;if(!o)return;o.innerHTML="",Ue.clear();let t=document.createElementNS("http://www.w3.org/2000/svg","defs");o.appendChild(t),e.forEach((i,r)=>{let a=`edge-gradient-${r}`,l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");l.id=a,l.setAttribute("gradientUnits","userSpaceOnUse");let c=document.createElementNS("http://www.w3.org/2000/svg","stop");c.setAttribute("offset","0%"),c.setAttribute("stop-color",i.source.color);let m=document.createElementNS("http://www.w3.org/2000/svg","stop");m.setAttribute("offset","100%"),m.setAttribute("stop-color",i.target.color),l.appendChild(c),l.appendChild(m),t.appendChild(l);let s=document.createElementNS("http://www.w3.org/2000/svg","path");s.className.baseVal="edge",s.setAttribute("stroke",`url(#${a})`),s.dataset.sourceId=i.source.id,s.dataset.targetId=i.target.id,o.appendChild(s),Ue.set(`${i.source.id}-${i.target.id}`,s)})}function C(e,o,t){if(!Q||!F||!V)return;let i=V.clientWidth/2,r=V.clientHeight/2;Q.style.transform=`
    translate(${i+t.x}px, ${r+t.y}px)
    scale(${t.scale})
    translate(${-i}px, ${-r}px)
  `,F.style.transform=Q.style.transform,e.forEach(a=>{let l=Me.get(a.id);l&&(l.style.transform=`translate3d(${a.x}px, ${a.y}px, 0) translate(-50%, -50%)`,l.classList.toggle("highlighted",a.highlighted),l.classList.toggle("dimmed",!a.highlighted&&e.some(c=>c.highlighted)),l.classList.toggle("focused",a.focused),!a.highlighted&&!a.hovered?l.style.opacity=String(a.opacity):l.style.opacity="1")}),o.forEach(a=>{let l=Ue.get(`${a.source.id}-${a.target.id}`);if(l){let{source:c,target:m}=a,s=(c.x+m.x)/2,p=(c.y+m.y)/2,d=m.x-c.x,f=m.y-c.y,A=Math.sqrt(d*d+f*f),L=A*.15,X=-f/A,He=d/A,ce=s+X*L,ue=p+He*L;l.setAttribute("d",`M ${c.x} ${c.y} Q ${ce} ${ue} ${m.x} ${m.y}`);let ke=l.getAttribute("stroke")?.match(/url\(#(.+)\)/)?.[1];if(ke){let O=F?.querySelector(`#${ke}`);O&&(O.setAttribute("x1",String(c.x)),O.setAttribute("y1",String(c.y)),O.setAttribute("x2",String(m.x)),O.setAttribute("y2",String(m.y)))}l.classList.toggle("highlighted",a.highlighted)}})}function ut(e){return Me.get(e)}function dt(e,o,t){let i=e.find(a=>a.depth===0);if(!i)return;i.x=i.targetX=o,i.y=i.targetY=t,ht(i,o,t,0,Math.PI*2,0,180)}function mt(e,o,t){if(e.length===0)return 1;let i=1/0,r=-1/0,a=1/0,l=-1/0;e.forEach(L=>{let X=L.radius+30;i=Math.min(i,L.targetX-X),r=Math.max(r,L.targetX+X),a=Math.min(a,L.targetY-X),l=Math.max(l,L.targetY+X)});let c=r-i,m=l-a,s=o*.9,p=t*.9,d=s/c,f=p/m,A=Math.min(d,f,1);return Math.max(A,P.minZoom)}function ht(e,o,t,i,r,a,l){if(e.children.length===0)return;let c=l*(a+1),m=e.children.length,s=r/m;e.children.forEach((p,d)=>{let f=i+s*d+s/2;p.x=p.targetX=o+Math.cos(f)*c,p.y=p.targetY=t+Math.sin(f)*c,ht(p,o,t,i+s*d,s,a+1,l)})}function pt(){return{x:0,y:0,scale:P.defaultZoom,targetX:0,targetY:0,targetScale:P.defaultZoom}}function ft(e,o,t,i){let r=t/2,a=i/2;o.targetX=r-e.x,o.targetY=a-e.y,o.targetScale=Math.min(1.5,P.maxZoom)}var gt=1;function bt(e){gt=e}function me(e){e.targetX=0,e.targetY=0,e.targetScale=gt}function vt(e){e.targetScale=Math.min(e.targetScale*1.3,P.maxZoom)}function yt(e){e.targetScale=Math.max(e.targetScale/1.3,P.minZoom)}function We(e,o,t,i,r,a){let l=e.targetScale,c=Math.max(P.minZoom,Math.min(P.maxZoom,l*(1-i*.001))),m=r/2,s=a/2,p=o-m,d=t-s,f=c-l;e.targetX-=(p-e.targetX)*(f/l),e.targetY-=(d-e.targetY)*(f/l),e.targetScale=c}var v={hoveredNode:null,focusedNode:null,draggingNode:null,isPanning:!1,panStartX:0,panStartY:0,lastMouseX:0,lastMouseY:0},y=null,U=[],ee=[],h=null,he=null,pe=null,$e=null,ze=0,Ne=!1;function Et(e){$e=e}function Z(){$e&&$e()}function wt(e,o,t,i){y=e,U=o,ee=t,h=i,U.forEach(r=>{let a=ut(r.id);a&&(a.addEventListener("click",l=>{l.stopPropagation(),he&&he(r)}),a.addEventListener("mouseenter",()=>{v.hoveredNode=r,r.hovered=!0,J(U,ee,r),Z()}),a.addEventListener("mouseleave",()=>{r.hovered=!1,v.hoveredNode=null,v.focusedNode||J(U,ee,null),Z()}))}),y.addEventListener("mousedown",cn),y.addEventListener("mousemove",un),y.addEventListener("mouseup",xt),y.addEventListener("mouseleave",xt),y.addEventListener("wheel",dn,{passive:!1}),y.addEventListener("dblclick",mn),y.addEventListener("click",r=>{let a=r.target;(a===y||a.id==="graph-world"||a.id==="edges-svg"||a.tagName==="svg"||a.tagName==="path")&&pe&&pe()}),y.addEventListener("touchstart",hn,{passive:!1}),y.addEventListener("touchmove",pn,{passive:!1}),y.addEventListener("touchend",fn,{passive:!1})}function Lt(e,o){he=e,pe=o}function cn(e){e.target.closest(".node")||(v.isPanning=!0,v.panStartX=e.clientX,v.panStartY=e.clientY,y&&(y.style.cursor="grabbing"))}function un(e){if(!v.isPanning||!h)return;let o=e.clientX-v.panStartX,t=e.clientY-v.panStartY;h.x+=o,h.y+=t,h.targetX=h.x,h.targetY=h.y,v.panStartX=e.clientX,v.panStartY=e.clientY,Z()}function xt(){v.isPanning=!1,y&&(y.style.cursor="grab")}function dn(e){if(e.preventDefault(),!h||!y)return;let o=y.getBoundingClientRect(),t=e.clientX-o.left,i=e.clientY-o.top;We(h,t,i,e.deltaY,y.clientWidth,y.clientHeight),h.x=h.targetX,h.y=h.targetY,h.scale=h.targetScale,Z()}function mn(e){e.target.closest(".node")||h&&(me(h),h.x=h.targetX,h.y=h.targetY,h.scale=h.targetScale,v.focusedNode=null,J(U,ee,null),Z())}function hn(e){let o=e.target;if(o.closest(".node")){let i=o.closest(".node")?.dataset.nodeId,r=U.find(a=>a.id===i);r&&he&&(e.preventDefault(),he(r));return}if(!(o.closest("#ui-overlay")&&!o.closest("#graph-container"))){if(e.preventDefault(),e.touches.length===1)v.isPanning=!0,v.panStartX=e.touches[0].clientX,v.panStartY=e.touches[0].clientY,Ne=!1;else if(e.touches.length===2){v.isPanning=!1;let t=e.touches[0],i=e.touches[1];ze=Math.hypot(i.clientX-t.clientX,i.clientY-t.clientY)}}}function pn(e){if(!h||!y)return;let o=e.target;if(!(o.closest("#ui-overlay")&&!o.closest("#graph-container"))){if(e.preventDefault(),Ne=!0,e.touches.length===1&&v.isPanning){let t=e.touches[0],i=t.clientX-v.panStartX,r=t.clientY-v.panStartY;h.x+=i,h.y+=r,h.targetX=h.x,h.targetY=h.y,v.panStartX=t.clientX,v.panStartY=t.clientY,Z()}else if(e.touches.length===2){let t=e.touches[0],i=e.touches[1],r=Math.hypot(i.clientX-t.clientX,i.clientY-t.clientY),a=(t.clientX+i.clientX)/2,l=(t.clientY+i.clientY)/2,c=y.getBoundingClientRect(),m=(ze-r)*2;We(h,a-c.left,l-c.top,m,y.clientWidth,y.clientHeight),h.x=h.targetX,h.y=h.targetY,h.scale=h.targetScale,ze=r,Z()}}}function fn(e){let o=e.target;!Ne&&e.changedTouches.length===1&&!o.closest(".node")&&!o.closest("#ui-overlay")&&pe&&pe(),v.isPanning=!1,Ne=!1}function Oe(e){v.focusedNode=e,e&&J(U,ee,e)}function Ze(){v.focusedNode=null,J(U,ee,null)}var ne=null,St=null,At=null,kt=null,Mt=null,Fe=null,je=null,ve=null,qe=null,R=null,T=null,Re=null,Be=null,fe=null,te=null,G=null,Tt=null,u=null,ye=0,xe=0,D=[],be=null,Ee=null,q=null,B=null;function Rt(e,o,t){u=e,ye=o,xe=t,ne=document.getElementById("btn-back"),St=document.getElementById("btn-home"),At=document.getElementById("btn-reset"),kt=document.getElementById("btn-zoom-in"),Mt=document.getElementById("btn-zoom-out"),Fe=document.getElementById("btn-fullscreen"),je=document.getElementById("zoom-indicator"),ve=document.getElementById("loading"),qe=document.getElementById("search-container"),R=document.getElementById("search-input"),T=document.getElementById("search-results"),Re=document.getElementById("breadcrumb"),Be=document.getElementById("breadcrumb-nav"),fe=document.getElementById("minimap-canvas"),te=document.getElementById("minimap-viewport"),G=document.getElementById("keyboard-hints"),Tt=document.getElementById("hints-close"),At?.addEventListener("click",Ce),St?.addEventListener("click",Ce),kt?.addEventListener("click",Yt),Mt?.addEventListener("click",Ht),Fe?.addEventListener("click",_t),ne?.addEventListener("click",En),Tt?.addEventListener("click",Vt),R?.addEventListener("input",gn),R?.addEventListener("focus",()=>qe?.classList.add("focused")),R?.addEventListener("blur",()=>{setTimeout(()=>{qe?.classList.remove("focused"),T&&(T.hidden=!0)},200)}),document.addEventListener("keydown",wn),W()}function Bt(e){D=e}function Ft(e){Ee=e}function Ct(e){q=e}function Gt(e){B=e}function It(e,o){ye=e,xe=o}function Pt(){ve&&(ve.hidden=!1)}function Ke(){ve&&(ve.hidden=!0)}function W(){if(je&&u){let e=Math.round(u.scale*100);je.textContent=`${e}%`}}function Y(e){if(!Re||!Be)return;if(!e){Re.hidden=!0;return}let o=[],t=e;for(;t;)o.unshift(t),t=t.parent;Be.innerHTML=o.map((i,r)=>{let a=r===o.length-1,l=i.label;return a?`<span class="breadcrumb-current" style="color: ${i.color}">${l}</span>`:`<button class="breadcrumb-item" data-node-id="${i.id}" style="--accent: ${i.color}">${l}</button><span class="breadcrumb-sep">\u203A</span>`}).join(""),Be.querySelectorAll(".breadcrumb-item").forEach(i=>{i.addEventListener("click",()=>{let r=i.dataset.nodeId,a=D.find(l=>l.id===r);a&&q&&q(a)})}),Re.hidden=!1}function gn(){if(!R||!T)return;let e=R.value.toLowerCase().trim();if(e.length<2){T.hidden=!0;return}let o=D.filter(t=>t.label.toLowerCase().includes(e)||t.fullLabel&&t.fullLabel.toLowerCase().includes(e));if(o.length===0){T.innerHTML='<div class="search-empty">No results found</div>',T.hidden=!1;return}T.innerHTML=o.slice(0,8).map(t=>`
      <button class="search-result" data-node-id="${t.id}">
        <span class="search-result-dot" style="background: ${t.color}"></span>
        <span class="search-result-label">${t.fullLabel||t.label}</span>
        <span class="search-result-path">${bn(t)}</span>
      </button>
    `).join(""),T.querySelectorAll(".search-result").forEach(t=>{t.addEventListener("click",()=>{let i=t.dataset.nodeId,r=D.find(a=>a.id===i);r&&q&&(q(r),R.value="",T.hidden=!0,R.blur())})}),T.hidden=!1}function bn(e){let o=[],t=e.parent;for(;t;)o.unshift(t.label),t=t.parent;return o.join(" \u203A ")}function vn(e){let o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:{r:255,g:255,b:255}}function j(e,o){if(!fe||!te||!u)return;let t=fe.getContext("2d");if(!t)return;let i=fe.width,r=fe.height;t.clearRect(0,0,i,r);let a=1/0,l=-1/0,c=1/0,m=-1/0;e.forEach(g=>{a=Math.min(a,g.x),l=Math.max(l,g.x),c=Math.min(c,g.y),m=Math.max(m,g.y)});let s=20,p=l-a+s*2,d=m-c+s*2,f=Math.min(i/p,r/d),A=(i-p*f)/2-a*f+s*f,L=(r-d*f)/2-c*f+s*f,X=o.some(g=>g.highlighted);o.forEach(g=>{if(g.highlighted){let de=t.createLinearGradient(g.source.x*f+A,g.source.y*f+L,g.target.x*f+A,g.target.y*f+L);de.addColorStop(0,g.source.color),de.addColorStop(1,g.target.color),t.strokeStyle=de,t.lineWidth=1}else X?(t.strokeStyle="rgba(100,100,100,0.15)",t.lineWidth=.4):(t.strokeStyle="rgba(255,255,255,0.2)",t.lineWidth=.5);t.beginPath(),t.moveTo(g.source.x*f+A,g.source.y*f+L),t.lineTo(g.target.x*f+A,g.target.y*f+L),t.stroke()});let He=e.some(g=>g.highlighted);e.forEach(g=>{let de=g.x*f+A,on=g.y*f+L,rn=Math.max(2,g.radius*f*.3);if(g.highlighted)t.shadowBlur=8,t.shadowColor=g.color,t.fillStyle=g.color;else if(He)t.shadowBlur=0,t.fillStyle="rgba(100, 100, 100, 0.3)";else{t.shadowBlur=0;let _e=vn(g.color);t.fillStyle=`rgba(${_e.r}, ${_e.g}, ${_e.b}, 0.8)`}t.beginPath(),t.arc(de,on,rn,0,Math.PI*2),t.fill()});let ce=ye/u.scale*f,ue=xe/u.scale*f,ke=(-u.x/u.scale+ye/2/u.scale)*f+A-ce/2,O=(-u.y/u.scale+xe/2/u.scale)*f+L-ue/2;te.style.width=`${Math.min(i,ce)}px`,te.style.height=`${Math.min(r,ue)}px`,te.style.left=`${Math.max(0,Math.min(i-ce,ke))}px`,te.style.top=`${Math.max(0,Math.min(r-ue,O))}px`}function yn(){G&&(G.hidden=!1,requestAnimationFrame(()=>G?.classList.add("visible")))}function Vt(){G&&(G.classList.remove("visible"),setTimeout(()=>{G&&(G.hidden=!0)},300),localStorage.setItem("mindmap-hints-shown","true"))}function xn(){ne&&(ne.hidden=!1)}function Dt(){ne&&(ne.hidden=!0)}function Ce(){u&&(me(u),u.x=u.targetX,u.y=u.targetY,u.scale=u.targetScale,Dt(),Y(null),W(),Ee&&Ee(),B&&B())}function Yt(){u&&(vt(u),u.scale=u.targetScale,W(),B&&B())}function Ht(){u&&(yt(u),u.scale=u.targetScale,W(),B&&B())}function _t(){document.fullscreenElement?(document.exitFullscreen(),Fe?.classList.remove("active")):(document.documentElement.requestFullscreen(),Fe?.classList.add("active"))}function En(){u&&(me(u),u.x=u.targetX,u.y=u.targetY,u.scale=u.targetScale,Dt(),Y(null),W(),Ee&&Ee(),B&&B())}var ge=-1;function wn(e){if(document.activeElement===R){e.key==="Escape"&&(R?.blur(),T&&(T.hidden=!0));return}if(e.key==="/"||e.key==="s"){e.preventDefault(),R?.focus();return}if(e.key==="f"){_t();return}e.key==="Escape"&&(G&&!G.hidden?Vt():u&&Ce()),(e.key==="+"||e.key==="=")&&Yt(),(e.key==="-"||e.key==="_")&&Ht(),(e.key==="0"||e.key==="r")&&Ce(),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),Ln(e.key)),e.key==="Enter"&&be&&be.links.length===1&&window.open(be.links[0].url,"_blank","noopener,noreferrer"),e.key==="?"&&yn()}function Ln(e){if(D.length===0)return;if(ge<0){ge=0,Nt(D[0]);return}let o=D[ge],t=null;switch(e){case"ArrowUp":o.parent&&(t=o.parent);break;case"ArrowDown":o.children.length>0&&(t=o.children[0]);break;case"ArrowLeft":case"ArrowRight":if(o.parent){let i=o.parent.children,l=(i.indexOf(o)+(e==="ArrowRight"?1:-1)+i.length)%i.length;t=i[l]}break}t&&(ge=D.indexOf(t),Nt(t))}function Nt(e){be=e,Y(e),q&&q(e)}function Je(e){be=e,e&&(ge=D.indexOf(e),Y(e))}function Xt(e){u&&(ft(e,u,ye,xe),u.x=u.targetX,u.y=u.targetY,u.scale=u.targetScale,xn(),Y(e),W(),Je(e),B&&B())}function N(e=0,o=1){return Math.random()*(o-e)+e}var K=600,oe=200,we=80,Pe=25,Se=4,no=K+oe+we+Pe+Se,Ge={tiny:{size:[.8,1.5],alpha:[.2,.5],twinkle:[2,4],speed:.01},small:{size:[1.5,2.5],alpha:[.5,.85],twinkle:[1,2.5],speed:.02},medium:{size:[4,7],alpha:[.6,.9],twinkle:[.5,1.5],speed:.03},large:{size:[8,14],alpha:[.8,1],twinkle:[.2,.6],speed:.04},comet:{size:[3,5],alpha:[.9,1],twinkle:[0,0],speed:2}},b=null,n=null,I=null,ie=null,$=null,ae=null,Wt=null,$t=null,H=null,le=null,z=null,zt=null,Ot=null,_=null,se=null,Ve=null,Zt=null,qt=null,x,w,Le,k,Ie=0,re=K+oe+we+Pe,Sn=`#version 300 es
precision highp float;

in vec2 aPos;
in vec4 aData; // size, alpha, twinkleSpeed, type (0=tiny, 1=small, 2=medium, 3=large)

uniform float uTime;
uniform vec2 uResolution;

out float vAlpha;
out float vType;

void main() {
  float twinkle = 0.5 + 0.5 * sin(aData.z * uTime * 0.001 + aPos.x * 0.01);
  vAlpha = aData.y * (0.6 + 0.4 * twinkle);
  vType = aData.w;

  vec2 clip = (aPos / uResolution) * 2.0 - 1.0;
  clip.y = -clip.y;

  gl_Position = vec4(clip, 0.0, 1.0);

  // Size varies with twinkle for larger stars
  float sizeBoost = vType > 1.5 ? (0.8 + 0.4 * twinkle) : 1.0;
  gl_PointSize = aData.x * sizeBoost;
}
`,An=`#version 300 es
precision highp float;

in float vAlpha;
in float vType;
out vec4 fragColor;

void main() {
  vec2 cxy = gl_PointCoord * 2.0 - 1.0;
  float dist = length(cxy);

  float a;
  vec3 col;

  if (vType > 2.5) {
    // LARGE stars: RED for debug, bright glow
    col = vec3(1.0, 0.3, 0.3);
    float core = 1.0 - smoothstep(0.0, 0.3, dist);
    float glow = 1.0 - smoothstep(0.0, 1.0, dist);
    a = core + glow * 0.6;
  } else if (vType > 1.5) {
    // MEDIUM stars: GREEN for debug
    col = vec3(0.3, 1.0, 0.3);
    float core = 1.0 - smoothstep(0.0, 0.4, dist);
    float glow = 1.0 - smoothstep(0.0, 1.0, dist);
    a = core * 0.9 + glow * 0.4;
  } else if (vType > 0.5) {
    // SMALL stars: BLUE for debug
    col = vec3(0.3, 0.5, 1.0);
    a = 1.0 - smoothstep(0.0, 0.8, dist);
    a = pow(a, 1.3);
  } else {
    // TINY stars: WHITE
    col = vec3(0.9, 0.9, 1.0);
    a = 1.0 - smoothstep(0.0, 1.0, dist);
    a = pow(a, 1.8);
  }

  fragColor = vec4(col, a * vAlpha);
}
`,kn=`#version 300 es
precision highp float;

in vec4 aComet; // x, y, angle, progress (0-1)

uniform float uTime;
uniform vec2 uResolution;

out float vProgress;
out float vBrightness;

void main() {
  vProgress = aComet.w;

  // Brightness peaks in middle of travel
  vBrightness = sin(vProgress * 3.14159);

  vec2 pos = aComet.xy;
  vec2 clip = (pos / uResolution) * 2.0 - 1.0;
  clip.y = -clip.y;

  gl_Position = vec4(clip, 0.0, 1.0);
  gl_PointSize = mix(1.0, 4.0, vBrightness);
}
`,Mn=`#version 300 es
precision highp float;

in float vProgress;
in float vBrightness;
out vec4 fragColor;

void main() {
  vec2 cxy = gl_PointCoord * 2.0 - 1.0;
  float r = length(cxy);

  float a = 1.0 - smoothstep(0.0, 1.0, r);
  a = pow(a, 1.2);

  // White-blue color
  vec3 col = vec3(0.95, 0.97, 1.0);

  fragColor = vec4(col, a * vBrightness * 0.9);
}
`,Tn=`#version 300 es
precision highp float;

in vec2 aPos;
out vec2 vUv;

void main() {
  vUv = aPos * 0.5 + 0.5;
  gl_Position = vec4(aPos, 0.0, 1.0);
}
`,Nn=`#version 300 es
precision highp float;

in vec2 vUv;
uniform float uTime;
uniform vec2 uResolution;
out vec4 fragColor;

// Simple noise function
float hash(vec2 p) {
  return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);
}

float noise(vec2 p) {
  vec2 i = floor(p);
  vec2 f = fract(p);
  f = f * f * (3.0 - 2.0 * f);

  float a = hash(i);
  float b = hash(i + vec2(1.0, 0.0));
  float c = hash(i + vec2(0.0, 1.0));
  float d = hash(i + vec2(1.0, 1.0));

  return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);
}

void main() {
  vec2 uv = vUv;
  float aspect = uResolution.x / uResolution.y;

  // Base dark gradient
  float vignette = 1.0 - length((uv - 0.5) * vec2(aspect, 1.0)) * 0.8;
  vec3 bgColor = mix(vec3(0.02, 0.02, 0.04), vec3(0.06, 0.06, 0.10), vignette);

  // Animated nebula clouds
  float t = uTime * 0.00005;

  // Blue nebula (top-left)
  vec2 p1 = (uv - vec2(0.2, 0.2)) * 2.0;
  float n1 = noise(p1 * 3.0 + t) * noise(p1 * 6.0 - t * 0.5);
  float d1 = 1.0 - length(p1) * 0.7;
  vec3 nebula1 = vec3(0.3, 0.5, 0.9) * n1 * d1 * 0.4;

  // Purple nebula (right)
  vec2 p2 = (uv - vec2(0.8, 0.5)) * 2.0;
  float n2 = noise(p2 * 2.5 + t * 0.7) * noise(p2 * 5.0 - t * 0.3);
  float d2 = 1.0 - length(p2) * 0.6;
  vec3 nebula2 = vec3(0.7, 0.4, 0.9) * n2 * d2 * 0.35;

  // Teal nebula (bottom-left)
  vec2 p3 = (uv - vec2(0.15, 0.8)) * 2.5;
  float n3 = noise(p3 * 2.0 + t * 0.5) * noise(p3 * 4.0 - t * 0.8);
  float d3 = 1.0 - length(p3) * 0.65;
  vec3 nebula3 = vec3(0.3, 0.8, 0.7) * n3 * d3 * 0.3;

  vec3 finalColor = bgColor + nebula1 + nebula2 + nebula3;

  fragColor = vec4(finalColor, 1.0);
}
`;function Ut(e,o){if(!n)return null;let t=n.createShader(o);return t?(n.shaderSource(t,e),n.compileShader(t),n.getShaderParameter(t,n.COMPILE_STATUS)?t:(console.error("Shader error:",n.getShaderInfoLog(t)),n.deleteShader(t),null)):null}function Qe(e,o){if(!n)return null;let t=Ut(e,n.VERTEX_SHADER),i=Ut(o,n.FRAGMENT_SHADER);if(!t||!i)return null;let r=n.createProgram();return r?(n.attachShader(r,t),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)?(n.deleteShader(t),n.deleteShader(i),r):(console.error("Program error:",n.getProgramInfoLog(r)),null)):null}function jt(e){if(b=e,n=b.getContext("webgl2",{alpha:!0,premultipliedAlpha:!1,antialias:!0,powerPreference:"high-performance"}),!n){console.warn("WebGL2 unavailable");return}if(_=Qe(Tn,Nn),_){Zt=n.getUniformLocation(_,"uTime"),qt=n.getUniformLocation(_,"uResolution"),se=n.createVertexArray(),n.bindVertexArray(se),Ve=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,Ve),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),n.STATIC_DRAW);let o=n.getAttribLocation(_,"aPos");n.enableVertexAttribArray(o),n.vertexAttribPointer(o,2,n.FLOAT,!1,0,0),n.bindVertexArray(null)}if(I=Qe(Sn,An),I){Wt=n.getUniformLocation(I,"uTime"),$t=n.getUniformLocation(I,"uResolution"),ie=n.createVertexArray(),n.bindVertexArray(ie),x=new Float32Array(re*2),w=new Float32Array(re*4),Le=new Float32Array(re*2),$=n.createBuffer(),ae=n.createBuffer();let o=n.getAttribLocation(I,"aPos"),t=n.getAttribLocation(I,"aData");n.bindBuffer(n.ARRAY_BUFFER,$),n.enableVertexAttribArray(o),n.vertexAttribPointer(o,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,ae),n.enableVertexAttribArray(t),n.vertexAttribPointer(t,4,n.FLOAT,!1,0,0),n.bindVertexArray(null)}if(H=Qe(kn,Mn),H){zt=n.getUniformLocation(H,"uTime"),Ot=n.getUniformLocation(H,"uResolution"),le=n.createVertexArray(),n.bindVertexArray(le),k=new Float32Array(Se*4),z=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,z);let o=n.getAttribLocation(H,"aComet");n.enableVertexAttribArray(o),n.vertexAttribPointer(o,4,n.FLOAT,!1,0,0),n.bindVertexArray(null)}n.enable(n.BLEND),et(),Rn(),Bn(),Fn(),window.addEventListener("resize",et)}function et(){if(!b||!n)return;let e=Math.min(window.devicePixelRatio,2),o=window.innerWidth,t=window.innerHeight;b.width=o*e,b.height=t*e,b.style.width=o+"px",b.style.height=t+"px",n.viewport(0,0,b.width,b.height)}function Rn(){if(!b)return;let e=b.width,o=b.height,t=0;function i(m,s,p){for(let d=0;d<m;d++)x[t*2]=N(0,e),x[t*2+1]=N(0,o),Le[t*2]=N(-s.speed,s.speed),Le[t*2+1]=N(-s.speed,s.speed),w[t*4]=N(s.size[0],s.size[1]),w[t*4+1]=N(s.alpha[0],s.alpha[1]),w[t*4+2]=N(s.twinkle[0],s.twinkle[1]),w[t*4+3]=p,t++}i(K,Ge.tiny,0),i(oe,Ge.small,1),i(we,Ge.medium,2),i(Pe,Ge.large,3),console.log("[STARS] Distribution:",{tiny:K,small:oe,medium:we,large:Pe,total:re});let r=0,a=K,l=K+oe,c=K+oe+we;console.log("[STARS] Tiny star [0]:",{pos:[x[r*2],x[r*2+1]],size:w[r*4],alpha:w[r*4+1],twinkle:w[r*4+2],type:w[r*4+3]}),console.log("[STARS] Small star ["+a+"]:",{pos:[x[a*2],x[a*2+1]],size:w[a*4],alpha:w[a*4+1],twinkle:w[a*4+2],type:w[a*4+3]}),console.log("[STARS] Medium star ["+l+"]:",{pos:[x[l*2],x[l*2+1]],size:w[l*4],alpha:w[l*4+1],twinkle:w[l*4+2],type:w[l*4+3]}),console.log("[STARS] Large star ["+c+"]:",{pos:[x[c*2],x[c*2+1]],size:w[c*4],alpha:w[c*4+1],twinkle:w[c*4+2],type:w[c*4+3]})}function Bn(){if(!b)return;let e=b.width,o=b.height;for(let t=0;t<Se;t++)Kt(t,e,o)}function Kt(e,o,t){let i=N(-.6,-.3);k[e*4]=N(-100,o*.3),k[e*4+1]=N(0,t*.5),k[e*4+2]=i,k[e*4+3]=N(-2,-.5)}function Fn(){n&&($&&ae&&(n.bindBuffer(n.ARRAY_BUFFER,$),n.bufferData(n.ARRAY_BUFFER,x,n.DYNAMIC_DRAW),console.log("[STARS] Uploaded positions buffer, length:",x.length),n.bindBuffer(n.ARRAY_BUFFER,ae),n.bufferData(n.ARRAY_BUFFER,w,n.STATIC_DRAW),console.log("[STARS] Uploaded data buffer, length:",w.length)),z&&(n.bindBuffer(n.ARRAY_BUFFER,z),n.bufferData(n.ARRAY_BUFFER,k,n.DYNAMIC_DRAW)))}function Jt(e){if(!b||!n)return;let o=b.width,t=b.height;for(let i=0;i<re;i++){let r=i*2,a=i*2+1;x[r]+=Le[r]*e,x[a]+=Le[a]*e,x[r]<0&&(x[r]+=o),x[r]>o&&(x[r]-=o),x[a]<0&&(x[a]+=t),x[a]>t&&(x[a]-=t)}for(let i=0;i<Se;i++){let r=i*4;if(k[r+3]+=e*3e-4,k[r+3]>0&&k[r+3]<1){let a=e*1.5,l=k[r+2];k[r]+=Math.cos(l)*a,k[r+1]-=Math.sin(l)*a}else k[r+3]>=1&&Kt(i,o,t)}Ie+=e,$&&(n.bindBuffer(n.ARRAY_BUFFER,$),n.bufferSubData(n.ARRAY_BUFFER,0,x)),z&&(n.bindBuffer(n.ARRAY_BUFFER,z),n.bufferSubData(n.ARRAY_BUFFER,0,k))}function Qt(){!b||!n||(n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),_&&se&&(n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.useProgram(_),n.bindVertexArray(se),n.uniform1f(Zt,Ie),n.uniform2f(qt,b.width,b.height),n.drawArrays(n.TRIANGLES,0,6)),I&&ie&&(n.blendFunc(n.SRC_ALPHA,n.ONE),n.useProgram(I),n.bindVertexArray(ie),n.uniform1f(Wt,Ie),n.uniform2f($t,b.width,b.height),n.drawArrays(n.POINTS,0,re)),H&&le&&(n.blendFunc(n.SRC_ALPHA,n.ONE),n.useProgram(H),n.bindVertexArray(le),n.uniform1f(zt,Ie),n.uniform2f(Ot,b.width,b.height),n.drawArrays(n.POINTS,0,Se)),n.bindVertexArray(null))}function en(){window.removeEventListener("resize",et),n&&(I&&n.deleteProgram(I),ie&&n.deleteVertexArray(ie),$&&n.deleteBuffer($),ae&&n.deleteBuffer(ae),H&&n.deleteProgram(H),le&&n.deleteVertexArray(le),z&&n.deleteBuffer(z),_&&n.deleteProgram(_),se&&n.deleteVertexArray(se),Ve&&n.deleteBuffer(Ve)),b=null,n=null}var E=[],S=[],M,Ae=null,Ye=null,tt=0,De=null;async function tn(){try{if(Pt(),De=document.getElementById("graph-container"),!De)throw new Error("Graph container element not found");let e=document.getElementById("stars-canvas");e&&(jt(e),Cn()),lt(De);let o=await rt(),t=it(o);E=t.nodes,S=t.edges,M=pt();let{width:i,height:r}=Te();dt(E,i/2,r/2);let a=mt(E,i,r);bt(a),M.scale=a,M.targetScale=a,st(E),ct(S);let l=i/2,c=r/2;E.forEach(m=>{m.x=l,m.y=c}),wt(De,E,S,M),Lt(In,Vn),Et(()=>{C(E,S,M),j(E,S),W()}),Rt(M,i,r),Bt(E),Ft(Dn),Ct(Pn),Gt(()=>{C(E,S,M),j(E,S)}),Ke(),Gn()}catch(e){console.error("Failed to initialize:",e),Ke(),alert("Failed to load mindmap data. Please refresh the page.")}}function Cn(){tt=performance.now();function e(o){let t=o-tt;tt=o,Jt(t),Qt(),Ye=requestAnimationFrame(e)}Ye=requestAnimationFrame(e)}function Gn(){let e=performance.now(),o=2e3,{width:t,height:i}=Te(),r=t/2,a=i/2;function l(c){let m=c-e,s=Math.min(1,m/o),p=1-Math.pow(1-s,3);E.forEach(d=>{d.x=r+(d.targetX-r)*p,d.y=a+(d.targetY-a)*p}),C(E,S,M),s<1?Ae=requestAnimationFrame(l):(Ae=null,E.forEach(d=>{d.x=d.targetX,d.y=d.targetY}),C(E,S,M))}Ae=requestAnimationFrame(l)}function In(e){if(Oe(e),Je(e),Y(e),e.links.length===1&&e.children.length===0){let o=e.links[0];window.open(o.url,"_blank","noopener,noreferrer")}C(E,S,M),j(E,S)}function Pn(e){Oe(e),Xt(e),C(E,S,M),j(E,S)}function Vn(){Ze(),Y(null),C(E,S,M),j(E,S)}function Dn(){Ze(),Y(null),C(E,S,M),j(E,S)}function nn(){let{width:e,height:o}=Te();It(e,o),C(E,S,M)}window.addEventListener("resize",nn);function Yn(){Ae!==null&&cancelAnimationFrame(Ae),Ye!==null&&cancelAnimationFrame(Ye),en(),window.removeEventListener("resize",nn)}window.addEventListener("beforeunload",Yn);document.addEventListener("touchmove",e=>{(e.target===document.body||e.target===document.documentElement)&&e.preventDefault()},{passive:!1});document.addEventListener("scroll",e=>{e.preventDefault(),window.scrollTo(0,0)},{passive:!1});window.addEventListener("scroll",()=>{window.scrollTo(0,0)});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",tn):tn();})();
