import{f as g,h as b,g as v,E as y,i as p,H as T,j as E,k as S,l as o,n as k,o as A,u as N,q as R,S as w,t as _,v as x,w as B,x as M,y as O,z as q}from"./BH0XA-ZU.js";import{B as D}from"./B9h5jyGQ.js";import{s as F,g as H}from"./CblLKELC.js";function Y(s,a,n=!1){b&&v();var r=new D(s),u=n?y:0;function e(i,t){if(b){const h=p(s)===T;if(i===h){var f=E();S(f),r.anchor=f,o(!1),r.ensure(i,t),o(!0);return}}r.ensure(i,t)}g(()=>{var i=!1;a((t,f=!0)=>{i=!0,e(f,t)}),i||e(!1,null)},u)}function d(s,a){return s===a||s?.[w]===a}function j(s={},a,n,r){return k(()=>{var u,e;return A(()=>{u=e,e=[],N(()=>{s!==n(...e)&&(a(s,...e),u&&d(n(...u),s)&&a(null,...u))})}),()=>{R(()=>{e&&d(n(...e),s)&&a(null,...e)})}}),s}let c=!1,l=Symbol();function z(s,a,n){const r=n[a]??={store:null,source:x(void 0),unsubscribe:_};if(r.store!==s&&!(l in n))if(r.unsubscribe(),r.store=s??null,s==null)r.source.v=void 0,r.unsubscribe=_;else{var u=!0;r.unsubscribe=F(s,e=>{u?r.source.v=e:q(r.source,e)}),u=!1}return s&&l in n?H(s):B(r.source)}function C(){const s={};function a(){M(()=>{for(var n in s)s[n].unsubscribe();O(s,l,{enumerable:!1,value:!0})})}return[s,a]}function P(s){var a=c;try{return c=!1,[s(),c]}finally{c=a}}export{C as a,j as b,P as c,Y as i,z as s};
