// ==============================================
// REALISTIC SOLAR SYSTEM VIEW
// ==============================================
@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

.solar-viewport {
  height: 750px;
  width: 100%;
  perspective: 1500px;
  overflow: hidden;
  @include flex-center;
  position: relative;
  cursor: grab;
  background: radial-gradient(ellipse at center, rgba(5, 10, 30, 0.9) 0%, transparent 70%);

  &:active {
    cursor: grabbing;
  }
}

.solar-instruction {
  position: absolute;
  top: $space-4;
  left: 50%;
  transform: translateX(-50%);
  color: $text-dim;
  font-size: $text-sm;
  display: flex;
  gap: $space-2;
  align-items: center;
  pointer-events: none;
  font-family: $font-mono;
  z-index: 10;

  .anim-icon {
    animation: pulse-glow 2s ease-in-out infinite;
  }
}

.solar-system-scene {
  position: relative;
  width: 0;
  height: 0;
  transform-style: preserve-3d;
  transition: transform 0.1s ease-out;
}

// ==================
// THE SUN
// ==================
.sun-star {
  position: absolute;
  transform: translate(-50%, -50%);
  transform-style: preserve-3d;
}

.sun-surface {
  position: absolute;
  width: 50px;
  height: 50px;
  background: radial-gradient(circle at 35% 35%,
    #fff 0%,
    #fff8dc 10%,
    #ffd700 25%,
    #ff8c00 50%,
    #ff4500 75%,
    #dc143c 100%
  );
  border-radius: 50%;
  transform: translate(-50%, -50%);
  box-shadow:
    0 0 20px #ffa500,
    0 0 40px #ff8c00,
    0 0 80px #ff4500,
    0 0 120px rgba(255, 69, 0, 0.5);
  animation: sun-burn 4s ease-in-out infinite;
}

.sun-corona-1 {
  position: absolute;
  width: 80px;
  height: 80px;
  background: radial-gradient(circle,
    rgba(255, 200, 100, 0.4) 0%,
    rgba(255, 150, 50, 0.2) 40%,
    transparent 70%
  );
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: corona-pulse 6s ease-in-out infinite;
}

.sun-corona-2 {
  position: absolute;
  width: 100px;
  height: 100px;
  background: radial-gradient(circle,
    rgba(255, 180, 80, 0.2) 0%,
    transparent 60%
  );
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: corona-pulse 8s ease-in-out infinite reverse;
}

.sun-glow {
  position: absolute;
  width: 180px;
  height: 180px;
  background: radial-gradient(circle,
    rgba(255, 120, 50, 0.1) 0%,
    transparent 50%
  );
  border-radius: 50%;
  transform: translate(-50%, -50%);
}

@keyframes sun-burn {
  0%, 100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.03); }
}

@keyframes corona-pulse {
  0%, 100% { opacity: 0.6; transform: translate(-50%, -50%) scale(1); }
  50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
}

// ==================
// ORBITAL PATHS
// ==================
.orbital-path {
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;

  &::after {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: 50%;
    border: 1px dashed rgba(255, 255, 255, 0.04);
  }
}

// ==================
// PLANETS
// ==================
.planet-container {
  position: absolute;
  width: 0;
  height: 0;
  transform-style: preserve-3d;
  animation: planet-orbit var(--orbit-speed) linear infinite;
}

@keyframes planet-orbit {
  from { transform: rotateZ(0deg); }
  to { transform: rotateZ(360deg); }
}

.planet-orbit-wrapper {
  position: absolute;
  transform: translateX(var(--orbit-radius));
  transform-style: preserve-3d;
}

.planet-body {
  position: relative;
  @include flex-column;
  align-items: center;
  gap: 6px;

  &.has-rings {
    .planet-sphere {
      z-index: 2;
    }
  }
}

.planet-sphere {
  width: var(--planet-size);
  height: var(--planet-size);
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%,
    rgba(255, 255, 255, 0.3),
    var(--planet-color) 40%,
    rgba(0, 0, 0, 0.6) 100%
  );
  background-color: var(--planet-color);
  box-shadow:
    inset -3px -3px 10px rgba(0, 0, 0, 0.8),
    inset 2px 2px 5px rgba(255, 255, 255, 0.2),
    0 0 15px var(--planet-color);
  animation: planet-rotate 10s linear infinite;
}

@keyframes planet-rotate {
  from { transform: rotateY(0deg); }
  to { transform: rotateY(360deg); }
}

// Saturn's Rings
.saturn-rings {
  position: absolute;
  top: 50%;
  left: 50%;
  width: calc(var(--planet-size) * 2.2);
  height: calc(var(--planet-size) * 0.6);
  transform: translate(-50%, -50%) rotateX(75deg);
  border: 3px solid rgba(244, 213, 158, 0.5);
  border-radius: 50%;
  z-index: 1;

  &::before {
    content: '';
    position: absolute;
    inset: -6px;
    border: 2px solid rgba(244, 213, 158, 0.3);
    border-radius: 50%;
  }

  &::after {
    content: '';
    position: absolute;
    inset: 3px;
    border: 2px solid rgba(244, 213, 158, 0.4);
    border-radius: 50%;
  }
}

.planet-name {
  position: absolute;
  top: calc(var(--planet-size) + 8px);
  left: 50%;
  transform: translateX(-50%);
  font-size: 9px;
  color: var(--planet-color);
  font-family: $font-mono;
  white-space: nowrap;
  text-shadow: 0 0 10px rgba(0, 0, 0, 0.9);
  letter-spacing: 1px;
  opacity: 0.8;
}

// ==================
// ASTEROID BELT
// ==================
.asteroid-belt {
  position: absolute;
  width: 0;
  height: 0;
  transform-style: preserve-3d;
}

.asteroid {
  position: absolute;
  width: var(--size);
  height: var(--size);
  background: rgba(150, 140, 130, 0.6);
  border-radius: 50%;
  transform: rotate(var(--angle)) translateX(var(--distance));
  animation: asteroid-drift 40s linear infinite;
  animation-delay: var(--delay);
}

@keyframes asteroid-drift {
  from { transform: rotate(var(--angle)) translateX(var(--distance)); }
  to { transform: rotate(calc(var(--angle) + 360deg)) translateX(var(--distance)); }
}

// ==================
// STAR FIELD
// ==================
.star-field {
  position: absolute;
  width: 0;
  height: 0;
  transform-style: preserve-3d;
  pointer-events: none;
}

.distant-star {
  position: absolute;
  width: var(--star-size);
  height: var(--star-size);
  background: white;
  border-radius: 50%;
  transform: translate3d(var(--x), var(--y), var(--z));
  animation: star-twinkle 3s ease-in-out infinite;
  animation-delay: var(--twinkle-delay);
  box-shadow: 0 0 2px white;
}

@keyframes star-twinkle {
  0%, 100% { opacity: 0.2; }
  50% { opacity: 0.8; }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}
