"use strict";(()=>{var V={physics:{repulsion:0,attraction:0,centerGravity:0,damping:.98,ambientForce:0,ambientFrequency:.002,minVelocity:0,maxVelocity:1},visual:{nodeRadiusByDepth:[45,32,24,16,12],glowIntensityByDepth:[1,.8,.6,.4,.25],opacityByDepth:[1,.95,.85,.7,.5],breatheDuration:4e3,particleCount:80}},J={voidBg:"#0a0a0f",voidBgLight:"#12121a",glassWhite:"rgba(255, 255, 255, 0.08)",glassWhiteHover:"rgba(255, 255, 255, 0.12)",glassBorder:"rgba(255, 255, 255, 0.15)",root:"#60a5fa",professional:"#4ade80",personal:"#f472b6",text:"#ffffff",textMuted:"rgba(255, 255, 255, 0.6)",textDim:"rgba(255, 255, 255, 0.4)"},b={levelSpacing:280,siblingSpacing:120,minZoom:.2,maxZoom:2.5,defaultZoom:1,panEasing:.12,hoverFadeSpeed:.15,expansionDuration:2e3,expansionEasing:.08};var he={root:{id:"dnm",label:"DNM",fullLabel:"Diego Nepomuceno Marcos",icon:"user",color:"#2196F3",children:["professional","personal"]},nodes:{professional:{id:"professional",label:"Professional",icon:"briefcase",color:"#4CAF50",children:["profile-pro","repos","nexus"]},personal:{id:"personal",label:"Personal",icon:"heart",color:"#E91E63",children:["profile-personal","deving","tools","circus"]},"profile-pro":{id:"profile-pro",label:"Profile",icon:"user",color:"#4CAF50",children:["contact-pro","profiles-pro","ventures","curriculum"]},repos:{id:"repos",label:"Repos",icon:"brand-github",color:"#4CAF50",children:["github-overview","cs-repos","eng-finance-repos"]},nexus:{id:"nexus",label:"Nexus",icon:"rocket",color:"#4CAF50",children:["nexus-contact","nexus-venture"]},"profile-personal":{id:"profile-personal",label:"Profile",icon:"user",color:"#E91E63",children:["contact-personal","profiles-personal","my-media","my-endurance","my-maps","my-bucket"]},deving:{id:"deving",label:"Deving",icon:"code",color:"#E91E63",children:["cloud-portal","ai-tools","inbox-tools","productivity-tools","dev-tools"]},tools:{id:"tools",label:"Tools",icon:"settings",color:"#E91E63",children:["health-tools","finance-tools","content-tools"]},circus:{id:"circus",label:"Circus",icon:"sparkles",color:"#E91E63",children:["games","video","audio"]},"contact-pro":{id:"contact-pro",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"vCard",url:"public/diegonmarcos-contact_photo.vcf",icon:"user",download:!0}]},"profiles-pro":{id:"profiles-pro",label:"Profiles",icon:"world",color:"#81C784",links:[{label:"Landpage",url:"https://diegonmarcos.com/",icon:"world"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},ventures:{id:"ventures",label:"Ventures",icon:"rocket",color:"#81C784",links:[{label:"Nexus",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"}]},curriculum:{id:"curriculum",label:"Curriculum",icon:"file-type-pdf",color:"#81C784",links:[{label:"CV (web)",url:"https://diegonmarcos.github.io/cv_web",icon:"file-type-html"},{label:"CV (pdf)",url:"https://diegonmarcos.github.io/cv_pdf",icon:"file-type-pdf"}]},"github-overview":{id:"github-overview",label:"Overview",icon:"brand-github",color:"#81C784",links:[{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},"cs-repos":{id:"cs-repos",label:"Computer Science",icon:"brain",color:"#81C784",links:[{label:"Back-End",url:"https://github.com/diegonmarcos/back-System",icon:"settings"},{label:"Cyber-Security",url:"https://github.com/diegonmarcos/cyber-Cyberwarfare",icon:"bolt"},{label:"DevOps",url:"https://github.com/diegonmarcos/ops-Tooling",icon:"git-branch"},{label:"Front-End",url:"https://github.com/diegonmarcos/diegonmarcos.github.io",icon:"world"},{label:"ARM Mobile",url:"https://github.com/diegonmarcos/front-android-Portfolio",icon:"device-desktop"},{label:"Data Science",url:"https://github.com/diegonmarcos/ml-DataScience",icon:"brain"}]},"eng-finance-repos":{id:"eng-finance-repos",label:"Engineering & Finance",icon:"database",color:"#81C784",links:[{label:"Civil Engineer",url:"https://github.com/diegonmarcos/cveng_AFrame",icon:"settings"},{label:"Macro Economics",url:"https://github.com/diegonmarcos/ecoqt-thesis1",icon:"world-longitude"},{label:"Quant Finance",url:"https://github.com/diegonmarcos/ecoqt-thesis2",icon:"database"}]},"nexus-contact":{id:"nexus-contact",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"}]},"nexus-venture":{id:"nexus-venture",label:"Venture",icon:"rocket",color:"#81C784",links:[{label:"Website",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"},{label:"Slides",url:"https://diegonmarcos.github.io/nexus/slides",icon:"slideshow"}]},"contact-personal":{id:"contact-personal",label:"Contact",icon:"send",color:"#F48FB1",links:[{label:"Telegram",url:"https://t.me/diegonmarcos",icon:"send"},{label:"WhatsApp",url:"https://wa.me/34634769833",icon:"brand-whatsapp"}]},"profiles-personal":{id:"profiles-personal",label:"Profiles",icon:"user",color:"#F48FB1",links:[{label:"MyProfile",url:"https://diegonmarcos.github.io/myprofile",icon:"user"}]},"my-media":{id:"my-media",label:"Media",icon:"headphones",color:"#F48FB1",links:[{label:"TIDAL",url:"https://tidal.com/@diegonmarcos",icon:"headphones"},{label:"YouTube",url:"https://www.youtube.com/@diegonmarcos1",icon:"brand-youtube"},{label:"Pinterest",url:"https://www.pinterest.com/diegonmarcos",icon:"slideshow"},{label:"Instagram",url:"https://www.instagram.com/diegonmarcos",icon:"brand-instagram"}]},"my-endurance":{id:"my-endurance",label:"Endurance",icon:"bike",color:"#F48FB1",links:[{label:"Komoot",url:"https://www.komoot.com/user/2474200810898/routes",icon:"christmas-tree"},{label:"Strava",url:"https://www.strava.com/athletes/4662170",icon:"bike"}]},"my-maps":{id:"my-maps",label:"Maps",icon:"map-pin-2",color:"#F48FB1",links:[{label:"NomadMania",url:"https://nomadmania.com/profile/73889",icon:"brand-google-maps"},{label:"Google Maps",url:"https://www.google.com/maps/d/u/0/edit?mid=1Wpors-fGHMZOYPx41nDtyF9vXOJcpsY",icon:"map-pin-2"},{label:"Earth",url:"https://earth.google.com/earth/d/1WF5_9NDew9IB5xkTqXPpm9e9n8JM0a3H",icon:"world-longitude"}]},"my-bucket":{id:"my-bucket",label:"Bucket List",icon:"checklist",color:"#F48FB1",links:[{label:"50 Things",url:"https://bucketlistjourney.net/my-bucket-list",icon:"checklist"}]},"cloud-portal":{id:"cloud-portal",label:"Cloud Portal",icon:"settings",color:"#F48FB1",links:[{label:"Portal",url:"https://diegonmarcos.github.io/cloud",icon:"settings"}]},"ai-tools":{id:"ai-tools",label:"AI",icon:"robot",color:"#F48FB1",links:[{label:"Chat Multi-Model",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"robot"},{label:"WebIDE",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"device-desktop"}]},"inbox-tools":{id:"inbox-tools",label:"Inbox",icon:"mail",color:"#F48FB1",links:[{label:"Mail&Cal",url:"https://diegonmarcos.github.io/mymail",icon:"mail"},{label:"MyFeed",url:"https://diegonmarcos.github.io/myfeed",icon:"file-stack"}]},"productivity-tools":{id:"productivity-tools",label:"Productivity",icon:"file-stack",color:"#F48FB1",links:[{label:"Drive&Suite",url:"https://diegonmarcos.github.io/mydrive",icon:"file-stack"},{label:"JSON Vision",url:"https://diegonmarcos.github.io/json-vision",icon:"database"}]},"dev-tools":{id:"dev-tools",label:"DEV",icon:"git-branch",color:"#F48FB1",links:[{label:"API Endpoints",url:"https://diegonmarcos.github.io/cloud/api",icon:"git-branch"},{label:"MCP Tools",url:"https://diegonmarcos.github.io/cloud/mcp",icon:"settings"}]},"health-tools":{id:"health-tools",label:"Health",icon:"heart",color:"#F48FB1",links:[{label:"Feed Yourself",url:"https://diegonmarcos.github.io/feed_yourself",icon:"brain"},{label:"Health Tracker",url:"https://diegonmarcos.github.io/health_tracker",icon:"heart"}]},"finance-tools":{id:"finance-tools",label:"Finance",icon:"database",color:"#F48FB1",links:[{label:"Market Watch",url:"https://diegonmarcos.github.io/market_watch",icon:"database"},{label:"Central Bank",url:"https://diegonmarcos.github.io/central_bank",icon:"database"}]},"content-tools":{id:"content-tools",label:"Content",icon:"map-pin-2",color:"#F48FB1",links:[{label:"MyMaps",url:"https://diegonmarcos.github.io/mymaps",icon:"map-pin-2"}]},games:{id:"games",label:"Games",icon:"device-gamepad",color:"#F48FB1",links:[{label:"MyGames",url:"https://diegonmarcos.github.io/mygames",icon:"device-gamepad"}]},video:{id:"video",label:"Video",icon:"brand-youtube",color:"#F48FB1",links:[{label:"MyVideos",url:"https://diegonmarcos.github.io/myvideos",icon:"video"},{label:"MyMovies",url:"https://diegonmarcos.github.io/mymovies/",icon:"brand-youtube"}]},audio:{id:"audio",label:"Audio",icon:"headphones",color:"#F48FB1",links:[{label:"MyMusic",url:"https://diegonmarcos.github.io/mymusic/",icon:"headphones"}]}}};async function ge(){return Promise.resolve(he)}function pe(e){let t=[],o=[],n=new Map,i=me(e.root,0,null);t.push(i),n.set(i.id,i);function a(r,u,h){u&&u.forEach(s=>{let m=e.nodes[s];if(!m){console.warn(`Node not found: ${s}`);return}let g=me(m,h,r);t.push(g),n.set(g.id,g),r.children.push(g),o.push({source:r,target:g,highlighted:!1,opacity:1}),a(g,m.children,h+1)})}return a(i,e.root.children,1),{nodes:t,edges:o}}function me(e,t,o){let n=V.visual,i=Math.min(t,n.nodeRadiusByDepth.length-1);return{id:e.id,label:e.label,fullLabel:e.fullLabel,icon:e.icon,color:e.color,depth:t,parent:o,children:[],links:e.links||[],x:0,y:0,vx:0,vy:0,targetX:0,targetY:0,radius:n.nodeRadiusByDepth[i],opacity:1,glowIntensity:n.glowIntensityByDepth[i],highlighted:!1,hovered:!1,focused:!1,breathePhase:Math.random()*Math.PI*2,breatheScale:1}}function et(e){let t=[],o=e.parent;for(;o;)t.push(o),o=o.parent;return t}function tt(e){let t=[];function o(n){n.children.forEach(i=>{t.push(i),o(i)})}return o(e),t}function L(e,t,o){if(!o){e.forEach(s=>{s.highlighted=!1,s.opacity=1}),t.forEach(s=>{s.highlighted=!1,s.opacity=1});return}let n=et(o),i=tt(o),a=new Set([o,...n,...i]),r=new Map;r.set(o,0),n.forEach((s,m)=>{r.set(s,m+1)});function u(s,m){s.children.forEach(g=>{r.has(g)||(r.set(g,m),u(g,m+1))})}u(o,1);let h=Math.max(...Array.from(r.values()),1);e.forEach(s=>{if(s.highlighted=a.has(s),s.highlighted){let m=r.get(s)||0;s.opacity=Math.max(.3,1-m/(h+1)*.7)}else s.opacity=.08}),t.forEach(s=>{if(s.highlighted=a.has(s.source)&&a.has(s.target),s.highlighted){let m=r.get(s.source)||0,g=r.get(s.target)||0,y=(m+g)/2;s.opacity=Math.max(.3,1-y/(h+1)*.7)}else s.opacity=.03})}function M(e=0,t=1){return Math.random()*(t-e)+e}function nt(e){e=e.replace(/^#/,""),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:t&255,a:1}}function ot(e){return`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}function v(e,t){if(e.startsWith("rgba"))return e.replace(/[\d.]+\)$/,`${t})`);if(e.startsWith("rgb("))return e.replace("rgb(","rgba(").replace(")",`, ${t})`);let o=nt(e);return o.a=t,ot(o)}function fe(e,t,o,n,i,a,r=1){let u=e.createRadialGradient(t,o,n,t,o,i);return u.addColorStop(0,v(a,.4*r)),u.addColorStop(.5,v(a,.15*r)),u.addColorStop(1,"transparent"),u}function be(e,t,o,n,i,a=1){let r=e.createRadialGradient(t,o-n*.3,0,t,o,n);return r.addColorStop(0,v("#ffffff",.18*a)),r.addColorStop(.4,v(i,.12*a)),r.addColorStop(.8,v(i,.2*a)),r.addColorStop(1,v(i,.25*a)),r}var W=[],f=null,x=null;function ye(e){if(f=e,x=f.getContext("2d"),!x){console.error("Failed to get 2D context for particle canvas");return}ve(),it(),window.addEventListener("resize",ve)}function ve(){f&&(f.width=window.innerWidth,f.height=window.innerHeight)}function it(){W=[];let e=V.visual.particleCount;for(let t=0;t<e;t++)W.push(rt())}function rt(){let e=f?.width||window.innerWidth,t=f?.height||window.innerHeight;return{x:M(0,e),y:M(0,t),vx:M(-.2,.2),vy:M(-.2,.2),radius:M(.5,2),opacity:M(.2,.6),twinklePhase:M(0,Math.PI*2),twinkleSpeed:M(.01,.03)}}function xe(e){let t=f?.width||window.innerWidth,o=f?.height||window.innerHeight;W.forEach(n=>{n.x+=n.vx*e*.05,n.y+=n.vy*e*.05,n.x<0&&(n.x=t),n.x>t&&(n.x=0),n.y<0&&(n.y=o),n.y>o&&(n.y=0),n.twinklePhase+=n.twinkleSpeed*e*.1})}function we(){if(!x||!f)return;let e=x.createRadialGradient(f.width/2,f.height/2,0,f.width/2,f.height/2,Math.max(f.width,f.height)*.7);e.addColorStop(0,J.voidBgLight),e.addColorStop(1,J.voidBg),x.fillStyle=e,x.fillRect(0,0,f.width,f.height),W.forEach(t=>{let o=.5+.5*Math.sin(t.twinklePhase),n=t.opacity*o;if(x.beginPath(),x.arc(t.x,t.y,t.radius,0,Math.PI*2),x.fillStyle=v("#ffffff",n),x.fill(),t.radius>1.2){let i=x.createRadialGradient(t.x,t.y,0,t.x,t.y,t.radius*4);i.addColorStop(0,v("#ffffff",n*.3)),i.addColorStop(1,"transparent"),x.fillStyle=i,x.beginPath(),x.arc(t.x,t.y,t.radius*4,0,Math.PI*2),x.fill()}})}var w=null,l=null,Ee=new Map;function Me(e){if(w=e,l=w.getContext("2d"),!l){console.error("Failed to get 2D context for graph canvas");return}ke(),window.addEventListener("resize",ke)}function ke(){w&&(w.width=window.innerWidth,w.height=window.innerHeight)}function z(){return{width:w?.width||window.innerWidth,height:w?.height||window.innerHeight}}function Ce(e,t,o,n){!l||!w||(l.clearRect(0,0,w.width,w.height),l.save(),l.translate(w.width/2+o.x,w.height/2+o.y),l.scale(o.scale,o.scale),l.translate(-w.width/2,-w.height/2),lt(t),at(t),e.forEach(i=>ct(i,n)),e.forEach(i=>dt(i,o.scale)),l.restore())}function at(e){l&&e.forEach(t=>{let{source:o,target:n,highlighted:i,opacity:a}=t,r=(o.x+n.x)/2,u=(o.y+n.y)/2,h=n.x-o.x,s=n.y-o.y,m=Math.sqrt(h*h+s*s),g=m*.15,y=-s/m,D=h/m,Y=r+y*g,S=u+D*g,X=l.createLinearGradient(o.x,o.y,n.x,n.y),je=i?.7:.25,Qe=i?.7:.25;X.addColorStop(0,v(o.color,je*a*o.opacity)),X.addColorStop(1,v(n.color,Qe*a*n.opacity)),l.strokeStyle=X,l.lineWidth=i?2:1,l.lineCap="round",l.beginPath(),l.moveTo(o.x,o.y),l.quadraticCurveTo(Y,S,n.x,n.y),l.stroke()})}function lt(e){if(!l)return;e.filter(o=>o.highlighted).forEach(o=>{let{source:n,target:i}=o,a=(n.x+i.x)/2,r=(n.y+i.y)/2,u=i.x-n.x,h=i.y-n.y,s=Math.sqrt(u*u+h*h),m=s*.15,g=-h/s,y=u/s,D=a+g*m,Y=r+y*m;l.save(),l.filter="blur(6px)";let S=l.createLinearGradient(n.x,n.y,i.x,i.y);S.addColorStop(0,v(n.color,.4)),S.addColorStop(1,v(i.color,.4)),l.strokeStyle=S,l.lineWidth=4,l.lineCap="round",l.beginPath(),l.moveTo(n.x,n.y),l.quadraticCurveTo(D,Y,i.x,i.y),l.stroke(),l.restore()})}function ct(e,t){if(!l)return;let{x:o,y:n,radius:i,color:a,opacity:r,highlighted:u,hovered:h,breathePhase:s}=e,m=1+.003*Math.sin(t*.001+s),g=i*m,y=r;if(h){let S=g*1.5,X=fe(l,o,n,g,S,a,.3);l.fillStyle=X,l.beginPath(),l.arc(o,n,S,0,Math.PI*2),l.fill()}let D=be(l,o,n,g,a,y);l.fillStyle=D,l.beginPath(),l.arc(o,n,g,0,Math.PI*2),l.fill();let Y=h?.5:u?.35:.15;l.strokeStyle=v("#ffffff",Y*y),l.lineWidth=h?2:u?1.5:1,l.stroke(),g>14&&st(e.icon,o,n,g*.5,y)}function st(e,t,o,n,i){if(!l)return;let a=`public/icons/${e}.svg`,r=Ee.get(a);r||(r=new Image,r.src=a,Ee.set(a,r)),r.complete&&r.naturalWidth>0&&(l.save(),l.globalAlpha=i*.9,l.filter="brightness(0) invert(1)",l.drawImage(r,t-n,o-n,n*2,n*2),l.restore())}function dt(e,t){if(!l||!(e.depth<=3||e.hovered||e.highlighted))return;let n=e.depth===0?16:e.depth===1?13:e.depth===2?11:10,i=Math.max(8,n/Math.sqrt(t));l.font=`500 ${i}px Inter, sans-serif`,l.textAlign="center",l.textBaseline="top";let a=e.fullLabel||e.label,r=e.y+e.radius*e.breatheScale+8,u=e.highlighted||e.hovered?1:e.opacity,h=e.highlighted||e.hovered?1.2:.6;l.fillStyle=v(e.color,h*u),l.filter="blur(4px)",l.fillText(a,e.x,r),l.filter="none",l.fillStyle=v("#ffffff",u),l.fillText(a,e.x,r)}function Se(e,t,o){let n=e.find(h=>h.depth===0);if(!n)return;n.x=n.targetX=t,n.y=n.targetY=o;let i=Math.max(...e.map(h=>h.depth)),a=Math.min(t,o)*.8,r=i>0?a/i:b.levelSpacing,u=Math.max(r,150);Ne(n,t,o,0,Math.PI*2,0,u)}function Ne(e,t,o,n,i,a,r){if(e.children.length===0)return;let u=r*(a+1),h=e.children.length,s=i/h;e.children.forEach((m,g)=>{let y=n+s*g+s/2;m.x=m.targetX=t+Math.cos(y)*u,m.y=m.targetY=o+Math.sin(y)*u,Ne(m,t,o,n+s*g,s,a+1,r)})}function Le(){return{x:0,y:0,scale:b.defaultZoom,targetX:0,targetY:0,targetScale:b.defaultZoom}}function Ge(e){e.x+=(e.targetX-e.x)*b.panEasing,e.y+=(e.targetY-e.y)*b.panEasing,e.scale+=(e.targetScale-e.scale)*b.panEasing,e.scale=Math.max(b.minZoom,Math.min(b.maxZoom,e.scale)),e.targetScale=Math.max(b.minZoom,Math.min(b.maxZoom,e.targetScale))}function $(e,t,o,n,i){let a=n/2,r=i/2;return{x:(e-a-o.x)/o.scale+a,y:(t-r-o.y)/o.scale+r}}function Pe(e,t,o,n){let i=o/2,a=n/2;t.targetX=i-e.x,t.targetY=a-e.y,t.targetScale=Math.min(1.5,b.maxZoom)}function F(e){e.targetX=0,e.targetY=0,e.targetScale=b.defaultZoom}function Be(e){e.targetScale=Math.min(e.targetScale*1.3,b.maxZoom)}function Ve(e){e.targetScale=Math.max(e.targetScale/1.3,b.minZoom)}function K(e,t,o,n,i,a){let r=e.targetScale,u=Math.max(b.minZoom,Math.min(b.maxZoom,r*(1-n*.001))),h=i/2,s=a/2,m=t-h,g=o-s,y=u-r;e.targetX-=(m-e.targetX)*(y/r),e.targetY-=(g-e.targetY)*(y/r),e.targetScale=u}function Fe(e,t){let o=V.visual.breatheDuration;e.forEach(n=>{let i=.03*n.glowIntensity;n.breatheScale=1+i*Math.sin(t/o*Math.PI*2+n.breathePhase)})}var c={hoveredNode:null,focusedNode:null,draggingNode:null,isPanning:!1,panStartX:0,panStartY:0,lastMouseX:0,lastMouseY:0},d=null,C=[],G=[],p=null,j=null,Q=null;function Te(e,t,o,n){d=e,C=t,G=o,p=n,d.addEventListener("mousemove",ut),d.addEventListener("mousedown",ht),d.addEventListener("mouseup",mt),d.addEventListener("mouseleave",gt),d.addEventListener("wheel",pt,{passive:!1}),d.addEventListener("click",ft),d.addEventListener("dblclick",bt),d.addEventListener("touchstart",vt,{passive:!1}),d.addEventListener("touchmove",yt,{passive:!1}),d.addEventListener("touchend",xt)}function Ie(e,t){j=e,Q=t}function O(e,t){if(!d||!p)return null;let o=$(e,t,p,d.width,d.height);for(let n=C.length-1;n>=0;n--){let i=C[n],a=i.radius*3,r=o.x-i.x,u=o.y-i.y;if(Math.sqrt(r*r+u*u)<=a)return i}return null}function ut(e){if(!d)return;let t=d.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top;if(c.lastMouseX=o,c.lastMouseY=n,c.isPanning&&p){let a=o-c.panStartX,r=n-c.panStartY;p.targetX+=a,p.targetY+=r,c.panStartX=o,c.panStartY=n;return}if(c.draggingNode&&p&&d){let a=$(o,n,p,d.width,d.height);c.draggingNode.x=a.x,c.draggingNode.y=a.y,c.draggingNode.vx=0,c.draggingNode.vy=0;return}let i=O(o,n);c.hoveredNode&&c.hoveredNode!==i&&(c.hoveredNode.hovered=!1),i?(i.hovered=!0,d.style.cursor="pointer",L(C,G,i)):(d.style.cursor=c.isPanning?"grabbing":"grab",L(C,G,null)),c.hoveredNode=i}function ht(e){let t=d.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top,i=O(o,n);i?(c.draggingNode=i,i.dragging=!0,d.style.cursor="grabbing"):(c.isPanning=!0,c.panStartX=o,c.panStartY=n,d.style.cursor="grabbing")}function mt(){c.draggingNode&&(c.draggingNode.dragging=!1,c.draggingNode=null),c.isPanning=!1,d.style.cursor=c.hoveredNode?"pointer":"grab"}function gt(){c.hoveredNode&&(c.hoveredNode.hovered=!1,c.focusedNode||L(C,G,null)),c.hoveredNode=null,c.isPanning=!1,c.draggingNode&&(c.draggingNode.dragging=!1,c.draggingNode=null)}function pt(e){if(e.preventDefault(),!p||!d)return;let t=d.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top;K(p,o,n,e.deltaY,d.width,d.height)}function ft(e){let t=d.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top,i=O(o,n);i?j&&j(i):Q&&Q()}function bt(){p&&(F(p),c.focusedNode=null,L(C,G,null))}var ee=0;function vt(e){if(e.preventDefault(),e.touches.length===1){let t=e.touches[0],o=d.getBoundingClientRect(),n=t.clientX-o.left,i=t.clientY-o.top;c.lastMouseX=n,c.lastMouseY=i;let a=O(n,i);a?(c.draggingNode=a,a.dragging=!0):(c.isPanning=!0,c.panStartX=n,c.panStartY=i)}else if(e.touches.length===2){let t=e.touches[0],o=e.touches[1];ee=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY)}}function yt(e){if(e.preventDefault(),e.touches.length===1&&(c.isPanning||c.draggingNode)){let t=e.touches[0],o=d.getBoundingClientRect(),n=t.clientX-o.left,i=t.clientY-o.top;if(c.isPanning&&p){let a=n-c.panStartX,r=i-c.panStartY;p.targetX+=a,p.targetY+=r,c.panStartX=n,c.panStartY=i}else if(c.draggingNode&&p&&d){let a=$(n,i,p,d.width,d.height);c.draggingNode.x=a.x,c.draggingNode.y=a.y}c.lastMouseX=n,c.lastMouseY=i}else if(e.touches.length===2&&p&&d){let t=e.touches[0],o=e.touches[1],n=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY),i={x:(t.clientX+o.clientX)/2,y:(t.clientY+o.clientY)/2},a=d.getBoundingClientRect(),r=(ee-n)*2;K(p,i.x-a.left,i.y-a.top,r,d.width,d.height),ee=n}}function xt(){c.draggingNode&&(c.draggingNode.dragging=!1,c.draggingNode=null),c.isPanning=!1}function te(e){c.focusedNode=e,e&&L(C,G,e)}function ne(){c.focusedNode=null,L(C,G,null)}var T=null,wt=null,Et=null,k=null,oe=null,Z=null,De=null,I=null,Ye=null,Xe=null,He=null,H=null,N=null,E=null,re=0,ae=0,P=null;function Re(e,t,o){E=e,re=t,ae=o,T=document.getElementById("tooltip"),wt=document.getElementById("tooltip-title"),Et=document.getElementById("tooltip-subtitle"),k=document.getElementById("link-panel"),oe=document.getElementById("link-panel-title"),Z=document.getElementById("link-panel-links"),De=document.getElementById("link-panel-close"),I=document.getElementById("btn-back"),Ye=document.getElementById("btn-reset"),Xe=document.getElementById("btn-zoom-in"),He=document.getElementById("btn-zoom-out"),H=document.getElementById("loading"),N=document.createElement("div"),N.className="panel-backdrop",document.getElementById("ui-overlay")?.appendChild(N),De?.addEventListener("click",ie),N?.addEventListener("click",ie),Ye?.addEventListener("click",Oe),Xe?.addEventListener("click",Ze),He?.addEventListener("click",qe),I?.addEventListener("click",St),document.addEventListener("keydown",Nt)}function Ae(e){P=e}function We(e,t){re=e,ae=t}function ze(){H&&(H.hidden=!1)}function le(){H&&(H.hidden=!0)}function $e(){T&&(T.classList.remove("visible"),setTimeout(()=>{T&&!T.classList.contains("visible")&&(T.hidden=!0)},150))}function kt(e){!k||!oe||!Z||!N||(oe.textContent=e.fullLabel||e.label,Z.innerHTML="",e.links.forEach(t=>{let o=Mt(t);Z.appendChild(o)}),N.classList.add("visible"),k.hidden=!1,requestAnimationFrame(()=>{k?.classList.add("visible")}))}function ie(){!k||!N||(k.classList.remove("visible"),N.classList.remove("visible"),setTimeout(()=>{k&&!k.classList.contains("visible")&&(k.hidden=!0)},300))}function Mt(e){let t=document.createElement("a");return t.className="link-card",t.href=e.url,t.target="_blank",t.rel="noopener noreferrer",e.download&&(t.download=""),t.innerHTML=`
    <div class="link-icon">
      <img src="public/icons/${e.icon}.svg" alt="${e.label}">
    </div>
    <span class="link-label">${e.label}</span>
  `,t}function Ct(){I&&(I.hidden=!1)}function R(){I&&(I.hidden=!0)}function Oe(){E&&(F(E),R(),P&&P())}function Ze(){E&&Be(E)}function qe(){E&&Ve(E)}function St(){E&&(F(E),R(),P&&P())}function Nt(e){e.key==="Escape"&&(k&&!k.hidden?ie():E&&(F(E),R(),P&&P())),(e.key==="+"||e.key==="=")&&Ze(),(e.key==="-"||e.key==="_")&&qe(),(e.key==="0"||e.key==="r")&&Oe()}function ce(e){E&&(Pe(e,E,re,ae),Ct(),e.links.length>0&&kt(e))}var B=[],de=[],A,ue=0,U=null,se=null,q=null,_=0,Ue=0;async function _e(){try{if(ze(),se=document.getElementById("bg-canvas"),q=document.getElementById("graph-canvas"),!se||!q)throw new Error("Canvas elements not found");ye(se),Me(q);let e=await ge(),t=pe(e);B=t.nodes,de=t.edges,A=Le();let{width:o,height:n}=z();Se(B,o/2,n/2);let i=o/2,a=n/2;B.forEach(r=>{r.x=i,r.y=a,r.vx=0,r.vy=0}),Ue=performance.now(),_=0,Te(q,B,de,A),Ie(Lt,Gt),Re(A,o,n),Ae(Pt),le(),ue=performance.now(),U=requestAnimationFrame(Je)}catch(e){console.error("Failed to initialize:",e),le(),alert("Failed to load mindmap data. Please refresh the page.")}}function Je(e){let t=e-ue;ue=e;let{width:o,height:n}=z(),i=o/2,a=n/2;if(_<1){let r=e-Ue;_=Math.min(1,r/2e3);let h=1-Math.pow(1-_,3);B.forEach(s=>{s.x=i+(s.targetX-i)*h,s.y=a+(s.targetY-a)*h})}xe(t),Ge(A),Fe(B,e),we(),Ce(B,de,A,e),Bt(),U=requestAnimationFrame(Je)}function Lt(e){e.links.length>0?(ce(e),te(e)):e.children.length>0&&(ce(e),te(e))}function Gt(){ne(),R()}function Pt(){ne()}function Bt(){$e()}function Ke(){let{width:e,height:t}=z();We(e,t)}window.addEventListener("resize",Ke);function Vt(){U!==null&&cancelAnimationFrame(U),window.removeEventListener("resize",Ke)}window.addEventListener("beforeunload",Vt);document.readyState==="loading"?document.addEventListener("DOMContentLoaded",_e):_e();})();
