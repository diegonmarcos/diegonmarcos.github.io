<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>DNM | Pixel World</title>
    <meta name="description" content="Retro pixel art RPG link hub - explore buildings to discover links">
    <link rel="icon" type="image/jpeg" href="public/favicon.jpg">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://diegonmarcos.github.io/linktree_pixel-world/">
    <meta property="og:title" content="Diego Nepomuceno Marcos | Pixel World">
    <meta property="og:description" content="Retro pixel art RPG link hub">

    <!-- Matomo Tag Manager -->
    <script>
    var _mtm = window._mtm = window._mtm || [];
    _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
    (function() {
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src='https://analytics.diegonmarcos.com/js/container_odwLIyPV.js'; s.parentNode.insertBefore(g,s);
    })();
    </script>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- WebGL Background Canvas - GPU starfield -->
    <canvas id="bg-canvas"></canvas>

    <!-- PixiJS canvas injected after bg-canvas by JS -->

    <!-- Zone Transition Overlay -->
    <div id="zone-transition"></div>

    <!-- UI Overlay -->
    <div id="ui-overlay">
        <!-- World Title (persistent top bar) -->
        <div id="world-title">
            <span id="world-title-text"></span>
        </div>

        <!-- Zone Label (top center, temporary) -->
        <div id="zone-label" hidden>
            <span id="zone-label-text"></span>
        </div>

        <!-- Minimap (bottom-left) -->
        <div id="minimap-container">
            <canvas id="minimap"></canvas>
        </div>

        <!-- HUD (top-right) -->
        <nav id="hud">
            <a href="https://diegonmarcos.github.io/linktree/" class="hud-btn" title="Linktree">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                    <polyline points="9 22 9 12 15 12 15 22"/>
                </svg>
            </a>
            <a href="https://diegonmarcos.github.io/linktree_mindmap/" class="hud-btn" title="Mindmap">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <circle cx="4" cy="6" r="2"/><line x1="6" y1="7" x2="9.5" y2="10"/>
                    <circle cx="20" cy="6" r="2"/><line x1="18" y1="7" x2="14.5" y2="10"/>
                    <circle cx="4" cy="18" r="2"/><line x1="6" y1="17" x2="9.5" y2="14"/>
                    <circle cx="20" cy="18" r="2"/><line x1="18" y1="17" x2="14.5" y2="14"/>
                </svg>
            </a>
            <button id="btn-25d" class="hud-btn" title="Toggle 2.5D view (V)" aria-label="Toggle perspective">3D</button>
        </nav>

        <!-- Mobile D-Pad -->
        <div id="dpad" hidden>
            <button class="dpad-btn dpad-up" aria-label="Move up" data-dir="up">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4l-8 8h16z"/></svg>
            </button>
            <button class="dpad-btn dpad-left" aria-label="Move left" data-dir="left">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M4 12l8-8v16z"/></svg>
            </button>
            <button class="dpad-btn dpad-action" aria-label="Interact" data-dir="action">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><circle cx="12" cy="12" r="6"/></svg>
            </button>
            <button class="dpad-btn dpad-right" aria-label="Move right" data-dir="right">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20 12l-8-8v16z"/></svg>
            </button>
            <button class="dpad-btn dpad-down" aria-label="Move down" data-dir="down">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 20l8-8H4z"/></svg>
            </button>
        </div>

        <!-- RPG Dialog Box (link viewer) -->
        <div id="dialog-box" hidden>
            <div id="dialog-border">
                <div id="dialog-title"></div>
                <ul id="dialog-links"></ul>
                <div id="dialog-hint"></div>
            </div>
        </div>

        <!-- Loading -->
        <div id="loading">
            <div class="loading-sprite"></div>
            <span>Loading...</span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
