"use strict";(()=>{var D={physics:{repulsion:0,attraction:0,centerGravity:0,damping:.98,ambientForce:0,ambientFrequency:.002,minVelocity:0,maxVelocity:1},visual:{nodeRadiusByDepth:[45,32,24,16,12],glowIntensityByDepth:[1,.8,.6,.4,.25],opacityByDepth:[1,.95,.85,.7,.5],breatheDuration:4e3,particleCount:80}},j={voidBg:"#0a0a0f",voidBgLight:"#12121a",glassWhite:"rgba(255, 255, 255, 0.08)",glassWhiteHover:"rgba(255, 255, 255, 0.12)",glassBorder:"rgba(255, 255, 255, 0.15)",root:"#60a5fa",professional:"#4ade80",personal:"#f472b6",text:"#ffffff",textMuted:"rgba(255, 255, 255, 0.6)",textDim:"rgba(255, 255, 255, 0.4)"},b={levelSpacing:280,siblingSpacing:120,minZoom:.2,maxZoom:2.5,defaultZoom:1,panEasing:.12,hoverFadeSpeed:.15,expansionDuration:2e3,expansionEasing:.08};var pe={root:{id:"dnm",label:"DNM",fullLabel:"Diego Nepomuceno Marcos",icon:"user",color:"#2196F3",children:["professional","personal"]},nodes:{professional:{id:"professional",label:"Professional",icon:"briefcase",color:"#4CAF50",children:["profile-pro","repos","nexus"]},personal:{id:"personal",label:"Personal",icon:"heart",color:"#E91E63",children:["profile-personal","deving","tools","circus"]},"profile-pro":{id:"profile-pro",label:"Profile",icon:"user",color:"#4CAF50",children:["contact-pro","profiles-pro","ventures","curriculum"]},repos:{id:"repos",label:"Repos",icon:"brand-github",color:"#4CAF50",children:["github-overview","cs-repos","eng-finance-repos"]},nexus:{id:"nexus",label:"Nexus",icon:"rocket",color:"#4CAF50",children:["nexus-contact","nexus-venture"]},"profile-personal":{id:"profile-personal",label:"Profile",icon:"user",color:"#E91E63",children:["contact-personal","profiles-personal","my-media","my-endurance","my-maps","my-bucket"]},deving:{id:"deving",label:"Deving",icon:"code",color:"#E91E63",children:["cloud-portal","ai-tools","inbox-tools","productivity-tools","dev-tools"]},tools:{id:"tools",label:"Tools",icon:"settings",color:"#E91E63",children:["health-tools","finance-tools","content-tools"]},circus:{id:"circus",label:"Circus",icon:"sparkles",color:"#E91E63",children:["games","video","audio"]},"contact-pro":{id:"contact-pro",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"vCard",url:"public/diegonmarcos-contact_photo.vcf",icon:"user",download:!0}]},"profiles-pro":{id:"profiles-pro",label:"Profiles",icon:"world",color:"#81C784",links:[{label:"Landpage",url:"https://diegonmarcos.com/",icon:"world"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},ventures:{id:"ventures",label:"Ventures",icon:"rocket",color:"#81C784",links:[{label:"Nexus",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"}]},curriculum:{id:"curriculum",label:"Curriculum",icon:"file-type-pdf",color:"#81C784",links:[{label:"CV (web)",url:"https://diegonmarcos.github.io/cv_web",icon:"file-type-html"},{label:"CV (pdf)",url:"https://diegonmarcos.github.io/cv_pdf",icon:"file-type-pdf"}]},"github-overview":{id:"github-overview",label:"Overview",icon:"brand-github",color:"#81C784",links:[{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},"cs-repos":{id:"cs-repos",label:"Computer Science",icon:"brain",color:"#81C784",links:[{label:"Back-End",url:"https://github.com/diegonmarcos/back-System",icon:"settings"},{label:"Cyber-Security",url:"https://github.com/diegonmarcos/cyber-Cyberwarfare",icon:"bolt"},{label:"DevOps",url:"https://github.com/diegonmarcos/ops-Tooling",icon:"git-branch"},{label:"Front-End",url:"https://github.com/diegonmarcos/diegonmarcos.github.io",icon:"world"},{label:"ARM Mobile",url:"https://github.com/diegonmarcos/front-android-Portfolio",icon:"device-desktop"},{label:"Data Science",url:"https://github.com/diegonmarcos/ml-DataScience",icon:"brain"}]},"eng-finance-repos":{id:"eng-finance-repos",label:"Engineering & Finance",icon:"database",color:"#81C784",links:[{label:"Civil Engineer",url:"https://github.com/diegonmarcos/cveng_AFrame",icon:"settings"},{label:"Macro Economics",url:"https://github.com/diegonmarcos/ecoqt-thesis1",icon:"world-longitude"},{label:"Quant Finance",url:"https://github.com/diegonmarcos/ecoqt-thesis2",icon:"database"}]},"nexus-contact":{id:"nexus-contact",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"}]},"nexus-venture":{id:"nexus-venture",label:"Venture",icon:"rocket",color:"#81C784",links:[{label:"Website",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"},{label:"Slides",url:"https://diegonmarcos.github.io/nexus/slides",icon:"slideshow"}]},"contact-personal":{id:"contact-personal",label:"Contact",icon:"send",color:"#F48FB1",links:[{label:"Telegram",url:"https://t.me/diegonmarcos",icon:"send"},{label:"WhatsApp",url:"https://wa.me/34634769833",icon:"brand-whatsapp"}]},"profiles-personal":{id:"profiles-personal",label:"Profiles",icon:"user",color:"#F48FB1",links:[{label:"MyProfile",url:"https://diegonmarcos.github.io/myprofile",icon:"user"}]},"my-media":{id:"my-media",label:"Media",icon:"headphones",color:"#F48FB1",links:[{label:"TIDAL",url:"https://tidal.com/@diegonmarcos",icon:"headphones"},{label:"YouTube",url:"https://www.youtube.com/@diegonmarcos1",icon:"brand-youtube"},{label:"Pinterest",url:"https://www.pinterest.com/diegonmarcos",icon:"slideshow"},{label:"Instagram",url:"https://www.instagram.com/diegonmarcos",icon:"brand-instagram"}]},"my-endurance":{id:"my-endurance",label:"Endurance",icon:"bike",color:"#F48FB1",links:[{label:"Komoot",url:"https://www.komoot.com/user/2474200810898/routes",icon:"christmas-tree"},{label:"Strava",url:"https://www.strava.com/athletes/4662170",icon:"bike"}]},"my-maps":{id:"my-maps",label:"Maps",icon:"map-pin-2",color:"#F48FB1",links:[{label:"NomadMania",url:"https://nomadmania.com/profile/73889",icon:"brand-google-maps"},{label:"Google Maps",url:"https://www.google.com/maps/d/u/0/edit?mid=1Wpors-fGHMZOYPx41nDtyF9vXOJcpsY",icon:"map-pin-2"},{label:"Earth",url:"https://earth.google.com/earth/d/1WF5_9NDew9IB5xkTqXPpm9e9n8JM0a3H",icon:"world-longitude"}]},"my-bucket":{id:"my-bucket",label:"Bucket List",icon:"checklist",color:"#F48FB1",links:[{label:"50 Things",url:"https://bucketlistjourney.net/my-bucket-list",icon:"checklist"}]},"cloud-portal":{id:"cloud-portal",label:"Cloud Portal",icon:"settings",color:"#F48FB1",links:[{label:"Portal",url:"https://diegonmarcos.github.io/cloud",icon:"settings"}]},"ai-tools":{id:"ai-tools",label:"AI",icon:"robot",color:"#F48FB1",links:[{label:"Chat Multi-Model",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"robot"},{label:"WebIDE",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"device-desktop"}]},"inbox-tools":{id:"inbox-tools",label:"Inbox",icon:"mail",color:"#F48FB1",links:[{label:"Mail&Cal",url:"https://diegonmarcos.github.io/mymail",icon:"mail"},{label:"MyFeed",url:"https://diegonmarcos.github.io/myfeed",icon:"file-stack"}]},"productivity-tools":{id:"productivity-tools",label:"Productivity",icon:"file-stack",color:"#F48FB1",links:[{label:"Drive&Suite",url:"https://diegonmarcos.github.io/mydrive",icon:"file-stack"},{label:"JSON Vision",url:"https://diegonmarcos.github.io/json-vision",icon:"database"}]},"dev-tools":{id:"dev-tools",label:"DEV",icon:"git-branch",color:"#F48FB1",links:[{label:"API Endpoints",url:"https://diegonmarcos.github.io/cloud/api",icon:"git-branch"},{label:"MCP Tools",url:"https://diegonmarcos.github.io/cloud/mcp",icon:"settings"}]},"health-tools":{id:"health-tools",label:"Health",icon:"heart",color:"#F48FB1",links:[{label:"Feed Yourself",url:"https://diegonmarcos.github.io/feed_yourself",icon:"brain"},{label:"Health Tracker",url:"https://diegonmarcos.github.io/health_tracker",icon:"heart"}]},"finance-tools":{id:"finance-tools",label:"Finance",icon:"database",color:"#F48FB1",links:[{label:"Market Watch",url:"https://diegonmarcos.github.io/market_watch",icon:"database"},{label:"Central Bank",url:"https://diegonmarcos.github.io/central_bank",icon:"database"}]},"content-tools":{id:"content-tools",label:"Content",icon:"map-pin-2",color:"#F48FB1",links:[{label:"MyMaps",url:"https://diegonmarcos.github.io/mymaps",icon:"map-pin-2"}]},games:{id:"games",label:"Games",icon:"device-gamepad",color:"#F48FB1",links:[{label:"MyGames",url:"https://diegonmarcos.github.io/mygames",icon:"device-gamepad"}]},video:{id:"video",label:"Video",icon:"brand-youtube",color:"#F48FB1",links:[{label:"MyVideos",url:"https://diegonmarcos.github.io/myvideos",icon:"video"},{label:"MyMovies",url:"https://diegonmarcos.github.io/mymovies/",icon:"brand-youtube"}]},audio:{id:"audio",label:"Audio",icon:"headphones",color:"#F48FB1",links:[{label:"MyMusic",url:"https://diegonmarcos.github.io/mymusic/",icon:"headphones"}]}}};async function be(){return Promise.resolve(pe)}function ve(e){let t=[],o=[],n=new Map,i=fe(e.root,0,null);t.push(i),n.set(i.id,i);function a(r,d,u){d&&d.forEach(h=>{let m=e.nodes[h];if(!m){console.warn(`Node not found: ${h}`);return}let p=fe(m,u,r);t.push(p),n.set(p.id,p),r.children.push(p),o.push({source:r,target:p,highlighted:!1,opacity:1}),a(p,m.children,u+1)})}return a(i,e.root.children,1),{nodes:t,edges:o}}function fe(e,t,o){let n=D.visual,i=Math.min(t,n.nodeRadiusByDepth.length-1);return{id:e.id,label:e.label,fullLabel:e.fullLabel,icon:e.icon,color:e.color,depth:t,parent:o,children:[],links:e.links||[],x:0,y:0,vx:0,vy:0,targetX:0,targetY:0,radius:n.nodeRadiusByDepth[i],opacity:1,glowIntensity:n.glowIntensityByDepth[i],highlighted:!1,hovered:!1,focused:!1,breathePhase:Math.random()*Math.PI*2,breatheScale:1}}function it(e){let t=[],o=e.parent;for(;o;)t.push(o),o=o.parent;return t}function rt(e){let t=[];function o(n){n.children.forEach(i=>{t.push(i),o(i)})}return o(e),t}function V(e,t,o){if(console.log("highlightPath called, target:",o?.label),!o){e.forEach(r=>{r.highlighted=!1,r.opacity=1}),t.forEach(r=>{r.highlighted=!1,r.opacity=1}),console.log("Cleared all highlights");return}let n=new Set(it(o)),i=new Set(rt(o)),a=new Set([o,...n,...i]);console.log("Highlighting:",a.size,"nodes"),e.forEach(r=>{r.highlighted=a.has(r),r.highlighted?r.opacity=1:r.opacity=.05}),t.forEach(r=>{r.highlighted=a.has(r.source)&&a.has(r.target),r.opacity=r.highlighted?1:.02})}function S(e=0,t=1){return Math.random()*(t-e)+e}function at(e){e=e.replace(/^#/,""),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:t&255,a:1}}function lt(e){return`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}function v(e,t){if(e.startsWith("rgba"))return e.replace(/[\d.]+\)$/,`${t})`);if(e.startsWith("rgb("))return e.replace("rgb(","rgba(").replace(")",`, ${t})`);let o=at(e);return o.a=t,lt(o)}function ye(e,t,o,n,i,a,r=1){let d=e.createRadialGradient(t,o,n,t,o,i);return d.addColorStop(0,v(a,.4*r)),d.addColorStop(.5,v(a,.15*r)),d.addColorStop(1,"transparent"),d}function xe(e,t,o,n,i,a=1){let r=e.createRadialGradient(t,o-n*.3,0,t,o,n);return r.addColorStop(0,v("#ffffff",.18*a)),r.addColorStop(.4,v(i,.12*a)),r.addColorStop(.8,v(i,.2*a)),r.addColorStop(1,v(i,.25*a)),r}var O=[],f=null,x=null;function Ee(e){if(f=e,x=f.getContext("2d"),!x){console.error("Failed to get 2D context for particle canvas");return}we(),ct(),window.addEventListener("resize",we)}function we(){f&&(f.width=window.innerWidth,f.height=window.innerHeight)}function ct(){O=[];let e=D.visual.particleCount;for(let t=0;t<e;t++)O.push(st())}function st(){let e=f?.width||window.innerWidth,t=f?.height||window.innerHeight;return{x:S(0,e),y:S(0,t),vx:S(-.2,.2),vy:S(-.2,.2),radius:S(.5,2),opacity:S(.2,.6),twinklePhase:S(0,Math.PI*2),twinkleSpeed:S(.01,.03)}}function ke(e){let t=f?.width||window.innerWidth,o=f?.height||window.innerHeight;O.forEach(n=>{n.x+=n.vx*e*.05,n.y+=n.vy*e*.05,n.x<0&&(n.x=t),n.x>t&&(n.x=0),n.y<0&&(n.y=o),n.y>o&&(n.y=0),n.twinklePhase+=n.twinkleSpeed*e*.1})}function Ce(){if(!x||!f)return;let e=x.createRadialGradient(f.width/2,f.height/2,0,f.width/2,f.height/2,Math.max(f.width,f.height)*.7);e.addColorStop(0,j.voidBgLight),e.addColorStop(1,j.voidBg),x.fillStyle=e,x.fillRect(0,0,f.width,f.height),O.forEach(t=>{let o=.5+.5*Math.sin(t.twinklePhase),n=t.opacity*o;if(x.beginPath(),x.arc(t.x,t.y,t.radius,0,Math.PI*2),x.fillStyle=v("#ffffff",n),x.fill(),t.radius>1.2){let i=x.createRadialGradient(t.x,t.y,0,t.x,t.y,t.radius*4);i.addColorStop(0,v("#ffffff",n*.3)),i.addColorStop(1,"transparent"),x.fillStyle=i,x.beginPath(),x.arc(t.x,t.y,t.radius*4,0,Math.PI*2),x.fill()}})}var w=null,c=null,Me=new Map;function Ne(e){if(w=e,c=w.getContext("2d"),!c){console.error("Failed to get 2D context for graph canvas");return}Se(),window.addEventListener("resize",Se)}function Se(){w&&(w.width=window.innerWidth,w.height=window.innerHeight)}function X(){return{width:w?.width||window.innerWidth,height:w?.height||window.innerHeight}}function Le(e,t,o,n){!c||!w||(c.clearRect(0,0,w.width,w.height),c.save(),c.translate(w.width/2+o.x,w.height/2+o.y),c.scale(o.scale,o.scale),c.translate(-w.width/2,-w.height/2),ut(t),dt(t),e.forEach(i=>ht(i,n)),e.forEach(i=>mt(i,o.scale)),c.restore())}function dt(e){c&&e.forEach(t=>{let{source:o,target:n,highlighted:i,opacity:a}=t,r=(o.x+n.x)/2,d=(o.y+n.y)/2,u=n.x-o.x,h=n.y-o.y,m=Math.sqrt(u*u+h*h),p=m*.15,y=-h/m,L=u/m,T=r+y*p,G=d+L*p,R=c.createLinearGradient(o.x,o.y,n.x,n.y),J=i?.7:.25,ot=i?.7:.25;R.addColorStop(0,v(o.color,J*a*o.opacity)),R.addColorStop(1,v(n.color,ot*a*n.opacity)),c.strokeStyle=R,c.lineWidth=i?2:1,c.lineCap="round",c.beginPath(),c.moveTo(o.x,o.y),c.quadraticCurveTo(T,G,n.x,n.y),c.stroke()})}function ut(e){if(!c)return;e.filter(o=>o.highlighted).forEach(o=>{let{source:n,target:i}=o,a=(n.x+i.x)/2,r=(n.y+i.y)/2,d=i.x-n.x,u=i.y-n.y,h=Math.sqrt(d*d+u*u),m=h*.15,p=-u/h,y=d/h,L=a+p*m,T=r+y*m;c.save(),c.filter="blur(6px)";let G=c.createLinearGradient(n.x,n.y,i.x,i.y);G.addColorStop(0,v(n.color,.4)),G.addColorStop(1,v(i.color,.4)),c.strokeStyle=G,c.lineWidth=4,c.lineCap="round",c.beginPath(),c.moveTo(n.x,n.y),c.quadraticCurveTo(L,T,i.x,i.y),c.stroke(),c.restore()})}function ht(e,t){if(!c)return;let{x:o,y:n,radius:i,color:a,opacity:r,glowIntensity:d,highlighted:u,hovered:h,breathePhase:m}=e,p=1+.005*Math.sin(t*.001+m),y=i*p,L=h||u?1:r,T=u||h?d*4:d*.3,G=y*(2+T*.5),R=ye(c,o,n,y*.5,G,a,L*T);c.fillStyle=R,c.beginPath(),c.arc(o,n,G,0,Math.PI*2),c.fill();let J=xe(c,o,n,y,a,L);c.fillStyle=J,c.beginPath(),c.arc(o,n,y,0,Math.PI*2),c.fill(),c.strokeStyle=v("#ffffff",(h?.35:.2)*L),c.lineWidth=h?1.5:1,c.stroke(),y>14&&gt(e.icon,o,n,y*.5,L)}function gt(e,t,o,n,i){if(!c)return;let a=`public/icons/${e}.svg`,r=Me.get(a);r||(r=new Image,r.src=a,Me.set(a,r)),r.complete&&r.naturalWidth>0&&(c.save(),c.globalAlpha=i*.9,c.filter="brightness(0) invert(1)",c.drawImage(r,t-n,o-n,n*2,n*2),c.restore())}function mt(e,t){if(!c||!(e.depth<=3||e.hovered||e.highlighted))return;let n=e.depth===0?16:e.depth===1?13:e.depth===2?11:10,i=Math.max(8,n/Math.sqrt(t));c.font=`500 ${i}px Inter, sans-serif`,c.textAlign="center",c.textBaseline="top";let a=e.fullLabel||e.label,r=e.y+e.radius*e.breatheScale+8,d=e.highlighted||e.hovered?1:e.opacity,u=e.highlighted||e.hovered?1.2:.6;c.fillStyle=v(e.color,u*d),c.filter="blur(4px)",c.fillText(a,e.x,r),c.filter="none",c.fillStyle=v("#ffffff",d),c.fillText(a,e.x,r)}function Ge(e,t,o){let n=e.find(u=>u.depth===0);if(!n)return;n.x=n.targetX=t,n.y=n.targetY=o;let i=Math.max(...e.map(u=>u.depth)),a=Math.min(t,o)*.8,r=i>0?a/i:b.levelSpacing,d=Math.max(r,150);Pe(n,t,o,0,Math.PI*2,0,d)}function Pe(e,t,o,n,i,a,r){if(e.children.length===0)return;let d=r*(a+1),u=e.children.length,h=i/u;e.children.forEach((m,p)=>{let y=n+h*p+h/2;m.x=m.targetX=t+Math.cos(y)*d,m.y=m.targetY=o+Math.sin(y)*d,Pe(m,t,o,n+h*p,h,a+1,r)})}function Be(){return{x:0,y:0,scale:b.defaultZoom,targetX:0,targetY:0,targetScale:b.defaultZoom}}function Ve(e){e.x+=(e.targetX-e.x)*b.panEasing,e.y+=(e.targetY-e.y)*b.panEasing,e.scale+=(e.targetScale-e.scale)*b.panEasing,e.scale=Math.max(b.minZoom,Math.min(b.maxZoom,e.scale)),e.targetScale=Math.max(b.minZoom,Math.min(b.maxZoom,e.targetScale))}function $(e,t,o,n,i){let a=n/2,r=i/2;return{x:(e-a-o.x)/o.scale+a,y:(t-r-o.y)/o.scale+r}}function Ie(e,t,o,n){let i=o/2,a=n/2;t.targetX=i-e.x,t.targetY=a-e.y,t.targetScale=Math.min(1.5,b.maxZoom)}function Y(e){e.targetX=0,e.targetY=0,e.targetScale=b.defaultZoom}function Fe(e){e.targetScale=Math.min(e.targetScale*1.3,b.maxZoom)}function Te(e){e.targetScale=Math.max(e.targetScale/1.3,b.minZoom)}function Q(e,t,o,n,i,a){let r=e.targetScale,d=Math.max(b.minZoom,Math.min(b.maxZoom,r*(1-n*.001))),u=i/2,h=a/2,m=t-u,p=o-h,y=d-r;e.targetX-=(m-e.targetX)*(y/r),e.targetY-=(p-e.targetY)*(y/r),e.targetScale=d}function De(e,t){let o=D.visual.breatheDuration;e.forEach(n=>{let i=.03*n.glowIntensity;n.breatheScale=1+i*Math.sin(t/o*Math.PI*2+n.breathePhase)})}var l={hoveredNode:null,focusedNode:null,draggingNode:null,isPanning:!1,panStartX:0,panStartY:0,lastMouseX:0,lastMouseY:0},s=null,M=[],P=[],g=null,ee=null,te=null;function Ye(e,t,o,n){s=e,M=t,P=o,g=n,console.log("\u{1F7E2} Interaction initialized:",M.length,"nodes,",P.length,"edges"),console.log("\u{1F7E2} Canvas element:",e),console.log("\u{1F7E2} Canvas ID:",e.id),console.log("\u{1F7E2} Canvas size:",e.width,"x",e.height);let i=window.getComputedStyle(e);console.log("\u{1F7E2} Canvas pointer-events:",i.pointerEvents),console.log("\u{1F7E2} Canvas z-index:",i.zIndex),console.log("\u{1F7E2} Canvas position:",i.position),window.addEventListener("mousemove",()=>{console.log("\u{1F536} WINDOW mousemove detected")},{once:!0}),document.addEventListener("mousemove",()=>{console.log("\u{1F537} DOCUMENT mousemove detected")},{once:!0}),s.addEventListener("mousemove",pt),s.addEventListener("mousedown",ft),s.addEventListener("mouseup",bt),s.addEventListener("mouseleave",vt),s.addEventListener("wheel",yt,{passive:!1}),s.addEventListener("click",xt),s.addEventListener("dblclick",wt),console.log("\u{1F7E2} Mouse event listeners attached to canvas"),console.log("\u{1F7E2} Listeners attached to element:",s.id),s.addEventListener("touchstart",Et,{passive:!1}),s.addEventListener("touchmove",kt,{passive:!1}),s.addEventListener("touchend",Ct),s.addEventListener("click",()=>{console.log("\u{1F7E1} CANVAS CLICK detected - events ARE working!")},{once:!0})}function He(e,t){ee=e,te=t}function Z(e,t){if(!s||!g)return null;let o=$(e,t,g,s.width,s.height);console.log("Mouse screen:",e,t,"World:",o.x,o.y,"View:",g.x,g.y,g.scale);for(let n=M.length-1;n>=0;n--){let i=M[n],a=i.radius*3,r=o.x-i.x,d=o.y-i.y,u=Math.sqrt(r*r+d*d);if(u<=a)return console.log("HIT NODE:",i.label,"at",i.x,i.y,"distance:",u,"radius:",a),i}return null}function pt(e){if(console.log("\u26A1 CANVAS MOUSEMOVE FIRED at",e.clientX,e.clientY),!s){console.error("\u274C Canvas is null!");return}let t=s.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top;if(console.log("\u26A1 Mouse local:",o,n),l.lastMouseX=o,l.lastMouseY=n,l.isPanning&&g){let a=o-l.panStartX,r=n-l.panStartY;g.targetX+=a,g.targetY+=r,l.panStartX=o,l.panStartY=n;return}if(l.draggingNode&&g&&s){let a=$(o,n,g,s.width,s.height);l.draggingNode.x=a.x,l.draggingNode.y=a.y,l.draggingNode.vx=0,l.draggingNode.vy=0;return}let i=Z(o,n);l.hoveredNode&&l.hoveredNode!==i&&(l.hoveredNode.hovered=!1,console.log("Cleared hover from:",l.hoveredNode.label)),i?(i.hovered=!0,s.style.cursor="pointer",console.log("\u{1F534} HOVERING:",i.label,"Depth:",i.depth,"ID:",i.id),V(M,P,i)):(s.style.cursor=l.isPanning?"grabbing":"grab",l.hoveredNode&&console.log("\u{1F535} No node hovered - clearing"),V(M,P,null)),l.hoveredNode=i}function ft(e){let t=s.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top,i=Z(o,n);i?(l.draggingNode=i,i.dragging=!0,s.style.cursor="grabbing"):(l.isPanning=!0,l.panStartX=o,l.panStartY=n,s.style.cursor="grabbing")}function bt(){l.draggingNode&&(l.draggingNode.dragging=!1,l.draggingNode=null),l.isPanning=!1,s.style.cursor=l.hoveredNode?"pointer":"grab"}function vt(){l.hoveredNode&&(l.hoveredNode.hovered=!1,l.focusedNode||V(M,P,null)),l.hoveredNode=null,l.isPanning=!1,l.draggingNode&&(l.draggingNode.dragging=!1,l.draggingNode=null)}function yt(e){if(e.preventDefault(),!g||!s)return;let t=s.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top;Q(g,o,n,e.deltaY,s.width,s.height)}function xt(e){let t=s.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top,i=Z(o,n);i?ee&&ee(i):te&&te()}function wt(){g&&(Y(g),l.focusedNode=null,V(M,P,null))}var ne=0;function Et(e){if(e.preventDefault(),e.touches.length===1){let t=e.touches[0],o=s.getBoundingClientRect(),n=t.clientX-o.left,i=t.clientY-o.top;l.lastMouseX=n,l.lastMouseY=i;let a=Z(n,i);a?(l.draggingNode=a,a.dragging=!0):(l.isPanning=!0,l.panStartX=n,l.panStartY=i)}else if(e.touches.length===2){let t=e.touches[0],o=e.touches[1];ne=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY)}}function kt(e){if(e.preventDefault(),e.touches.length===1&&(l.isPanning||l.draggingNode)){let t=e.touches[0],o=s.getBoundingClientRect(),n=t.clientX-o.left,i=t.clientY-o.top;if(l.isPanning&&g){let a=n-l.panStartX,r=i-l.panStartY;g.targetX+=a,g.targetY+=r,l.panStartX=n,l.panStartY=i}else if(l.draggingNode&&g&&s){let a=$(n,i,g,s.width,s.height);l.draggingNode.x=a.x,l.draggingNode.y=a.y}l.lastMouseX=n,l.lastMouseY=i}else if(e.touches.length===2&&g&&s){let t=e.touches[0],o=e.touches[1],n=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY),i={x:(t.clientX+o.clientX)/2,y:(t.clientY+o.clientY)/2},a=s.getBoundingClientRect(),r=(ne-n)*2;Q(g,i.x-a.left,i.y-a.top,r,s.width,s.height),ne=n}}function Ct(){l.draggingNode&&(l.draggingNode.dragging=!1,l.draggingNode=null),l.isPanning=!1}function Re(){return l.hoveredNode}function oe(e){l.focusedNode=e,e&&V(M,P,e)}function ie(){l.focusedNode=null,V(M,P,null)}var k=null,re=null,A=null,C=null,ae=null,q=null,Xe=null,H=null,Ae=null,We=null,ze=null,W=null,B=null,E=null,ce=0,se=0,I=null;function Oe(e,t,o){E=e,ce=t,se=o,k=document.getElementById("tooltip"),re=document.getElementById("tooltip-title"),A=document.getElementById("tooltip-subtitle"),C=document.getElementById("link-panel"),ae=document.getElementById("link-panel-title"),q=document.getElementById("link-panel-links"),Xe=document.getElementById("link-panel-close"),H=document.getElementById("btn-back"),Ae=document.getElementById("btn-reset"),We=document.getElementById("btn-zoom-in"),ze=document.getElementById("btn-zoom-out"),W=document.getElementById("loading"),B=document.createElement("div"),B.className="panel-backdrop",document.getElementById("ui-overlay")?.appendChild(B),Xe?.addEventListener("click",le),B?.addEventListener("click",le),Ae?.addEventListener("click",Ke),We?.addEventListener("click",Je),ze?.addEventListener("click",je),H?.addEventListener("click",Lt),document.addEventListener("keydown",Gt)}function $e(e){I=e}function Ze(e,t){ce=e,se=t}function qe(){W&&(W.hidden=!1)}function de(){W&&(W.hidden=!0)}function _e(e,t,o){if(!k||!re||!A)return;re.textContent=e.fullLabel||e.label,e.links.length>0?A.textContent=`${e.links.length} link${e.links.length>1?"s":""}`:e.children.length>0?A.textContent=`${e.children.length} item${e.children.length>1?"s":""}`:A.textContent="";let n=15,i=t+n,a=o+n;i+200>window.innerWidth&&(i=t-200-n),a+100>window.innerHeight&&(a=o-100-n),k.style.left=`${i}px`,k.style.top=`${a}px`,k.hidden=!1,k.classList.add("visible")}function Ue(){k&&(k.classList.remove("visible"),setTimeout(()=>{k&&!k.classList.contains("visible")&&(k.hidden=!0)},150))}function Mt(e){!C||!ae||!q||!B||(ae.textContent=e.fullLabel||e.label,q.innerHTML="",e.links.forEach(t=>{let o=St(t);q.appendChild(o)}),B.classList.add("visible"),C.hidden=!1,requestAnimationFrame(()=>{C?.classList.add("visible")}))}function le(){!C||!B||(C.classList.remove("visible"),B.classList.remove("visible"),setTimeout(()=>{C&&!C.classList.contains("visible")&&(C.hidden=!0)},300))}function St(e){let t=document.createElement("a");return t.className="link-card",t.href=e.url,t.target="_blank",t.rel="noopener noreferrer",e.download&&(t.download=""),t.innerHTML=`
    <div class="link-icon">
      <img src="public/icons/${e.icon}.svg" alt="${e.label}">
    </div>
    <span class="link-label">${e.label}</span>
  `,t}function Nt(){H&&(H.hidden=!1)}function z(){H&&(H.hidden=!0)}function Ke(){E&&(Y(E),z(),I&&I())}function Je(){E&&Fe(E)}function je(){E&&Te(E)}function Lt(){E&&(Y(E),z(),I&&I())}function Gt(e){e.key==="Escape"&&(C&&!C.hidden?le():E&&(Y(E),z(),I&&I())),(e.key==="+"||e.key==="=")&&Je(),(e.key==="-"||e.key==="_")&&je(),(e.key==="0"||e.key==="r")&&Ke()}function ue(e){E&&(Ie(e,E,ce,se),Nt(),e.links.length>0&&Mt(e))}var F=[],ge=[],N,me=0,K=null,he=null,_=null,U=0,et=0;async function Qe(){try{if(qe(),he=document.getElementById("bg-canvas"),_=document.getElementById("graph-canvas"),!he||!_)throw new Error("Canvas elements not found");Ee(he),Ne(_);let e=await be(),t=ve(e);F=t.nodes,ge=t.edges,N=Be();let{width:o,height:n}=X();Ge(F,o/2,n/2);let i=o/2,a=n/2;F.forEach(r=>{r.x=i,r.y=a,r.vx=0,r.vy=0}),et=performance.now(),U=0,Ye(_,F,ge,N),He(Pt,Bt),Oe(N,o,n),$e(Vt),de(),me=performance.now(),K=requestAnimationFrame(tt)}catch(e){console.error("Failed to initialize:",e),de(),alert("Failed to load mindmap data. Please refresh the page.")}}function tt(e){let t=e-me;me=e;let{width:o,height:n}=X(),i=o/2,a=n/2;if(U<1){let r=e-et;U=Math.min(1,r/2e3);let u=1-Math.pow(1-U,3);F.forEach(h=>{h.x=i+(h.targetX-i)*u,h.y=a+(h.targetY-a)*u})}ke(t),Ve(N),De(F,e),Ce(),Le(F,ge,N,e),It(),K=requestAnimationFrame(tt)}function Pt(e){e.links.length>0?(ue(e),oe(e)):e.children.length>0&&(ue(e),oe(e))}function Bt(){ie(),z()}function Vt(){ie()}function It(){let e=Re();if(e){let{width:t,height:o}=X(),n=t/2,i=o/2,a=(e.x-n)*N.scale+n+N.x,r=(e.y-i)*N.scale+i+N.y;_e(e,a,r)}else Ue()}function nt(){let{width:e,height:t}=X();Ze(e,t)}window.addEventListener("resize",nt);function Ft(){K!==null&&cancelAnimationFrame(K),window.removeEventListener("resize",nt)}window.addEventListener("beforeunload",Ft);document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Qe):Qe();})();
