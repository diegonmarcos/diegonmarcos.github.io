"use strict";(()=>{var xe={physics:{repulsion:0,attraction:0,centerGravity:0,damping:.98,ambientForce:0,ambientFrequency:.002,minVelocity:0,maxVelocity:1},visual:{nodeRadiusByDepth:[45,32,24,16,12],glowIntensityByDepth:[1,.8,.6,.4,.25],opacityByDepth:[1,.95,.85,.7,.5],breatheDuration:4e3,particleCount:80}};var T={levelSpacing:280,siblingSpacing:120,minZoom:.2,maxZoom:2.5,defaultZoom:1,panEasing:.12,hoverFadeSpeed:.15,expansionDuration:2e3,expansionEasing:.08};var Fe={root:{id:"dnm",label:"DNM",fullLabel:"Diego Nepomuceno Marcos",icon:"user",color:"#2196F3",children:["professional","personal"]},nodes:{professional:{id:"professional",label:"Professional",icon:"briefcase",color:"#4CAF50",children:["profile-pro","repos","nexus"]},personal:{id:"personal",label:"Personal",icon:"heart",color:"#E91E63",children:["profile-personal","deving","tools","circus"]},"profile-pro":{id:"profile-pro",label:"Profile",icon:"user",color:"#4CAF50",children:["contact-pro","profiles-pro","ventures","curriculum"]},repos:{id:"repos",label:"Repos",icon:"brand-github",color:"#4CAF50",children:["github-overview","cs-repos","eng-finance-repos"]},nexus:{id:"nexus",label:"Nexus",icon:"rocket",color:"#4CAF50",children:["nexus-contact","nexus-venture"]},"profile-personal":{id:"profile-personal",label:"Profile",icon:"user",color:"#E91E63",children:["contact-personal","profiles-personal","my-media","my-endurance","my-maps","my-bucket"]},deving:{id:"deving",label:"Deving",icon:"code",color:"#E91E63",children:["cloud-portal","ai-tools","inbox-tools","productivity-tools","dev-tools"]},tools:{id:"tools",label:"Tools",icon:"settings",color:"#E91E63",children:["health-tools","finance-tools","content-tools"]},circus:{id:"circus",label:"Circus",icon:"sparkles",color:"#E91E63",children:["games","video","audio"]},"contact-pro":{id:"contact-pro",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"vCard",url:"public/diegonmarcos-contact_photo.vcf",icon:"user",download:!0}]},"profiles-pro":{id:"profiles-pro",label:"Profiles",icon:"world",color:"#81C784",links:[{label:"Landpage",url:"https://diegonmarcos.com/",icon:"world"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},ventures:{id:"ventures",label:"Ventures",icon:"rocket",color:"#81C784",links:[{label:"Nexus",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"}]},curriculum:{id:"curriculum",label:"Curriculum",icon:"file-type-pdf",color:"#81C784",links:[{label:"CV (web)",url:"https://diegonmarcos.github.io/cv_web",icon:"file-type-html"},{label:"CV (pdf)",url:"https://diegonmarcos.github.io/cv_pdf",icon:"file-type-pdf"}]},"github-overview":{id:"github-overview",label:"Overview",icon:"brand-github",color:"#81C784",links:[{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},"cs-repos":{id:"cs-repos",label:"Computer Science",icon:"brain",color:"#81C784",links:[{label:"Back-End",url:"https://github.com/diegonmarcos/back-System",icon:"settings"},{label:"Cyber-Security",url:"https://github.com/diegonmarcos/cyber-Cyberwarfare",icon:"bolt"},{label:"DevOps",url:"https://github.com/diegonmarcos/ops-Tooling",icon:"git-branch"},{label:"Front-End",url:"https://github.com/diegonmarcos/diegonmarcos.github.io",icon:"world"},{label:"ARM Mobile",url:"https://github.com/diegonmarcos/front-android-Portfolio",icon:"device-desktop"},{label:"Data Science",url:"https://github.com/diegonmarcos/ml-DataScience",icon:"brain"}]},"eng-finance-repos":{id:"eng-finance-repos",label:"Engineering & Finance",icon:"database",color:"#81C784",links:[{label:"Civil Engineer",url:"https://github.com/diegonmarcos/cveng_AFrame",icon:"settings"},{label:"Macro Economics",url:"https://github.com/diegonmarcos/ecoqt-thesis1",icon:"world-longitude"},{label:"Quant Finance",url:"https://github.com/diegonmarcos/ecoqt-thesis2",icon:"database"}]},"nexus-contact":{id:"nexus-contact",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"}]},"nexus-venture":{id:"nexus-venture",label:"Venture",icon:"rocket",color:"#81C784",links:[{label:"Website",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"},{label:"Slides",url:"https://diegonmarcos.github.io/nexus/slides",icon:"slideshow"}]},"contact-personal":{id:"contact-personal",label:"Contact",icon:"send",color:"#F48FB1",links:[{label:"Telegram",url:"https://t.me/diegonmarcos",icon:"send"},{label:"WhatsApp",url:"https://wa.me/34634769833",icon:"brand-whatsapp"}]},"profiles-personal":{id:"profiles-personal",label:"Profiles",icon:"user",color:"#F48FB1",links:[{label:"MyProfile",url:"https://diegonmarcos.github.io/myprofile",icon:"user"}]},"my-media":{id:"my-media",label:"Media",icon:"headphones",color:"#F48FB1",links:[{label:"TIDAL",url:"https://tidal.com/@diegonmarcos",icon:"headphones"},{label:"YouTube",url:"https://www.youtube.com/@diegonmarcos1",icon:"brand-youtube"},{label:"Pinterest",url:"https://www.pinterest.com/diegonmarcos",icon:"slideshow"},{label:"Instagram",url:"https://www.instagram.com/diegonmarcos",icon:"brand-instagram"}]},"my-endurance":{id:"my-endurance",label:"Endurance",icon:"bike",color:"#F48FB1",links:[{label:"Komoot",url:"https://www.komoot.com/user/2474200810898/routes",icon:"christmas-tree"},{label:"Strava",url:"https://www.strava.com/athletes/4662170",icon:"bike"}]},"my-maps":{id:"my-maps",label:"Maps",icon:"map-pin-2",color:"#F48FB1",links:[{label:"NomadMania",url:"https://nomadmania.com/profile/73889",icon:"brand-google-maps"},{label:"Google Maps",url:"https://www.google.com/maps/d/u/0/edit?mid=1Wpors-fGHMZOYPx41nDtyF9vXOJcpsY",icon:"map-pin-2"},{label:"Earth",url:"https://earth.google.com/earth/d/1WF5_9NDew9IB5xkTqXPpm9e9n8JM0a3H",icon:"world-longitude"}]},"my-bucket":{id:"my-bucket",label:"Bucket List",icon:"checklist",color:"#F48FB1",links:[{label:"50 Things",url:"https://bucketlistjourney.net/my-bucket-list",icon:"checklist"}]},"cloud-portal":{id:"cloud-portal",label:"Cloud Portal",icon:"settings",color:"#F48FB1",links:[{label:"Portal",url:"https://diegonmarcos.github.io/cloud",icon:"settings"}]},"ai-tools":{id:"ai-tools",label:"AI",icon:"robot",color:"#F48FB1",links:[{label:"Chat Multi-Model",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"robot"},{label:"WebIDE",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"device-desktop"}]},"inbox-tools":{id:"inbox-tools",label:"Inbox",icon:"mail",color:"#F48FB1",links:[{label:"Mail&Cal",url:"https://diegonmarcos.github.io/mymail",icon:"mail"},{label:"MyFeed",url:"https://diegonmarcos.github.io/myfeed",icon:"file-stack"}]},"productivity-tools":{id:"productivity-tools",label:"Productivity",icon:"file-stack",color:"#F48FB1",links:[{label:"Drive&Suite",url:"https://diegonmarcos.github.io/mydrive",icon:"file-stack"},{label:"JSON Vision",url:"https://diegonmarcos.github.io/json-vision",icon:"database"}]},"dev-tools":{id:"dev-tools",label:"DEV",icon:"git-branch",color:"#F48FB1",links:[{label:"API Endpoints",url:"https://diegonmarcos.github.io/cloud/api",icon:"git-branch"},{label:"MCP Tools",url:"https://diegonmarcos.github.io/cloud/mcp",icon:"settings"}]},"health-tools":{id:"health-tools",label:"Health",icon:"heart",color:"#F48FB1",links:[{label:"Feed Yourself",url:"https://diegonmarcos.github.io/feed_yourself",icon:"brain"},{label:"Health Tracker",url:"https://diegonmarcos.github.io/health_tracker",icon:"heart"}]},"finance-tools":{id:"finance-tools",label:"Finance",icon:"database",color:"#F48FB1",links:[{label:"Market Watch",url:"https://diegonmarcos.github.io/market_watch",icon:"database"},{label:"Central Bank",url:"https://diegonmarcos.github.io/central_bank",icon:"database"}]},"content-tools":{id:"content-tools",label:"Content",icon:"map-pin-2",color:"#F48FB1",links:[{label:"MyMaps",url:"https://diegonmarcos.github.io/mymaps",icon:"map-pin-2"}]},games:{id:"games",label:"Games",icon:"device-gamepad",color:"#F48FB1",links:[{label:"MyGames",url:"https://diegonmarcos.github.io/mygames",icon:"device-gamepad"}]},video:{id:"video",label:"Video",icon:"brand-youtube",color:"#F48FB1",links:[{label:"MyVideos",url:"https://diegonmarcos.github.io/myvideos",icon:"video"},{label:"MyMovies",url:"https://diegonmarcos.github.io/mymovies/",icon:"brand-youtube"}]},audio:{id:"audio",label:"Audio",icon:"headphones",color:"#F48FB1",links:[{label:"MyMusic",url:"https://diegonmarcos.github.io/mymusic/",icon:"headphones"}]}}};async function Ye(){return Promise.resolve(Fe)}function Pe(e){let n=[],t=[],o=new Map,i=De(e.root,0,null);n.push(i),o.set(i.id,i);function l(r,c,m){c&&c.forEach(a=>{let p=e.nodes[a];if(!p){console.warn(`Node not found: ${a}`);return}let d=De(p,m,r);n.push(d),o.set(d.id,d),r.children.push(d),t.push({source:r,target:d,highlighted:!1,opacity:1}),l(d,p.children,m+1),p.links&&p.links.length>0&&(!p.children||p.children.length===0)&&p.links.forEach((h,x)=>{let y=Nt(h,`${d.id}-link-${x}`,m+1,d);n.push(y),o.set(y.id,y),d.children.push(y),t.push({source:d,target:y,highlighted:!1,opacity:1})})})}return l(i,e.root.children,1),{nodes:n,edges:t}}function Nt(e,n,t,o){let i=xe.visual,l=Math.min(t,i.nodeRadiusByDepth.length-1);return{id:n,label:e.label,fullLabel:e.label,icon:e.icon,color:o.color,depth:t,parent:o,children:[],links:[e],x:0,y:0,vx:0,vy:0,targetX:0,targetY:0,radius:i.nodeRadiusByDepth[l],opacity:1,glowIntensity:i.glowIntensityByDepth[l],highlighted:!1,hovered:!1,focused:!1,breathePhase:Math.random()*Math.PI*2,breatheScale:1}}function De(e,n,t){let o=xe.visual,i=Math.min(n,o.nodeRadiusByDepth.length-1);return{id:e.id,label:e.label,fullLabel:e.fullLabel,icon:e.icon,color:e.color,depth:n,parent:t,children:[],links:e.links||[],x:0,y:0,vx:0,vy:0,targetX:0,targetY:0,radius:o.nodeRadiusByDepth[i],opacity:1,glowIntensity:o.glowIntensityByDepth[i],highlighted:!1,hovered:!1,focused:!1,breathePhase:Math.random()*Math.PI*2,breatheScale:1}}function St(e){let n=[],t=e.parent;for(;t;)n.push(t),t=t.parent;return n}function Ct(e){let n=[];function t(o){o.children.forEach(i=>{n.push(i),t(i)})}return t(e),n}function W(e,n,t){if(!t){e.forEach(a=>{a.highlighted=!1,a.opacity=1}),n.forEach(a=>{a.highlighted=!1,a.opacity=1});return}let o=St(t),i=Ct(t),l=new Set([t,...o,...i]),r=new Map;r.set(t,0),o.forEach((a,p)=>{r.set(a,p+1)});function c(a,p){a.children.forEach(d=>{r.has(d)||(r.set(d,p),c(d,p+1))})}c(t,1);let m=Math.max(...Array.from(r.values()),1);e.forEach(a=>{if(a.highlighted=l.has(a),a.highlighted){let p=r.get(a)||0;a.opacity=Math.max(.3,1-p/(m+1)*.7)}else a.opacity=.08}),n.forEach(a=>{if(a.highlighted=l.has(a.source)&&l.has(a.target),a.highlighted){let p=r.get(a.source)||0,d=r.get(a.target)||0,h=(p+d)/2;a.opacity=Math.max(.3,1-h/(m+1)*.7)}else a.opacity=.03})}var H=null,D=null,L=null,ce=new Map,ke=new Map;function $e(e){if(H=e,D=document.getElementById("graph-world"),L=document.getElementById("edges-svg"),!D||!L){console.error("Graph DOM elements not found");return}Xe(),window.addEventListener("resize",Xe)}function Xe(){if(!L||!H)return;let e=H.clientWidth,n=H.clientHeight;L.setAttribute("viewBox",`0 0 ${e} ${n}`),L.style.width=`${e}px`,L.style.height=`${n}px`}function de(){return{width:H?.clientWidth||window.innerWidth,height:H?.clientHeight||window.innerHeight}}function Ae(e){D&&(D.innerHTML="",ce.clear(),e.forEach((n,t)=>{let o=document.createElement("div");o.className=`node node--depth-${Math.min(n.depth,5)}`,o.dataset.nodeId=n.id,o.style.setProperty("--node-color",n.color),o.style.setProperty("--enter-delay",String(t)),o.style.setProperty("--icon-url",`url(public/icons/${n.icon}.svg)`),o.style.backgroundImage="none";let i=document.createElement("img");i.className="node-icon",i.src=`public/icons/${n.icon}.svg`,i.alt="",i.draggable=!1,o.appendChild(i);let l=document.createElement("span");if(l.className="node-label",l.textContent=n.label,o.appendChild(l),n.children.length>0&&n.depth<3){let r=document.createElement("span");r.className="node-badge",r.textContent=String(n.children.length),o.appendChild(r)}D.appendChild(o),ce.set(n.id,o)}))}function Ve(e){if(!L)return;L.innerHTML="",ke.clear();let n=document.createElementNS("http://www.w3.org/2000/svg","defs");L.appendChild(n),e.forEach((t,o)=>{let i=`edge-gradient-${o}`,l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");l.id=i,l.setAttribute("gradientUnits","userSpaceOnUse");let r=document.createElementNS("http://www.w3.org/2000/svg","stop");r.setAttribute("offset","0%"),r.setAttribute("stop-color",t.source.color);let c=document.createElementNS("http://www.w3.org/2000/svg","stop");c.setAttribute("offset","100%"),c.setAttribute("stop-color",t.target.color),l.appendChild(r),l.appendChild(c),n.appendChild(l);let m=document.createElementNS("http://www.w3.org/2000/svg","path");m.className.baseVal="edge",m.setAttribute("stroke",`url(#${i})`),m.dataset.sourceId=t.source.id,m.dataset.targetId=t.target.id,L.appendChild(m),ke.set(`${t.source.id}-${t.target.id}`,m)})}function C(e,n,t){if(!D||!L||!H)return;let o=H.clientWidth/2,i=H.clientHeight/2;D.style.transform=`
    translate(${o+t.x}px, ${i+t.y}px)
    scale(${t.scale})
    translate(${-o}px, ${-i}px)
  `,L.style.transform=D.style.transform,e.forEach(l=>{let r=ce.get(l.id);r&&(r.style.left=`${l.x}px`,r.style.top=`${l.y}px`,r.classList.toggle("highlighted",l.highlighted),r.classList.toggle("dimmed",!l.highlighted&&e.some(c=>c.highlighted)),r.classList.toggle("focused",l.focused),!l.highlighted&&!l.hovered?r.style.opacity=String(l.opacity):r.style.opacity="1")}),n.forEach(l=>{let r=ke.get(`${l.source.id}-${l.target.id}`);if(r){let{source:c,target:m}=l,a=(c.x+m.x)/2,p=(c.y+m.y)/2,d=m.x-c.x,h=m.y-c.y,x=Math.sqrt(d*d+h*h),y=x*.15,F=-h/x,ye=d/x,_=a+F*y,U=p+ye*y;r.setAttribute("d",`M ${c.x} ${c.y} Q ${_} ${U} ${m.x} ${m.y}`);let se=r.getAttribute("stroke")?.match(/url\(#(.+)\)/)?.[1];if(se){let $=L?.querySelector(`#${se}`);$&&($.setAttribute("x1",String(c.x)),$.setAttribute("y1",String(c.y)),$.setAttribute("x2",String(m.x)),$.setAttribute("y2",String(m.y)))}r.classList.toggle("highlighted",l.highlighted)}})}function Re(e){return ce.get(e)}function We(e,n,t){let o=e.find(l=>l.depth===0);if(!o)return;o.x=o.targetX=n,o.y=o.targetY=t,Oe(o,n,t,0,Math.PI*2,0,180)}function Ze(e,n,t){if(e.length===0)return 1;let o=1/0,i=-1/0,l=1/0,r=-1/0;e.forEach(y=>{let F=y.radius+30;o=Math.min(o,y.targetX-F),i=Math.max(i,y.targetX+F),l=Math.min(l,y.targetY-F),r=Math.max(r,y.targetY+F)});let c=i-o,m=r-l,a=n*.9,p=t*.9,d=a/c,h=p/m,x=Math.min(d,h,1);return Math.max(x,T.minZoom)}function Oe(e,n,t,o,i,l,r){if(e.children.length===0)return;let c=r*(l+1),m=e.children.length,a=i/m;e.children.forEach((p,d)=>{let h=o+a*d+a/2;p.x=p.targetX=n+Math.cos(h)*c,p.y=p.targetY=t+Math.sin(h)*c,Oe(p,n,t,o+a*d,a,l+1,r)})}function ze(){return{x:0,y:0,scale:T.defaultZoom,targetX:0,targetY:0,targetScale:T.defaultZoom}}function qe(e,n,t,o){let i=t/2,l=o/2;n.targetX=i-e.x,n.targetY=l-e.y,n.targetScale=Math.min(1.5,T.maxZoom)}var _e=1;function Ue(e){_e=e}function K(e){e.targetX=0,e.targetY=0,e.targetScale=_e}function je(e){e.targetScale=Math.min(e.targetScale*1.3,T.maxZoom)}function Ke(e){e.targetScale=Math.max(e.targetScale/1.3,T.minZoom)}function Le(e,n,t,o,i,l){let r=e.targetScale,c=Math.max(T.minZoom,Math.min(T.maxZoom,r*(1-o*.001))),m=i/2,a=l/2,p=n-m,d=t-a,h=c-r;e.targetX-=(p-e.targetX)*(h/r),e.targetY-=(d-e.targetY)*(h/r),e.targetScale=c}var f={hoveredNode:null,focusedNode:null,draggingNode:null,isPanning:!1,panStartX:0,panStartY:0,lastMouseX:0,lastMouseY:0},b=null,Y=[],Z=[],u=null,J=null,Q=null,we=null,Me=0,ue=!1;function Qe(e){we=e}function A(){we&&we()}function et(e,n,t,o){b=e,Y=n,Z=t,u=o,Y.forEach(i=>{let l=Re(i.id);l&&(l.addEventListener("click",r=>{r.stopPropagation(),J&&J(i)}),l.addEventListener("mouseenter",()=>{f.hoveredNode=i,i.hovered=!0,W(Y,Z,i),A()}),l.addEventListener("mouseleave",()=>{i.hovered=!1,f.hoveredNode=null,f.focusedNode||W(Y,Z,null),A()}))}),b.addEventListener("mousedown",It),b.addEventListener("mousemove",Gt),b.addEventListener("mouseup",Je),b.addEventListener("mouseleave",Je),b.addEventListener("wheel",Tt,{passive:!1}),b.addEventListener("dblclick",Ht),b.addEventListener("click",i=>{let l=i.target;(l===b||l.id==="graph-world"||l.id==="edges-svg"||l.tagName==="svg"||l.tagName==="path")&&Q&&Q()}),b.addEventListener("touchstart",Bt,{passive:!1}),b.addEventListener("touchmove",Ft,{passive:!1}),b.addEventListener("touchend",Dt,{passive:!1})}function tt(e,n){J=e,Q=n}function It(e){e.target.closest(".node")||(f.isPanning=!0,f.panStartX=e.clientX,f.panStartY=e.clientY,b&&(b.style.cursor="grabbing"))}function Gt(e){if(!f.isPanning||!u)return;let n=e.clientX-f.panStartX,t=e.clientY-f.panStartY;u.x+=n,u.y+=t,u.targetX=u.x,u.targetY=u.y,f.panStartX=e.clientX,f.panStartY=e.clientY,A()}function Je(){f.isPanning=!1,b&&(b.style.cursor="grab")}function Tt(e){if(e.preventDefault(),!u||!b)return;let n=b.getBoundingClientRect(),t=e.clientX-n.left,o=e.clientY-n.top;Le(u,t,o,e.deltaY,b.clientWidth,b.clientHeight),u.x=u.targetX,u.y=u.targetY,u.scale=u.targetScale,A()}function Ht(e){e.target.closest(".node")||u&&(K(u),u.x=u.targetX,u.y=u.targetY,u.scale=u.targetScale,f.focusedNode=null,W(Y,Z,null),A())}function Bt(e){let n=e.target;if(n.closest(".node")){let o=n.closest(".node")?.dataset.nodeId,i=Y.find(l=>l.id===o);i&&J&&(e.preventDefault(),J(i));return}if(!(n.closest("#ui-overlay")&&!n.closest("#graph-container"))){if(e.preventDefault(),e.touches.length===1)f.isPanning=!0,f.panStartX=e.touches[0].clientX,f.panStartY=e.touches[0].clientY,ue=!1;else if(e.touches.length===2){f.isPanning=!1;let t=e.touches[0],o=e.touches[1];Me=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY)}}}function Ft(e){if(!u||!b)return;let n=e.target;if(!(n.closest("#ui-overlay")&&!n.closest("#graph-container"))){if(e.preventDefault(),ue=!0,e.touches.length===1&&f.isPanning){let t=e.touches[0],o=t.clientX-f.panStartX,i=t.clientY-f.panStartY;u.x+=o,u.y+=i,u.targetX=u.x,u.targetY=u.y,f.panStartX=t.clientX,f.panStartY=t.clientY,A()}else if(e.touches.length===2){let t=e.touches[0],o=e.touches[1],i=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY),l=(t.clientX+o.clientX)/2,r=(t.clientY+o.clientY)/2,c=b.getBoundingClientRect(),m=(Me-i)*2;Le(u,l-c.left,r-c.top,m,b.clientWidth,b.clientHeight),u.x=u.targetX,u.y=u.targetY,u.scale=u.targetScale,Me=i,A()}}}function Dt(e){let n=e.target;!ue&&e.changedTouches.length===1&&!n.closest(".node")&&!n.closest("#ui-overlay")&&Q&&Q(),f.isPanning=!1,ue=!1}function Ne(e){f.focusedNode=e,e&&W(Y,Z,e)}function Se(){f.focusedNode=null,W(Y,Z,null)}var Yt=null,Pt=null,Xt=null,$t=null,M=null,he=null,Ie=null,ee=null,nt=null,q=null,ot=null,it=null,lt=null,rt=null,ge=null,Ge=null,oe=null,Ce=null,N=null,w=null,me=null,pe=null,te=null,O=null,I=null,at=null,P=null,s=null,ie=0,le=0,B=[],z=null,re=null,V=null,S=null;function ct(e,n,t){s=e,ie=n,le=t,Yt=document.getElementById("tooltip"),Pt=document.getElementById("tooltip-title"),Xt=document.getElementById("tooltip-subtitle"),$t=document.getElementById("tooltip-badge"),M=document.getElementById("link-panel"),he=document.getElementById("link-panel-icon"),Ie=document.getElementById("link-panel-title"),ee=document.getElementById("link-panel-links"),nt=document.getElementById("link-panel-close"),q=document.getElementById("btn-back"),ot=document.getElementById("btn-home"),it=document.getElementById("btn-reset"),lt=document.getElementById("btn-zoom-in"),rt=document.getElementById("btn-zoom-out"),ge=document.getElementById("btn-fullscreen"),Ge=document.getElementById("zoom-indicator"),oe=document.getElementById("loading"),Ce=document.getElementById("search-container"),N=document.getElementById("search-input"),w=document.getElementById("search-results"),me=document.getElementById("breadcrumb"),pe=document.getElementById("breadcrumb-nav"),te=document.getElementById("minimap-canvas"),O=document.getElementById("minimap-viewport"),I=document.getElementById("keyboard-hints"),at=document.getElementById("hints-close"),P=document.createElement("div"),P.className="panel-backdrop",document.getElementById("ui-overlay")?.appendChild(P),nt?.addEventListener("click",Te),P?.addEventListener("click",Te),it?.addEventListener("click",fe),ot?.addEventListener("click",fe),lt?.addEventListener("click",vt),rt?.addEventListener("click",yt),ge?.addEventListener("click",Et),q?.addEventListener("click",qt),at?.addEventListener("click",ft),N?.addEventListener("input",Rt),N?.addEventListener("focus",()=>Ce?.classList.add("focused")),N?.addEventListener("blur",()=>{setTimeout(()=>{Ce?.classList.remove("focused"),w&&(w.hidden=!0)},200)}),document.addEventListener("keydown",_t),X()}function dt(e){B=e}function ut(e){re=e}function ht(e){V=e}function mt(e){S=e}function pt(e,n){ie=e,le=n}function gt(){oe&&(oe.hidden=!1)}function He(){oe&&(oe.hidden=!0)}function X(){if(Ge&&s){let e=Math.round(s.scale*100);Ge.textContent=`${e}%`}}function G(e){if(!me||!pe)return;if(!e){me.hidden=!0;return}let n=[],t=e;for(;t;)n.unshift(t),t=t.parent;pe.innerHTML=n.map((o,i)=>{let l=i===n.length-1,r=o.label;return l?`<span class="breadcrumb-current" style="color: ${o.color}">${r}</span>`:`<button class="breadcrumb-item" data-node-id="${o.id}" style="--accent: ${o.color}">${r}</button><span class="breadcrumb-sep">\u203A</span>`}).join(""),pe.querySelectorAll(".breadcrumb-item").forEach(o=>{o.addEventListener("click",()=>{let i=o.dataset.nodeId,l=B.find(r=>r.id===i);l&&V&&V(l)})}),me.hidden=!1}function be(e){if(!M||!Ie||!ee||!P)return;z=e,M.style.setProperty("--panel-accent",e.color),he&&(he.innerHTML=`<img src="public/icons/${e.icon}.svg" alt="">`,he.style.backgroundColor=e.color),Ie.textContent=e.fullLabel||e.label,ee.innerHTML="";let n=At(e.links);Object.entries(n).forEach(([t,o])=>{if(Object.keys(n).length>1&&o.length>0){let i=document.createElement("div");i.className="link-group-header",i.textContent=t,ee.appendChild(i)}o.forEach(i=>{let l=Vt(i,e.color);ee.appendChild(l)})}),P.classList.add("visible"),M.hidden=!1,requestAnimationFrame(()=>{M?.classList.add("visible")}),G(e)}function At(e){let n={};return e.forEach(t=>{let o="Links",i=t.url.toLowerCase();i.includes("mailto:")||i.includes("linkedin")||i.includes("telegram")||i.includes("whatsapp")?o="Contact":i.includes("github")?o="Code":(t.download||i.includes(".pdf")||i.includes(".vcf"))&&(o="Downloads"),n[o]||(n[o]=[]),n[o].push(t)}),n}function Te(){!M||!P||(M.classList.remove("visible"),P.classList.remove("visible"),setTimeout(()=>{M&&!M.classList.contains("visible")&&(M.hidden=!0)},300))}function Vt(e,n){let t=document.createElement("a");return t.className="link-card",t.href=e.url,t.target="_blank",t.rel="noopener noreferrer",t.style.setProperty("--link-accent",n),e.download&&(t.download=""),t.innerHTML=`
    <div class="link-icon">
      <img src="public/icons/${e.icon}.svg" alt="${e.label}">
    </div>
    <span class="link-label">${e.label}</span>
    <svg class="link-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M7 17L17 7M17 7H7M17 7v10"/>
    </svg>
  `,t.addEventListener("click",o=>{let i=t.getBoundingClientRect(),l=document.createElement("span");l.className="ripple",l.style.left=`${o.clientX-i.left}px`,l.style.top=`${o.clientY-i.top}px`,t.appendChild(l),setTimeout(()=>l.remove(),600)}),t}function Rt(){if(!N||!w)return;let e=N.value.toLowerCase().trim();if(e.length<2){w.hidden=!0;return}let n=B.filter(t=>t.label.toLowerCase().includes(e)||t.fullLabel&&t.fullLabel.toLowerCase().includes(e));if(n.length===0){w.innerHTML='<div class="search-empty">No results found</div>',w.hidden=!1;return}w.innerHTML=n.slice(0,8).map(t=>`
      <button class="search-result" data-node-id="${t.id}">
        <span class="search-result-dot" style="background: ${t.color}"></span>
        <span class="search-result-label">${t.fullLabel||t.label}</span>
        <span class="search-result-path">${Wt(t)}</span>
      </button>
    `).join(""),w.querySelectorAll(".search-result").forEach(t=>{t.addEventListener("click",()=>{let o=t.dataset.nodeId,i=B.find(l=>l.id===o);i&&V&&(V(i),N.value="",w.hidden=!0,N.blur())})}),w.hidden=!1}function Wt(e){let n=[],t=e.parent;for(;t;)n.unshift(t.label),t=t.parent;return n.join(" \u203A ")}function Zt(e){let n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:255,g:255,b:255}}function R(e,n){if(!te||!O||!s)return;let t=te.getContext("2d");if(!t)return;let o=te.width,i=te.height;t.clearRect(0,0,o,i);let l=1/0,r=-1/0,c=1/0,m=-1/0;e.forEach(g=>{l=Math.min(l,g.x),r=Math.max(r,g.x),c=Math.min(c,g.y),m=Math.max(m,g.y)});let a=20,p=r-l+a*2,d=m-c+a*2,h=Math.min(o/p,i/d),x=(o-p*h)/2-l*h+a*h,y=(i-d*h)/2-c*h+a*h,F=n.some(g=>g.highlighted);n.forEach(g=>{if(g.highlighted){let j=t.createLinearGradient(g.source.x*h+x,g.source.y*h+y,g.target.x*h+x,g.target.y*h+y);j.addColorStop(0,g.source.color),j.addColorStop(1,g.target.color),t.strokeStyle=j,t.lineWidth=1}else F?(t.strokeStyle="rgba(100,100,100,0.15)",t.lineWidth=.4):(t.strokeStyle="rgba(255,255,255,0.2)",t.lineWidth=.5);t.beginPath(),t.moveTo(g.source.x*h+x,g.source.y*h+y),t.lineTo(g.target.x*h+x,g.target.y*h+y),t.stroke()});let ye=e.some(g=>g.highlighted);e.forEach(g=>{let j=g.x*h+x,wt=g.y*h+y,Mt=Math.max(2,g.radius*h*.3);if(g.highlighted)t.shadowBlur=8,t.shadowColor=g.color,t.fillStyle=g.color;else if(ye)t.shadowBlur=0,t.fillStyle="rgba(100, 100, 100, 0.3)";else{t.shadowBlur=0;let Ee=Zt(g.color);t.fillStyle=`rgba(${Ee.r}, ${Ee.g}, ${Ee.b}, 0.8)`}t.beginPath(),t.arc(j,wt,Mt,0,Math.PI*2),t.fill()});let _=ie/s.scale*h,U=le/s.scale*h,se=(-s.x/s.scale+ie/2/s.scale)*h+x-_/2,$=(-s.y/s.scale+le/2/s.scale)*h+y-U/2;O.style.width=`${Math.min(o,_)}px`,O.style.height=`${Math.min(i,U)}px`,O.style.left=`${Math.max(0,Math.min(o-_,se))}px`,O.style.top=`${Math.max(0,Math.min(i-U,$))}px`}function Ot(){I&&(I.hidden=!1,requestAnimationFrame(()=>I?.classList.add("visible")))}function ft(){I&&(I.classList.remove("visible"),setTimeout(()=>{I&&(I.hidden=!0)},300),localStorage.setItem("mindmap-hints-shown","true"))}function zt(){q&&(q.hidden=!1)}function bt(){q&&(q.hidden=!0)}function fe(){s&&(K(s),s.x=s.targetX,s.y=s.targetY,s.scale=s.targetScale,bt(),G(null),X(),re&&re(),S&&S())}function vt(){s&&(je(s),s.scale=s.targetScale,X(),S&&S())}function yt(){s&&(Ke(s),s.scale=s.targetScale,X(),S&&S())}function Et(){document.fullscreenElement?(document.exitFullscreen(),ge?.classList.remove("active")):(document.documentElement.requestFullscreen(),ge?.classList.add("active"))}function qt(){s&&(K(s),s.x=s.targetX,s.y=s.targetY,s.scale=s.targetScale,bt(),G(null),X(),re&&re(),S&&S())}var ne=-1;function _t(e){if(document.activeElement===N){e.key==="Escape"&&(N?.blur(),w&&(w.hidden=!0));return}if(e.key==="/"||e.key==="s"){e.preventDefault(),N?.focus();return}if(e.key==="f"){Et();return}e.key==="Escape"&&(M&&!M.hidden?Te():I&&!I.hidden?ft():s&&fe()),(e.key==="+"||e.key==="=")&&vt(),(e.key==="-"||e.key==="_")&&yt(),(e.key==="0"||e.key==="r")&&fe(),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),Ut(e.key)),e.key==="Enter"&&z&&z.links.length>0&&be(z),e.key==="?"&&Ot()}function Ut(e){if(B.length===0)return;if(ne<0){ne=0,st(B[0]);return}let n=B[ne],t=null;switch(e){case"ArrowUp":n.parent&&(t=n.parent);break;case"ArrowDown":n.children.length>0&&(t=n.children[0]);break;case"ArrowLeft":case"ArrowRight":if(n.parent){let o=n.parent.children,r=(o.indexOf(n)+(e==="ArrowRight"?1:-1)+o.length)%o.length;t=o[r]}break}t&&(ne=B.indexOf(t),st(t))}function st(e){z=e,G(e),V&&V(e)}function Be(e){z=e,e&&(ne=B.indexOf(e),G(e))}function xt(e){s&&(qe(e,s,ie,le),s.x=s.targetX,s.y=s.targetY,s.scale=s.targetScale,zt(),G(e),X(),Be(e),e.links.length>0&&be(e),S&&S())}var v=[],E=[],k,ae=null,ve=null;async function kt(){try{if(gt(),ve=document.getElementById("graph-container"),!ve)throw new Error("Graph container element not found");$e(ve);let e=await Ye(),n=Pe(e);v=n.nodes,E=n.edges,k=ze();let{width:t,height:o}=de();We(v,t/2,o/2);let i=Ze(v,t,o);Ue(i),k.scale=i,k.targetScale=i,Ae(v),Ve(E);let l=t/2,r=o/2;v.forEach(c=>{c.x=l,c.y=r}),et(ve,v,E,k),tt(Kt,Qt),Qe(()=>{C(v,E,k),R(v,E),X()}),ct(k,t,o),dt(v),ut(en),ht(Jt),mt(()=>{C(v,E,k),R(v,E)}),He(),jt()}catch(e){console.error("Failed to initialize:",e),He(),alert("Failed to load mindmap data. Please refresh the page.")}}function jt(){let e=performance.now(),n=2e3,{width:t,height:o}=de(),i=t/2,l=o/2;function r(c){let m=c-e,a=Math.min(1,m/n),p=1-Math.pow(1-a,3);v.forEach(d=>{d.x=i+(d.targetX-i)*p,d.y=l+(d.targetY-l)*p}),C(v,E,k),a<1?ae=requestAnimationFrame(r):(ae=null,v.forEach(d=>{d.x=d.targetX,d.y=d.targetY}),C(v,E,k))}ae=requestAnimationFrame(r)}function Kt(e){if(Ne(e),Be(e),G(e),e.links.length===1&&e.children.length===0){let n=e.links[0];window.open(n.url,"_blank","noopener,noreferrer")}else e.links.length>1&&be(e);C(v,E,k),R(v,E)}function Jt(e){Ne(e),xt(e),C(v,E,k),R(v,E)}function Qt(){Se(),G(null),C(v,E,k),R(v,E)}function en(){Se(),G(null),C(v,E,k),R(v,E)}function Lt(){let{width:e,height:n}=de();pt(e,n),C(v,E,k)}window.addEventListener("resize",Lt);function tn(){ae!==null&&cancelAnimationFrame(ae),window.removeEventListener("resize",Lt)}window.addEventListener("beforeunload",tn);document.readyState==="loading"?document.addEventListener("DOMContentLoaded",kt):kt();})();
