<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Dashboard | Live Monitoring</title>
    <style>:root,[data-theme=minimalistic]{--bg-primary: #000000;--bg-secondary: #0a0a0a;--bg-card: #111111;--bg-card-hover: #1a1a1a;--text-primary: #ffffff;--text-secondary: #888888;--accent-primary: #ff6600;--accent-orange: #ff6600;--accent-blue: #3399ff;--accent-green: #00cc66;--accent-yellow: #ffcc00;--accent-red: #ff3333;--accent-purple: #8b5cf6;--border-color: #333333;--border-highlight: #ff6600;--shadow: rgba(0, 0, 0, 0.5);--glow: rgba(255, 102, 0, 0.3);--font-mono: 'Consolas', 'Monaco', 'Courier New', monospace;--font-main: var(--font-mono);--border-radius: 0px;--border-radius-lg: 0px;--card-padding: 1rem;--transition-speed: 0.15s}[data-theme=blurred]{--bg-primary: #0a0e27;--bg-secondary: #151a33;--bg-card: rgba(26, 31, 58, 0.8);--bg-card-hover: rgba(35, 42, 74, 0.9);--text-primary: #e0e6ff;--text-secondary: #8b95c9;--accent-primary: #4a9eff;--accent-orange: #ff6b35;--accent-blue: #4a9eff;--accent-green: #10b981;--accent-yellow: #fbbf24;--accent-red: #ef4444;--accent-purple: #8b5cf6;--border-color: rgba(255, 255, 255, 0.1);--border-highlight: #4a9eff;--shadow: rgba(0, 0, 0, 0.3);--glow: rgba(74, 158, 255, 0.4);--font-mono: 'Consolas', 'Monaco', 'Courier New', monospace;--font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;--border-radius: 12px;--border-radius-lg: 16px;--card-padding: 1.5rem;--transition-speed: 0.3s}*{margin:0;padding:0;box-sizing:border-box}html,body{height:100%;width:100%;overflow-x:hidden}body{font-family:var(--font-main);background:var(--bg-primary);color:var(--text-primary);min-height:100vh;padding:1rem;display:flex;flex-direction:column;font-size:13px;line-height:1.4;transition:background var(--transition-speed) ease,color var(--transition-speed) ease}@media(max-width: 768px){body{padding:.5rem;font-size:12px}}[data-theme=blurred] body{background:linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);font-size:14px;padding:2rem}@media(max-width: 768px){[data-theme=blurred] body{padding:1rem;font-size:13px}}.container{width:100%;max-width:100%;margin:0 auto;flex:1;display:flex;flex-direction:column}[data-theme=blurred] .container{max-width:1400px}#cards-view{max-width:1600px;width:100%;margin:0 auto}#tree-view{width:100%;overflow-x:auto}#architecture-view{flex:1;width:100%}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInDown{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideIn{from{transform:translateX(400px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(400px);opacity:0}}@keyframes slideInScale{from{opacity:0;transform:scale(0.9) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}header{text-align:center;margin-bottom:1.5rem;animation:fadeInDown .6s ease-out}header h1{font-size:1.5rem;font-weight:700;color:var(--accent-primary);text-transform:uppercase;letter-spacing:2px;margin-bottom:.25rem;transition:all var(--transition-speed) ease}@media(max-width: 768px){header h1{font-size:1.2rem}}[data-theme=blurred] header{margin-bottom:3rem}[data-theme=blurred] header h1{font-size:3rem;text-transform:none;letter-spacing:normal;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}@media(max-width: 768px){[data-theme=blurred] header h1{font-size:2rem}}.subtitle{color:var(--text-secondary);font-size:.85rem;text-transform:uppercase;letter-spacing:1px;transition:all var(--transition-speed) ease}@media(max-width: 768px){.subtitle{font-size:.75rem}}[data-theme=blurred] .subtitle{font-size:1.2rem;text-transform:none;letter-spacing:normal;font-weight:300}@media(max-width: 768px){[data-theme=blurred] .subtitle{font-size:1rem}}.section-header{text-align:left;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color);transition:all var(--transition-speed) ease}.section-header h2{font-size:1rem;font-weight:600;color:var(--accent-primary);text-transform:uppercase;letter-spacing:1px;transition:all var(--transition-speed) ease}[data-theme=blurred] .section-header{text-align:center;margin-bottom:2rem;border-bottom:none;padding-bottom:0}[data-theme=blurred] .section-header h2{font-size:2rem;text-transform:none;letter-spacing:normal;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}.theme-toggle{position:fixed;top:1rem;right:1rem;z-index:1000;display:flex;align-items:center;justify-content:center;width:36px;height:36px;padding:0;border:none;background:rgba(0,0,0,0);color:var(--text-secondary);cursor:pointer;transition:all .3s ease;border-radius:50%}.theme-toggle svg{width:18px;height:18px;transition:transform .5s ease,color .3s ease}.theme-toggle .theme-label{position:absolute;right:100%;margin-right:.5rem;font-family:var(--font-mono);font-size:.7rem;text-transform:uppercase;white-space:nowrap;opacity:0;transform:translateX(10px);transition:opacity .2s ease,transform .2s ease;pointer-events:none}.theme-toggle:hover{color:var(--accent-primary);background:var(--bg-card)}.theme-toggle:hover svg{transform:rotate(180deg)}.theme-toggle:hover .theme-label{opacity:1;transform:translateX(0)}@media(max-width: 768px){.theme-toggle{width:32px;height:32px;top:.5rem;right:.5rem}.theme-toggle svg{width:16px;height:16px}.theme-toggle .theme-label{display:none}}[data-theme=blurred] .theme-toggle{color:var(--text-secondary)}[data-theme=blurred] .theme-toggle:hover{color:var(--accent-blue);background:hsla(0,0%,100%,.1);box-shadow:0 0 20px var(--glow)}[data-theme=blurred] .theme-toggle:hover svg{filter:drop-shadow(0 0 8px var(--accent-blue))}.zoom-controls{position:fixed;top:3.5rem;right:1rem;z-index:1000;display:flex;align-items:center;gap:.25rem;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:.25rem;opacity:.7;transition:all .3s ease}.zoom-controls:hover{opacity:1;border-color:var(--accent-primary)}@media(max-width: 768px){.zoom-controls{top:3rem;right:.5rem;padding:.15rem}}[data-theme=blurred] .zoom-controls{background:rgba(26,31,58,.9);backdrop-filter:blur(10px);border-radius:20px;padding:.35rem}[data-theme=blurred] .zoom-controls:hover{border-color:var(--accent-blue);box-shadow:0 0 20px var(--glow)}.zoom-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;padding:0;border:none;background:rgba(0,0,0,0);color:var(--text-secondary);cursor:pointer;transition:all .2s ease;border-radius:4px}.zoom-btn svg{width:16px;height:16px}.zoom-btn:hover:not(:disabled){color:var(--accent-primary);background:var(--bg-primary)}.zoom-btn:disabled{opacity:.3;cursor:not-allowed}@media(max-width: 768px){.zoom-btn{width:24px;height:24px}.zoom-btn svg{width:14px;height:14px}}[data-theme=blurred] .zoom-btn{border-radius:50%}[data-theme=blurred] .zoom-btn:hover:not(:disabled){color:var(--accent-blue);background:hsla(0,0%,100%,.1)}.zoom-level{font-family:var(--font-mono);font-size:.65rem;color:var(--text-secondary);min-width:32px;text-align:center;user-select:none}@media(max-width: 768px){.zoom-level{font-size:.6rem;min-width:28px}}[data-theme=blurred] .zoom-level{font-size:.7rem}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(var(--card-min-width, 220px), 1fr));gap:calc(1rem*var(--zoom-scale, 1));animation:fadeIn .8s ease-out}@media(max-width: 768px){.cards-grid{grid-template-columns:1fr 1fr;gap:.5rem}}@media(max-width: 480px){.cards-grid{grid-template-columns:1fr}}[data-theme=blurred] .cards-grid{grid-template-columns:repeat(auto-fit, minmax(var(--card-min-width, 280px), 1fr));gap:calc(2rem*var(--zoom-scale, 1))}@media(max-width: 768px){[data-theme=blurred] .cards-grid{grid-template-columns:1fr;gap:1.5rem}}.card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:calc(var(--card-padding)*var(--zoom-scale, 1));cursor:pointer;transition:all .3s ease,transform .3s ease;position:relative;text-decoration:none;display:block;transform-origin:center center;z-index:1}@media(max-width: 768px){.card{padding:.75rem}}.card:hover{background:var(--bg-card-hover);border-color:var(--border-highlight);transform:scale(var(--hover-scale, 2));z-index:100;box-shadow:0 20px 60px rgba(0,0,0,.7)}.card:hover .card-icon{color:var(--accent-primary)}.card:hover h3{color:var(--accent-primary)}.card:hover .card-status.online{background:var(--accent-green);color:#000}.card.card-link{text-decoration:none;color:inherit}[data-theme=blurred] .card{border-radius:var(--border-radius-lg);overflow:hidden;backdrop-filter:blur(10px)}[data-theme=blurred] .card::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));opacity:0;transition:opacity .4s ease;z-index:0}[data-theme=blurred] .card::after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);opacity:0;transition:opacity .4s ease;pointer-events:none}[data-theme=blurred] .card:hover{transform:scale(var(--hover-scale, 2));box-shadow:0 25px 80px var(--shadow),0 0 50px var(--glow);border-color:var(--accent-blue)}[data-theme=blurred] .card:hover::before{opacity:.1}[data-theme=blurred] .card:hover::after{opacity:1}[data-theme=blurred] .card:hover .card-icon{filter:drop-shadow(0 0 12px var(--accent-blue))}[data-theme=blurred] .card:hover h3{color:var(--accent-blue)}[data-theme=blurred] .card:hover p{color:var(--text-primary)}[data-theme=blurred] .card:hover .card-status.online{background:rgba(16,185,129,.25);color:var(--accent-green);box-shadow:0 0 15px rgba(16,185,129,.3)}[data-theme=blurred] .card>*{position:relative;z-index:1}@media(max-width: 768px){[data-theme=blurred] .card{padding:1.5rem}}.card-icon{width:calc(32px*var(--zoom-scale, 1));height:calc(32px*var(--zoom-scale, 1));margin-bottom:calc(.75rem*var(--zoom-scale, 1));color:var(--accent-blue);transition:all var(--transition-speed) ease}.card-icon svg{width:100%;height:100%}[data-theme=blurred] .card-icon{width:calc(60px*var(--zoom-scale, 1));height:calc(60px*var(--zoom-scale, 1));margin-bottom:calc(1.5rem*var(--zoom-scale, 1))}.card h3{font-size:calc(.95rem*var(--zoom-scale, 1));margin-bottom:calc(.25rem*var(--zoom-scale, 1));font-weight:600;text-transform:uppercase;letter-spacing:.5px;transition:color var(--transition-speed) ease}[data-theme=blurred] .card h3{font-size:calc(1.5rem*var(--zoom-scale, 1));text-transform:none;letter-spacing:normal;margin-bottom:calc(.75rem*var(--zoom-scale, 1))}.card p{color:var(--text-secondary);font-size:calc(.8rem*var(--zoom-scale, 1));margin-bottom:calc(.75rem*var(--zoom-scale, 1));transition:color var(--transition-speed) ease}[data-theme=blurred] .card p{font-size:calc(.95rem*var(--zoom-scale, 1));line-height:1.6;margin-bottom:calc(1.5rem*var(--zoom-scale, 1))}.card-status{display:inline-block;padding:calc(.2rem*var(--zoom-scale, 1)) calc(.5rem*var(--zoom-scale, 1));font-size:calc(.7rem*var(--zoom-scale, 1));font-weight:600;text-transform:uppercase;letter-spacing:.5px;transition:all var(--transition-speed) ease;border-radius:var(--border-radius)}.card-status.online{background:rgba(0,0,0,0);color:var(--accent-green);border:1px solid var(--accent-green)}.card-status.pending{background:rgba(0,0,0,0);color:var(--accent-yellow);border:1px solid var(--accent-yellow)}[data-theme=blurred] .card-status{padding:calc(.4rem*var(--zoom-scale, 1)) calc(1rem*var(--zoom-scale, 1));font-size:calc(.85rem*var(--zoom-scale, 1));border-radius:20px}[data-theme=blurred] .card-status.online{background:rgba(16,185,129,.15);border-color:rgba(16,185,129,.3)}[data-theme=blurred] .card-status.pending{background:rgba(251,191,36,.15);border-color:rgba(251,191,36,.3)}.card-actions{margin-top:calc(.5rem*var(--zoom-scale, 1));padding-top:calc(.5rem*var(--zoom-scale, 1));border-top:1px solid var(--border-color)}[data-theme=blurred] .card-actions{margin-top:calc(1rem*var(--zoom-scale, 1));padding-top:calc(1rem*var(--zoom-scale, 1))}.code-with-copy{display:flex;align-items:center;gap:calc(.5rem*var(--zoom-scale, 1));background:var(--bg-primary);padding:calc(.4rem*var(--zoom-scale, 1)) calc(.5rem*var(--zoom-scale, 1));border:1px solid var(--border-color);border-radius:var(--border-radius)}[data-theme=blurred] .code-with-copy{background:rgba(0,0,0,.3);border-radius:8px;padding:calc(.75rem*var(--zoom-scale, 1)) calc(1rem*var(--zoom-scale, 1))}.card-code{font-family:var(--font-mono);font-size:calc(.65rem*var(--zoom-scale, 1));color:var(--accent-orange);flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-theme=blurred] .card-code{color:var(--accent-green);font-size:calc(.75rem*var(--zoom-scale, 1))}.copy-icon{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:calc(.25rem*var(--zoom-scale, 1));display:flex;align-items:center;justify-content:center;transition:color var(--transition-speed) ease}.copy-icon svg{width:calc(14px*var(--zoom-scale, 1));height:calc(14px*var(--zoom-scale, 1))}.copy-icon:hover{color:var(--accent-primary)}.copy-icon:disabled{opacity:.3;cursor:not-allowed}.vm-buttons{display:flex;gap:calc(.5rem*var(--zoom-scale, 1));margin-top:calc(.5rem*var(--zoom-scale, 1))}.vm-btn{flex:1;display:flex;align-items:center;justify-content:center;gap:calc(.25rem*var(--zoom-scale, 1));padding:calc(.4rem*var(--zoom-scale, 1));background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--border-radius);color:var(--text-secondary);font-family:var(--font-mono);font-size:calc(.55rem*var(--zoom-scale, 1));text-transform:uppercase;cursor:pointer;transition:all var(--transition-speed) ease}.vm-btn svg{width:calc(12px*var(--zoom-scale, 1));height:calc(12px*var(--zoom-scale, 1))}.vm-btn:hover:not(:disabled){border-color:var(--accent-primary);color:var(--accent-primary)}.vm-btn:disabled{opacity:.3;cursor:not-allowed}[data-theme=blurred] .vm-btn{border-radius:8px;padding:calc(.5rem*var(--zoom-scale, 1)) calc(.75rem*var(--zoom-scale, 1));backdrop-filter:blur(5px);background:hsla(0,0%,100%,.05);font-size:calc(.6rem*var(--zoom-scale, 1))}[data-theme=blurred] .vm-btn:hover:not(:disabled){background:rgba(74,158,255,.1);border-color:var(--accent-blue);color:var(--accent-blue);box-shadow:0 0 15px rgba(74,158,255,.2)}.card:nth-child(1){animation:fadeIn .4s ease-out .1s backwards}.card:nth-child(2){animation:fadeIn .4s ease-out .2s backwards}.card:nth-child(3){animation:fadeIn .4s ease-out .3s backwards}.card:nth-child(4){animation:fadeIn .4s ease-out .4s backwards}.card:nth-child(5){animation:fadeIn .4s ease-out .5s backwards}.card:nth-child(6){animation:fadeIn .4s ease-out .6s backwards}.card:nth-child(7){animation:fadeIn .4s ease-out .7s backwards}.card:nth-child(8){animation:fadeIn .4s ease-out .8s backwards}.card:nth-child(9){animation:fadeIn .4s ease-out .9s backwards}.card:nth-child(10){animation:fadeIn .4s ease-out 1s backwards}.view-toggle{display:flex;justify-content:center;gap:.5rem;margin-top:1rem}[data-theme=blurred] .view-toggle{gap:.75rem}.tree-controls{display:flex;justify-content:center;gap:.5rem;margin-bottom:1rem;padding-top:.5rem}.tree-ctrl-btn{display:flex;align-items:center;gap:.25rem;padding:.3rem .6rem;border:1px solid var(--border-color);background:var(--bg-card);color:var(--text-secondary);font-family:var(--font-mono);font-size:.75rem;text-transform:uppercase;cursor:pointer;transition:all var(--transition-speed) ease;border-radius:var(--border-radius)}.tree-ctrl-btn svg{width:12px;height:12px}.tree-ctrl-btn:hover{border-color:var(--accent-primary);color:var(--accent-primary)}[data-theme=blurred] .tree-ctrl-btn{border-radius:15px;backdrop-filter:blur(10px);background:hsla(0,0%,100%,.05)}[data-theme=blurred] .tree-ctrl-btn:hover{background:hsla(0,0%,100%,.1);border-color:var(--accent-blue);color:var(--accent-blue)}.view-btn{display:flex;align-items:center;gap:.25rem;padding:.4rem .8rem;border:1px solid var(--border-color);background:var(--bg-card);color:var(--text-secondary);font-family:var(--font-mono);font-size:.8rem;text-transform:uppercase;cursor:pointer;transition:all var(--transition-speed) ease;border-radius:var(--border-radius)}.view-btn svg{width:14px;height:14px}.view-btn:hover{border-color:var(--accent-primary);color:var(--text-primary)}.view-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#000}[data-theme=blurred] .view-btn{border-radius:20px;padding:.5rem 1rem;backdrop-filter:blur(10px);background:hsla(0,0%,100%,.05);text-transform:none}[data-theme=blurred] .view-btn:hover{background:hsla(0,0%,100%,.1);border-color:var(--accent-blue)}[data-theme=blurred] .view-btn.active{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));border-color:rgba(0,0,0,0);color:#fff}.view-group{display:flex;flex-direction:column;align-items:center;gap:.35rem}.view-group-label{font-size:.6rem;font-family:var(--font-mono);text-transform:uppercase;letter-spacing:1px;color:var(--text-secondary);opacity:.6}.view-group-buttons{display:flex;gap:.25rem}[data-theme=blurred] .view-group-label{font-size:.65rem;letter-spacing:1.5px;opacity:.5}[data-theme=blurred] .view-group-buttons{gap:.5rem}.view-separator{width:1px;height:40px;background:var(--border-color);margin:0 .75rem;opacity:.4;align-self:center}[data-theme=blurred] .view-separator{background:linear-gradient(180deg, transparent, var(--border-color), transparent);height:50px;opacity:.3;margin:0 1.5rem}.view-content{display:none}.view-content.active{display:block}#tree-view{width:100%}.tree-container{display:flex;flex-direction:column;gap:1rem;padding:.5rem 0;width:100%}.tree-vps{display:flex;flex-direction:row;align-items:flex-start;gap:1rem;width:100%}.tree-vps>.tree-node.vps-node{flex:0 0 180px;min-width:180px}.tree-vps>.tree-children{flex:1;margin-left:0;padding-left:0;border-left:none;margin-top:0;margin-bottom:0}.tree-vps>.tree-children.expanded{margin-top:0;margin-bottom:0}.tree-siblings{display:flex;gap:1rem;align-items:flex-start;flex-wrap:wrap}.tree-sibling-column{flex:0 0 auto;min-width:180px;max-width:220px}.tree-section-divider{width:100%;display:flex;align-items:center;gap:1rem;margin:.75rem 0}.tree-section-divider::before,.tree-section-divider::after{content:"";flex:1;height:1px;background:var(--border-color)}.tree-section-divider .divider-label{font-size:.65rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px;padding:.2rem .6rem;background:var(--bg-card);border:1px solid var(--border-color)}.tree-node{margin:.15rem 0}.tree-node.vps-node .node-header{background:var(--bg-card);border:1px solid var(--accent-orange);border-left:3px solid var(--accent-orange);padding:.5rem .75rem;font-size:.9rem}.tree-node.vm-node .node-header{background:var(--bg-card);border:1px solid var(--border-color);border-left:3px solid var(--accent-blue);padding:.4rem .6rem}.tree-node.os-node .node-header{background:var(--bg-secondary);border:1px solid var(--border-color);border-left:3px solid #00bcd4;padding:.35rem .5rem;font-size:.8rem}.tree-node.container-node .node-header{background:var(--bg-secondary);border:1px solid var(--border-color);border-left:3px solid var(--accent-yellow);padding:.35rem .5rem;font-size:.85rem}.tree-node.service-node .node-header{background:var(--bg-primary);border:1px solid var(--border-color);padding:.3rem .5rem;font-size:.8rem}.tree-node.service-node.clickable{cursor:pointer}.tree-node.service-node.clickable:hover .node-header{background:var(--bg-card-hover);border-color:var(--accent-orange)}.node-config{font-size:.65rem;color:var(--text-secondary);background:var(--bg-primary);padding:.1rem .4rem;border:1px solid var(--border-color);margin-left:.3rem;white-space:nowrap}.node-header{display:flex;align-items:center;gap:.4rem;transition:all .15s ease;cursor:pointer;flex-wrap:wrap;min-width:0}.node-header:hover{background:var(--bg-card-hover)}.expand-icon{font-size:.65rem;color:var(--text-secondary);transition:transform .15s ease;width:10px}.expand-icon.expanded{transform:rotate(90deg)}.node-icon{font-size:.9rem}.node-title{font-weight:500;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-shrink:1;min-width:0;text-transform:uppercase;font-size:.8rem;letter-spacing:.3px}.node-subtitle{font-size:.75rem;color:var(--text-secondary);white-space:nowrap}.node-port{font-family:var(--font-mono);font-size:.7rem;color:var(--accent-orange);background:var(--bg-primary);border:1px solid var(--border-color);padding:.1rem .3rem;white-space:nowrap;flex-shrink:0}.node-badge{font-size:.65rem;padding:.1rem .4rem;font-weight:600;margin-left:auto;white-space:nowrap;flex-shrink:0;text-transform:uppercase;letter-spacing:.3px}.node-badge.online{background:rgba(0,0,0,0);color:var(--accent-green);border:1px solid var(--accent-green)}.node-badge.pending{background:rgba(0,0,0,0);color:var(--accent-yellow);border:1px solid var(--accent-yellow)}.tree-children{margin-left:.75rem;padding-left:.5rem;border-left:1px solid var(--border-color);max-height:0;overflow:hidden;opacity:0;transition:max-height .2s ease,opacity .15s ease,margin .15s ease}.tree-children.expanded{max-height:2000px;opacity:1;margin-top:.25rem;margin-bottom:.25rem}.tree-siblings .tree-children{margin-left:.4rem;padding-left:.4rem}.tree-vps>.tree-children{border-left:none}.vm-node+.tree-children{border-left-color:var(--accent-blue)}.os-node+.tree-children{border-left-color:#00bcd4}.container-node+.tree-children{border-left-color:var(--accent-yellow)}[data-theme=blurred] .tree-container{gap:1.5rem}[data-theme=blurred] .tree-section-divider{width:100%;display:flex;align-items:center;gap:1rem;margin:1rem 0}[data-theme=blurred] .tree-section-divider::before,[data-theme=blurred] .tree-section-divider::after{content:"";flex:1;height:1px;background:linear-gradient(90deg, transparent, var(--border-color), transparent)}[data-theme=blurred] .tree-section-divider .divider-label{font-size:.7rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px;padding:.3rem .8rem;background:hsla(0,0%,100%,.05);border:1px solid var(--border-color);border-radius:12px;backdrop-filter:blur(10px)}[data-theme=blurred] .tree-node.vps-node .node-header{background:hsla(0,0%,100%,.05);backdrop-filter:blur(15px);border:1px solid hsla(0,0%,100%,.1);border-left:3px solid var(--accent-blue);border-radius:12px;padding:.6rem 1rem}[data-theme=blurred] .tree-node.vm-node .node-header{background:hsla(0,0%,100%,.03);backdrop-filter:blur(10px);border:1px solid hsla(0,0%,100%,.08);border-left:3px solid var(--accent-purple);border-radius:10px;padding:.5rem .8rem}[data-theme=blurred] .tree-node.os-node .node-header{background:hsla(0,0%,100%,.02);backdrop-filter:blur(8px);border:1px solid hsla(0,0%,100%,.06);border-left:3px solid var(--accent-cyan);border-radius:8px;padding:.4rem .7rem;font-size:.8rem}[data-theme=blurred] .tree-node.container-node .node-header{background:hsla(0,0%,100%,.02);backdrop-filter:blur(8px);border:1px solid hsla(0,0%,100%,.06);border-left:3px solid var(--accent-yellow);border-radius:8px}[data-theme=blurred] .tree-node.service-node .node-header{background:hsla(0,0%,100%,.02);backdrop-filter:blur(5px);border:1px solid hsla(0,0%,100%,.05);border-radius:6px}[data-theme=blurred] .tree-node.service-node .node-header:hover{background:hsla(0,0%,100%,.08);border-color:var(--accent-blue)}[data-theme=blurred] .tree-node.service-node.clickable:hover .node-header{background:rgba(74,158,255,.15);border-color:var(--accent-blue)}[data-theme=blurred] .node-badge{border-radius:10px;backdrop-filter:blur(5px)}[data-theme=blurred] .node-badge.online{background:rgba(46,204,113,.15);border-color:rgba(46,204,113,.5)}[data-theme=blurred] .node-badge.pending{background:rgba(241,196,15,.15);border-color:rgba(241,196,15,.5)}[data-theme=blurred] .node-port{background:hsla(0,0%,100%,.05);border-color:hsla(0,0%,100%,.1);border-radius:4px;color:var(--accent-cyan)}[data-theme=blurred] .tree-children{border-left-color:hsla(0,0%,100%,.1)}[data-theme=blurred] .vm-node+.tree-children{border-left-color:rgba(138,43,226,.3)}[data-theme=blurred] .os-node+.tree-children{border-left-color:rgba(0,188,212,.3)}[data-theme=blurred] .container-node+.tree-children{border-left-color:rgba(241,196,15,.3)}[data-theme=blurred] .node-config{font-size:.65rem;color:var(--text-secondary);background:hsla(0,0%,100%,.03);padding:.1rem .4rem;border-radius:4px;margin-left:.3rem}.ssh-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;z-index:2000;animation:fadeIn .3s ease-out}.ssh-modal{background:var(--bg-card);border-radius:16px;padding:2.5rem;max-width:600px;width:90%;box-shadow:0 20px 60px rgba(0,0,0,.5);border:1px solid rgba(74,158,255,.3);animation:slideInScale .3s ease-out}@media(max-width: 768px){.ssh-modal{padding:1.5rem}}.ssh-modal h3{color:var(--accent-blue);margin-bottom:1.5rem;font-size:1.5rem}.ssh-command{background:rgba(0,0,0,.3);border-radius:8px;padding:1rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:1rem;border:1px solid rgba(74,158,255,.2)}@media(max-width: 768px){.ssh-command{flex-direction:column;align-items:stretch}}.ssh-command code{flex:1;color:var(--accent-green);font-family:"Courier New",monospace;font-size:.9rem;word-break:break-all}.copy-btn{padding:.5rem 1rem;background:var(--accent-blue);color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;white-space:nowrap}@media(max-width: 768px){.copy-btn{width:100%}}.copy-btn:hover{background:var(--accent-purple);transform:scale(1.05)}.ssh-instruction{color:var(--text-secondary);margin-bottom:1rem;font-size:1rem}.ssh-options{display:flex;gap:1rem;margin-bottom:1.5rem}@media(max-width: 768px){.ssh-options{flex-direction:column}}.ssh-option-btn{flex:1;padding:1rem;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease}.ssh-option-btn:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(74,158,255,.4)}.close-modal-btn{width:100%;padding:.75rem;background:hsla(0,0%,100%,.1);color:var(--text-primary);border:1px solid hsla(0,0%,100%,.2);border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s ease}.close-modal-btn:hover{background:hsla(0,0%,100%,.15);border-color:hsla(0,0%,100%,.3)}.notification{position:fixed;top:20px;right:20px;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));color:#fff;padding:1rem 1.5rem;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,.3);z-index:1000;animation:slideIn .3s ease-out;font-weight:500}.notification.closing{animation:slideOut .3s ease-out}#monitoring-view{max-width:1400px;width:100%;margin:0 auto;padding:0 1rem}.monitoring-grid{display:flex;flex-direction:column;gap:2rem}.monitoring-section{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1.5rem}[data-theme=blurred] .monitoring-section{backdrop-filter:blur(10px);border-radius:var(--border-radius-lg)}.monitoring-section-title{font-size:1rem;font-weight:600;color:var(--accent-primary);text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color)}[data-theme=blurred] .monitoring-section-title{color:var(--accent-blue);text-transform:none;font-size:1.2rem}.vm-status-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:1rem}.vm-status-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1rem;transition:all var(--transition-speed) ease}.vm-status-card:hover{border-color:var(--accent-blue)}[data-theme=blurred] .vm-status-card{background:hsla(0,0%,100%,.03);border-radius:12px}.vm-status-header{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:1px solid var(--border-color)}.vm-icon{font-size:1.5rem}.vm-name{flex:1;font-weight:600;font-size:.9rem;text-transform:uppercase}[data-theme=blurred] .vm-name{text-transform:none;font-size:1rem}.vm-status-indicator{width:12px;height:12px;border-radius:50%;animation:pulse 2s infinite}.vm-status-indicator.online{background:var(--accent-green);box-shadow:0 0 8px var(--accent-green)}.vm-status-indicator.pending{background:var(--accent-yellow);box-shadow:0 0 8px var(--accent-yellow)}.vm-status-indicator.offline{background:var(--accent-red);box-shadow:0 0 8px var(--accent-red)}.vm-status-details{display:flex;flex-direction:column;gap:.5rem}.vm-stat{display:flex;justify-content:space-between;font-size:.8rem}.vm-stat .stat-label{color:var(--text-secondary)}.vm-stat .stat-value{color:var(--text-primary);font-family:var(--font-mono)}.service-health-grid{display:flex;flex-direction:column;gap:.5rem}.service-health-row{display:grid;grid-template-columns:1fr 1.5fr auto;gap:1rem;padding:.75rem 1rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);align-items:center;font-size:.85rem}[data-theme=blurred] .service-health-row{background:hsla(0,0%,100%,.02);border-radius:8px}.service-name{font-weight:600;text-transform:uppercase}[data-theme=blurred] .service-name{text-transform:none}.service-url{color:var(--text-secondary);font-family:var(--font-mono);font-size:.75rem}.service-status{padding:.25rem .75rem;font-size:.7rem;font-weight:600;text-transform:uppercase;border-radius:var(--border-radius)}.service-status.online{background:rgba(0,204,102,.15);color:var(--accent-green);border:1px solid var(--accent-green)}.service-status.pending{background:rgba(255,204,0,.15);color:var(--accent-yellow);border:1px solid var(--accent-yellow)}[data-theme=blurred] .service-status{border-radius:12px}#resources-view{max-width:1400px;width:100%;margin:0 auto;padding:0 1rem}.resources-summary{display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));gap:1.5rem;margin-bottom:2rem}.summary-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1.5rem}.summary-card h4{font-size:1rem;font-weight:600;color:var(--accent-primary);text-transform:uppercase;margin-bottom:1rem}[data-theme=blurred] .summary-card{backdrop-filter:blur(10px);border-radius:var(--border-radius-lg);background:linear-gradient(135deg, rgba(74, 158, 255, 0.1), rgba(139, 92, 246, 0.1))}[data-theme=blurred] .summary-card h4{color:var(--text-primary);text-transform:none}.summary-stats{display:flex;flex-direction:column;gap:.75rem}.summary-stat{display:flex;align-items:center;gap:.75rem}.summary-stat .stat-icon{font-size:1.25rem}.summary-stat .stat-label{color:var(--text-secondary);font-size:.85rem;width:80px}.summary-stat .stat-value{color:var(--accent-blue);font-family:var(--font-mono);font-weight:600}.resources-section{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1.5rem;margin-bottom:1.5rem}[data-theme=blurred] .resources-section{backdrop-filter:blur(10px);border-radius:var(--border-radius-lg)}.resources-section-title{font-size:1rem;font-weight:600;color:var(--accent-primary);text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem}[data-theme=blurred] .resources-section-title{color:var(--accent-blue);text-transform:none;font-size:1.2rem}.resources-table-container{overflow-x:auto}.resources-table{width:100%;border-collapse:collapse;font-size:.8rem}.resources-table th,.resources-table td{padding:.75rem .5rem;text-align:left;border-bottom:1px solid var(--border-color)}.resources-table th{color:var(--text-secondary);font-weight:600;text-transform:uppercase;font-size:.7rem;letter-spacing:.5px;background:var(--bg-secondary)}[data-theme=blurred] .resources-table th{background:hsla(0,0%,100%,.03);text-transform:none;font-size:.8rem}.resources-table td{font-family:var(--font-mono)}.service-row,.vm-row{background:var(--bg-card)}.service-row:hover,.vm-row:hover{background:var(--bg-card-hover)}.component-row{background:var(--bg-secondary)}.component-row td{font-size:.75rem;color:var(--text-secondary)}.component-name{padding-left:1rem;color:var(--text-secondary)}.ai-service,.ai-vm{border-left:3px solid var(--accent-purple)}.resources-category{margin-bottom:3rem}.resources-category-title{font-size:1.5rem;font-weight:700;color:var(--accent-primary);text-transform:uppercase;letter-spacing:2px;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:2px solid var(--accent-primary)}[data-theme=blurred] .resources-category-title{color:var(--accent-blue);text-transform:none;background:linear-gradient(135deg, var(--accent-blue), var(--accent-green));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text;border-bottom-color:var(--accent-blue)}.ai-category .resources-category-title{color:var(--accent-purple);border-bottom-color:var(--accent-purple)}[data-theme=blurred] .ai-category .resources-category-title{background:linear-gradient(135deg, var(--accent-purple), var(--accent-blue));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text;border-bottom-color:var(--accent-purple)}.ai-card{border-left:3px solid var(--accent-purple)}[data-theme=blurred] .ai-card{background:linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(74, 158, 255, 0.1))}.ai-section{border-left:3px solid var(--accent-purple)}.totals-row{background:var(--bg-secondary);font-weight:600}.totals-row td{border-top:1px solid var(--border-color);color:var(--accent-primary)}[data-theme=blurred] .totals-row{background:hsla(0,0%,100%,.03)}[data-theme=blurred] .totals-row td{color:var(--accent-blue)}.totals-row.total-final{background:var(--bg-card)}.totals-row.total-final td{border-top:2px solid var(--accent-primary);font-size:.85rem}[data-theme=blurred] .totals-row.total-final{background:rgba(74,158,255,.1)}[data-theme=blurred] .totals-row.total-final td{border-top-color:var(--accent-blue)}.health-badge{padding:.2rem .5rem;font-size:.65rem;font-weight:600;text-transform:uppercase;border-radius:var(--border-radius)}.health-badge.online{background:rgba(0,204,102,.15);color:var(--accent-green);border:1px solid var(--accent-green)}.health-badge.pending{background:rgba(255,204,0,.15);color:var(--accent-yellow);border:1px solid var(--accent-yellow)}.health-badge.offline{background:rgba(255,51,51,.15);color:var(--accent-red);border:1px solid var(--accent-red)}[data-theme=blurred] .health-badge{border-radius:10px}.status-table td{font-size:.75rem}.status-badge{padding:.2rem .5rem;font-size:.65rem;font-weight:600;text-transform:uppercase;border-radius:var(--border-radius)}.status-badge.on{background:rgba(0,204,102,.15);color:var(--accent-green);border:1px solid var(--accent-green)}.status-badge.dev{background:rgba(74,158,255,.15);color:var(--accent-blue);border:1px solid var(--accent-blue)}.status-badge.hold{background:rgba(139,92,246,.15);color:var(--accent-purple);border:1px solid var(--accent-purple)}[data-theme=blurred] .status-badge{border-radius:10px}@media(max-width: 768px){.vm-status-grid{grid-template-columns:1fr}.service-health-row{grid-template-columns:1fr;gap:.5rem}.resources-summary{grid-template-columns:1fr}.resources-table{font-size:.7rem}.resources-table th,.resources-table td{padding:.5rem .25rem}}
</style>
    <style>
        /* Dashboard-specific styles */
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .dashboard-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .dashboard-title h1 {
            font-size: 1.8rem;
            margin: 0;
        }

        .dashboard-title .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-green);
            animation: pulse 2s infinite;
        }

        .dashboard-title .status-dot.disconnected {
            background: var(--accent-red);
            animation: none;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .dashboard-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .api-url-input {
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: 0.85rem;
            width: 300px;
        }

        .refresh-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--accent-primary);
            border: none;
            border-radius: var(--border-radius);
            color: #000;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .refresh-btn:hover {
            transform: scale(1.05);
        }

        .refresh-btn.loading svg {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .auto-refresh-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .auto-refresh-toggle input {
            accent-color: var(--accent-primary);
        }

        /* Grid Layout */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
        }

        /* Section Cards */
        .dashboard-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: rgba(255, 255, 255, 0.02);
            border-bottom: 1px solid var(--border-color);
        }

        .section-header h2 {
            margin: 0;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-header .count-badge {
            background: var(--accent-primary);
            color: #000;
            padding: 0.2rem 0.6rem;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .section-body {
            padding: 1rem;
        }

        /* VM Status Cards */
        .vm-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .vm-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            transition: all 0.2s;
        }

        .vm-card:hover {
            border-color: var(--accent-primary);
        }

        .vm-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .vm-name {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .vm-status {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.8rem;
            padding: 0.25rem 0.6rem;
            border-radius: 12px;
        }

        .vm-status.online {
            background: rgba(74, 222, 128, 0.15);
            color: var(--accent-green);
        }

        .vm-status.offline {
            background: rgba(248, 113, 113, 0.15);
            color: var(--accent-red);
        }

        .vm-status.pending {
            background: rgba(251, 191, 36, 0.15);
            color: var(--accent-yellow);
        }

        .vm-status.no-ssh {
            background: rgba(251, 191, 36, 0.15);
            color: var(--accent-yellow);
        }

        .vm-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            font-size: 0.8rem;
        }

        .vm-detail {
            display: flex;
            flex-direction: column;
        }

        .vm-detail-label {
            color: var(--text-tertiary);
            font-size: 0.7rem;
            text-transform: uppercase;
        }

        .vm-detail-value {
            color: var(--text-primary);
            font-family: var(--font-mono);
        }

        .ram-bar {
            height: 4px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            margin-top: 0.75rem;
            overflow: hidden;
        }

        .ram-bar-fill {
            height: 100%;
            background: var(--accent-green);
            border-radius: 2px;
            transition: width 0.3s;
        }

        .ram-bar-fill.warning {
            background: var(--accent-yellow);
        }

        .ram-bar-fill.danger {
            background: var(--accent-red);
        }

        /* Service Status List */
        .service-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .service-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            transition: all 0.2s;
        }

        .service-row:hover {
            border-color: var(--accent-primary);
        }

        .service-info {
            display: flex;
            flex-direction: column;
            gap: 0.2rem;
        }

        .service-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .service-url {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            font-family: var(--font-mono);
        }

        .service-url a {
            color: var(--accent-blue);
            text-decoration: none;
        }

        .service-url a:hover {
            text-decoration: underline;
        }

        .service-status {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.8rem;
            padding: 0.25rem 0.6rem;
            border-radius: 12px;
        }

        .service-status.healthy {
            background: rgba(74, 222, 128, 0.15);
            color: var(--accent-green);
        }

        .service-status.error {
            background: rgba(248, 113, 113, 0.15);
            color: var(--accent-red);
        }

        .service-status.dev {
            background: rgba(96, 165, 250, 0.15);
            color: var(--accent-blue);
        }

        .service-status.na {
            background: rgba(156, 163, 175, 0.15);
            color: var(--text-tertiary);
        }

        /* Container Status */
        .container-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .container-row {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 1rem;
            padding: 0.6rem 1rem;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 0.85rem;
            align-items: center;
        }

        .container-name {
            font-family: var(--font-mono);
            color: var(--text-primary);
        }

        .container-status {
            font-size: 0.75rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .container-status.up {
            background: rgba(74, 222, 128, 0.15);
            color: var(--accent-green);
        }

        .container-status.exited {
            background: rgba(248, 113, 113, 0.15);
            color: var(--accent-red);
        }

        .container-ports {
            font-size: 0.7rem;
            color: var(--text-tertiary);
            font-family: var(--font-mono);
        }

        /* Error/Loading states */
        .loading-spinner {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            color: var(--text-tertiary);
        }

        .error-message {
            background: rgba(248, 113, 113, 0.1);
            border: 1px solid var(--accent-red);
            border-radius: 8px;
            padding: 1rem;
            color: var(--accent-red);
            text-align: center;
        }

        .empty-state {
            text-align: center;
            padding: 2rem;
            color: var(--text-tertiary);
        }

        /* Last updated */
        .last-updated {
            text-align: center;
            font-size: 0.75rem;
            color: var(--text-tertiary);
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        /* Quick Commands Section */
        .commands-section {
            grid-column: 1 / -1;
        }

        .command-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        .command-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
        }

        .command-title {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .command-code {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .command-code code {
            flex: 1;
            background: var(--bg-tertiary);
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            overflow-x: auto;
        }

        .copy-btn {
            background: none;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 0.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .copy-btn:hover {
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .copy-btn.copied {
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        /* Back link */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: var(--accent-primary);
        }
    </style>
    <script>
        // Apply saved theme immediately
        (function() {
            var theme = localStorage.getItem('cloud-dashboard-theme') || 'blurred';
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
</head>
<body>
    <div class="dashboard-container">
        <a href="index.html" class="back-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Back to Dashboard
        </a>

        <div class="dashboard-header">
            <div class="dashboard-title">
                <div class="status-dot" id="connection-status"></div>
                <h1>Live Monitoring Dashboard</h1>
            </div>
            <div class="dashboard-controls">
                <input type="text" class="api-url-input" id="api-url"
                       value="http://130.110.251.193:5000/api"
                       placeholder="API URL">
                <label class="auto-refresh-toggle">
                    <input type="checkbox" id="auto-refresh" checked>
                    Auto-refresh (30s)
                </label>
                <button class="refresh-btn" id="refresh-btn" onclick="refreshAll()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 4v6h-6M1 20v-6h6"/>
                        <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                    </svg>
                    Refresh
                </button>
            </div>
        </div>

        <div class="dashboard-grid">
            <!-- VMs Section -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2"/>
                            <path d="M8 21h8M12 17v4"/>
                        </svg>
                        Virtual Machines
                        <span class="count-badge" id="vm-count">0</span>
                    </h2>
                </div>
                <div class="section-body">
                    <div class="vm-list" id="vm-list">
                        <div class="loading-spinner">Loading VMs...</div>
                    </div>
                </div>
            </div>

            <!-- Services Section -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                            <path d="M2 17l10 5 10-5"/>
                            <path d="M2 12l10 5 10-5"/>
                        </svg>
                        Services
                        <span class="count-badge" id="service-count">0</span>
                    </h2>
                </div>
                <div class="section-body">
                    <div class="service-list" id="service-list">
                        <div class="loading-spinner">Loading Services...</div>
                    </div>
                </div>
            </div>

            <!-- Containers Section -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2"/>
                            <path d="M3 9h18M9 21V9"/>
                        </svg>
                        Docker Containers
                        <span class="count-badge" id="container-count">0</span>
                    </h2>
                </div>
                <div class="section-body">
                    <div class="container-list" id="container-list">
                        <div class="loading-spinner">Loading Containers...</div>
                    </div>
                </div>
            </div>

            <!-- Quick Commands Section -->
            <div class="dashboard-section commands-section">
                <div class="section-header">
                    <h2>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="4 17 10 11 4 5"/>
                            <line x1="12" y1="19" x2="20" y2="19"/>
                        </svg>
                        Quick Commands
                    </h2>
                </div>
                <div class="section-body">
                    <div class="command-grid" id="command-grid">
                        <div class="loading-spinner">Loading Commands...</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="last-updated">
            Last updated: <span id="last-updated">Never</span>
        </div>
    </div>

    <script>
        // Configuration
        let apiUrl = document.getElementById('api-url').value;
        let autoRefreshInterval = null;
        let isLoading = false;

        // Update API URL when input changes
        document.getElementById('api-url').addEventListener('change', function() {
            apiUrl = this.value;
            refreshAll();
        });

        // Auto-refresh toggle
        document.getElementById('auto-refresh').addEventListener('change', function() {
            if (this.checked) {
                startAutoRefresh();
            } else {
                stopAutoRefresh();
            }
        });

        function startAutoRefresh() {
            stopAutoRefresh();
            autoRefreshInterval = setInterval(refreshAll, 30000);
        }

        function stopAutoRefresh() {
            if (autoRefreshInterval) {
                clearInterval(autoRefreshInterval);
                autoRefreshInterval = null;
            }
        }

        // API Calls
        async function fetchAPI(endpoint) {
            try {
                const response = await fetch(`${apiUrl}${endpoint}`);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                return await response.json();
            } catch (error) {
                console.error(`API Error (${endpoint}):`, error);
                throw error;
            }
        }

        async function refreshAll() {
            if (isLoading) return;
            isLoading = true;

            const refreshBtn = document.getElementById('refresh-btn');
            const connectionStatus = document.getElementById('connection-status');
            refreshBtn.classList.add('loading');

            try {
                // Fetch dashboard summary (includes health checks)
                const summary = await fetchAPI('/dashboard/summary');

                connectionStatus.classList.remove('disconnected');

                renderVMs(summary.vms);
                renderServices(summary.services);

                // Fetch containers for online VMs
                await fetchContainers(summary.vms);

                // Fetch quick commands
                await fetchQuickCommands();

                document.getElementById('last-updated').textContent = new Date().toLocaleTimeString();
            } catch (error) {
                connectionStatus.classList.add('disconnected');
                showError('vm-list', 'Failed to connect to API');
                showError('service-list', 'Failed to connect to API');
                showError('container-list', 'Failed to connect to API');
            } finally {
                refreshBtn.classList.remove('loading');
                isLoading = false;
            }
        }

        function showError(containerId, message) {
            document.getElementById(containerId).innerHTML = `
                <div class="error-message">${message}</div>
            `;
        }

        // Render VMs
        function renderVMs(vmCategories) {
            const container = document.getElementById('vm-list');
            let totalCount = 0;
            let html = '';

            vmCategories.forEach(cat => {
                totalCount += cat.vms.length;
                cat.vms.forEach(vm => {
                    const statusClass = vm.status.toLowerCase().replace(' ', '-');
                    const ramPercent = vm.ram_percent !== '-' ? parseInt(vm.ram_percent) : 0;
                    const ramClass = ramPercent > 80 ? 'danger' : ramPercent > 60 ? 'warning' : '';

                    html += `
                        <div class="vm-card">
                            <div class="vm-card-header">
                                <span class="vm-name">${vm.name}</span>
                                <span class="vm-status ${statusClass}">
                                    <span>${vm.status === 'ONLINE' ? '' : vm.status === 'PENDING' ? '' : ''}</span>
                                    ${vm.status}
                                </span>
                            </div>
                            <div class="vm-details">
                                <div class="vm-detail">
                                    <span class="vm-detail-label">IP</span>
                                    <span class="vm-detail-value">${vm.ip || '-'}</span>
                                </div>
                                <div class="vm-detail">
                                    <span class="vm-detail-label">Type</span>
                                    <span class="vm-detail-value">${vm.instanceType || '-'}</span>
                                </div>
                                <div class="vm-detail">
                                    <span class="vm-detail-label">RAM</span>
                                    <span class="vm-detail-value">${vm.ram_percent !== '-' ? vm.ram_percent + '%' : '-'}</span>
                                </div>
                            </div>
                            ${vm.ram_percent !== '-' ? `
                                <div class="ram-bar">
                                    <div class="ram-bar-fill ${ramClass}" style="width: ${ramPercent}%"></div>
                                </div>
                            ` : ''}
                        </div>
                    `;
                });
            });

            container.innerHTML = html || '<div class="empty-state">No VMs found</div>';
            document.getElementById('vm-count').textContent = totalCount;
        }

        // Render Services
        function renderServices(serviceCategories) {
            const container = document.getElementById('service-list');
            let totalCount = 0;
            let html = '';

            serviceCategories.forEach(cat => {
                totalCount += cat.services.length;
                cat.services.forEach(svc => {
                    const statusClass = svc.status.toLowerCase();
                    const statusIcon = svc.status === 'HEALTHY' ? '' :
                                      svc.status === 'ERROR' ? '' :
                                      svc.status === 'DEV' ? '' : '-';

                    html += `
                        <div class="service-row">
                            <div class="service-info">
                                <span class="service-name">${svc.name}</span>
                                <span class="service-url">
                                    ${svc.url ? `<a href="${svc.url}" target="_blank">${svc.url.replace('https://', '').replace('http://', '')}</a>` : '-'}
                                </span>
                            </div>
                            <span class="service-status ${statusClass}">
                                <span>${statusIcon}</span>
                                ${svc.status}
                            </span>
                        </div>
                    `;
                });
            });

            container.innerHTML = html || '<div class="empty-state">No services found</div>';
            document.getElementById('service-count').textContent = totalCount;
        }

        // Fetch and render containers
        async function fetchContainers(vmCategories) {
            const container = document.getElementById('container-list');
            let html = '';
            let totalCount = 0;

            for (const cat of vmCategories) {
                for (const vm of cat.vms) {
                    if (vm.status === 'ONLINE') {
                        try {
                            const data = await fetchAPI(`/vms/${vm.id.replace('oracle-', '').replace('gcloud-', '')}/containers`);
                            if (data.containers) {
                                data.containers.forEach(c => {
                                    totalCount++;
                                    const statusClass = c.status.includes('Up') ? 'up' : 'exited';
                                    html += `
                                        <div class="container-row">
                                            <span class="container-name">${c.name}</span>
                                            <span class="container-status ${statusClass}">${c.status}</span>
                                            <span class="container-ports">${c.ports || '-'}</span>
                                        </div>
                                    `;
                                });
                            }
                        } catch (e) {
                            // Skip VM if containers can't be fetched
                        }
                    }
                }
            }

            container.innerHTML = html || '<div class="empty-state">No containers found</div>';
            document.getElementById('container-count').textContent = totalCount;
        }

        // Fetch and render quick commands
        async function fetchQuickCommands() {
            const container = document.getElementById('command-grid');

            try {
                const config = await fetchAPI('/config');
                const commands = config.quickCommands || {};
                let html = '';

                // SSH Commands
                if (commands.ssh) {
                    Object.entries(commands.ssh).forEach(([vm, cmd]) => {
                        html += createCommandCard(`SSH: ${vm}`, cmd);
                    });
                }

                // Docker Commands
                if (commands.docker) {
                    Object.entries(commands.docker).forEach(([name, cmd]) => {
                        html += createCommandCard(`Docker: ${name}`, cmd);
                    });
                }

                // Monitoring Commands
                if (commands.monitoring) {
                    Object.entries(commands.monitoring).forEach(([name, cmd]) => {
                        html += createCommandCard(`Monitor: ${name}`, cmd);
                    });
                }

                container.innerHTML = html || '<div class="empty-state">No commands configured</div>';
            } catch (e) {
                container.innerHTML = '<div class="error-message">Failed to load commands</div>';
            }
        }

        function createCommandCard(title, command) {
            const id = 'cmd-' + Math.random().toString(36).substr(2, 9);
            return `
                <div class="command-card">
                    <div class="command-title">${title}</div>
                    <div class="command-code">
                        <code>${command}</code>
                        <button class="copy-btn" onclick="copyCommand(this, '${command.replace(/'/g, "\\'")}')">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2"/>
                                <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                            </svg>
                        </button>
                    </div>
                </div>
            `;
        }

        function copyCommand(btn, command) {
            navigator.clipboard.writeText(command).then(() => {
                btn.classList.add('copied');
                setTimeout(() => btn.classList.remove('copied'), 2000);
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            refreshAll();
            if (document.getElementById('auto-refresh').checked) {
                startAutoRefresh();
            }
        });
    </script>
</body>
</html>
