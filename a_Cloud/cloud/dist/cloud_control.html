<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cloud Control | Cloud Portal</title>

    <!-- Matomo Tag Manager -->
    <script>
      var _mtm = window._mtm = window._mtm || [];
      _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
      (function() {
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src='https://analytics.diegonmarcos.com/js/container_odwLIyPV.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Tag Manager -->

    <style>﻿[data-theme=minimalistic]{--bg-primary: #000000;--bg-secondary: #0a0a0a;--bg-card: #111111;--bg-card-hover: #1a1a1a;--text-primary: #ffffff;--text-secondary: #888888;--accent-primary: #ff6600;--accent-orange: #ff6600;--accent-blue: #3399ff;--accent-green: #00cc66;--accent-yellow: #ffcc00;--accent-red: #ff3333;--accent-purple: #8b5cf6;--border-color: #333333;--border-highlight: #ff6600;--shadow: rgba(0, 0, 0, 0.5);--glow: rgba(255, 102, 0, 0.3);--font-mono: "Consolas", "Monaco", "Courier New", monospace;--font-main: var(--font-mono);--border-radius: 0px;--border-radius-lg: 0px;--card-padding: 1rem;--transition-speed: 0.15s}:root,[data-theme=blurred]{--grid-cols: 3;--bg-primary: #0a0e27;--bg-secondary: #151a33;--bg-card: rgba(26, 31, 58, 0.8);--bg-card-hover: rgba(35, 42, 74, 0.9);--text-primary: #e0e6ff;--text-secondary: #8b95c9;--accent-primary: #4a9eff;--accent-orange: #ff6b35;--accent-blue: #4a9eff;--accent-green: #10b981;--accent-yellow: #fbbf24;--accent-red: #ef4444;--accent-purple: #8b5cf6;--border-color: rgba(255, 255, 255, 0.1);--border-highlight: #4a9eff;--shadow: rgba(0, 0, 0, 0.3);--glow: rgba(74, 158, 255, 0.4);--font-mono: "Consolas", "Monaco", "Courier New", monospace;--font-main: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;--border-radius: 12px;--border-radius-lg: 16px;--card-padding: 1.5rem;--transition-speed: 0.3s}*{margin:0;padding:0;box-sizing:border-box}html{height:100%;width:100%;min-width:100%}body{font-family:var(--font-main);background:var(--bg-primary);color:var(--text-primary);min-height:100%;width:100%;padding:.5rem;display:flex;flex-direction:column;font-size:13px;line-height:1.4;transition:background var(--transition-speed) ease,color var(--transition-speed) ease;overflow-x:hidden;overflow-y:auto}[data-theme=blurred] body{background:linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);font-size:14px;padding:1rem}.container{width:100%;max-width:1400px;margin:0 auto;flex:1;display:flex;flex-direction:column;overflow:visible;padding:0 1rem}[data-theme=blurred] .container{max-width:1400px}#cards-view{max-width:1600px;width:100%;margin:0 auto}#tree-view{width:100%;overflow-x:auto}#architecture-view{flex:1;width:100%}.page-container{max-width:1400px;margin:0 auto;width:100%;padding:0 1rem}[data-theme=blurred] .page-container{background:linear-gradient(135deg, rgba(10, 10, 15, 0.6) 0%, rgba(26, 26, 46, 0.4) 50%, rgba(10, 10, 15, 0.6) 100%);border-radius:16px;padding:1.5rem;border:1px solid hsla(0,0%,100%,.05);backdrop-filter:blur(10px)}.link-accent{color:var(--accent-blue)}.text-muted{color:hsla(0,0%,100%,.4)}.text-secondary{color:hsla(0,0%,100%,.5)}.text-primary{color:hsla(0,0%,100%,.9)}.text-success{color:#10b981}.text-center{text-align:center}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInDown{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideIn{from{transform:translateX(400px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(400px);opacity:0}}@keyframes slideInScale{from{opacity:0;transform:scale(0.9) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}header{text-align:center;margin-bottom:.75rem;animation:fadeInDown .6s ease-out}header h1{font-size:1.2rem;font-weight:700;color:var(--accent-primary);text-transform:uppercase;letter-spacing:1px;margin-bottom:.15rem;transition:all var(--transition-speed) ease}[data-theme=blurred] header{margin-bottom:1.5rem}[data-theme=blurred] header h1{font-size:1.5rem;text-transform:uppercase;letter-spacing:2px;font-weight:700;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}.subtitle{color:var(--text-secondary);font-size:.7rem;text-transform:uppercase;letter-spacing:.5px;transition:all var(--transition-speed) ease}[data-theme=blurred] .subtitle{font-size:1rem;text-transform:none;letter-spacing:normal;font-weight:300}.header-banner{width:100%;max-width:800px;margin:.5rem auto;opacity:.8;transition:opacity .3s ease}.header-banner svg{width:100%;height:auto;max-height:80px}.header-banner:hover{opacity:1}[data-theme=blurred] .header-banner{opacity:.9;margin:1rem auto}[data-theme=blurred] .header-banner svg{max-height:100px;filter:drop-shadow(0 0 10px rgba(56, 189, 248, 0.2))}[data-theme=blurred] .header-banner:hover svg{filter:drop-shadow(0 0 15px rgba(56, 189, 248, 0.4))}.section-header{text-align:left;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color);transition:all var(--transition-speed) ease}.section-header h2{font-size:1rem;font-weight:600;color:var(--accent-primary);text-transform:uppercase;letter-spacing:1px;transition:all var(--transition-speed) ease}[data-theme=blurred] .section-header{text-align:center;margin-bottom:2rem;border-bottom:none;padding-bottom:0}[data-theme=blurred] .section-header h2{font-size:2rem;text-transform:none;letter-spacing:normal;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}.theme-toggle{position:fixed;top:1rem;right:1rem;z-index:1000;display:flex;align-items:center;justify-content:center;width:36px;height:36px;padding:0;border:none;background:rgba(0,0,0,0);color:var(--text-secondary);cursor:pointer;transition:all .3s ease;border-radius:50%}.theme-toggle svg{width:18px;height:18px;transition:transform .5s ease,color .3s ease}.theme-toggle .theme-label{position:absolute;right:100%;margin-right:.5rem;font-family:var(--font-mono);font-size:.7rem;text-transform:uppercase;white-space:nowrap;opacity:0;transform:translateX(10px);transition:opacity .2s ease,transform .2s ease;pointer-events:none}.theme-toggle:hover{color:var(--accent-primary);background:var(--bg-card)}.theme-toggle:hover svg{transform:rotate(180deg)}.theme-toggle:hover .theme-label{opacity:1;transform:translateX(0)}[data-theme=blurred] .theme-toggle{color:var(--text-secondary)}[data-theme=blurred] .theme-toggle:hover{color:var(--accent-blue);background:hsla(0,0%,100%,.1);box-shadow:0 0 20px var(--glow)}[data-theme=blurred] .theme-toggle:hover svg{filter:drop-shadow(0 0 8px var(--accent-blue))}.zoom-controls{position:fixed;top:3.5rem;right:1rem;z-index:1000;display:flex;align-items:center;gap:.25rem;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:.25rem;opacity:.7;transition:all .3s ease}.zoom-controls:hover{opacity:1;border-color:var(--accent-primary)}[data-theme=blurred] .zoom-controls{background:rgba(26,31,58,.9);backdrop-filter:blur(10px);border-radius:20px;padding:.35rem}[data-theme=blurred] .zoom-controls:hover{border-color:var(--accent-blue);box-shadow:0 0 20px var(--glow)}.zoom-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;padding:0;border:none;background:rgba(0,0,0,0);color:var(--text-secondary);cursor:pointer;transition:all .2s ease;border-radius:4px}.zoom-btn svg{width:16px;height:16px}.zoom-btn:hover:not(:disabled){color:var(--accent-primary);background:var(--bg-primary)}.zoom-btn:disabled{opacity:.3;cursor:not-allowed}[data-theme=blurred] .zoom-btn{border-radius:50%}[data-theme=blurred] .zoom-btn:hover:not(:disabled){color:var(--accent-blue);background:hsla(0,0%,100%,.1)}.zoom-level{font-family:var(--font-mono);font-size:.65rem;color:var(--text-secondary);min-width:32px;text-align:center;user-select:none}[data-theme=blurred] .zoom-level{font-size:.7rem}.nav-level1{display:flex;justify-content:center;gap:.5rem;margin:1rem 0 .75rem 0}.nav-main-btn{padding:.6rem 1.5rem;font-size:.85rem;font-weight:600;text-transform:uppercase;letter-spacing:1px;border:2px solid var(--border-color);border-radius:var(--border-radius);background:var(--bg-card);color:var(--text-secondary);cursor:pointer;transition:all .3s ease}.nav-main-btn:hover{border-color:var(--accent-primary);color:var(--text-primary)}.nav-main-btn.active{border-color:var(--accent-primary);background:var(--accent-primary);color:var(--bg-primary)}[data-theme=blurred] .nav-main-btn{background:hsla(0,0%,100%,.05);border:1px solid hsla(0,0%,100%,.1);border-radius:25px;backdrop-filter:blur(10px)}[data-theme=blurred] .nav-main-btn:hover{border-color:var(--accent-blue);background:hsla(0,0%,100%,.1);box-shadow:0 0 15px var(--glow)}[data-theme=blurred] .nav-main-btn.active{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));border-color:rgba(0,0,0,0);color:#fff;box-shadow:0 0 20px var(--glow)}.nav-level2{display:none;flex-wrap:wrap;justify-content:center;gap:.5rem;padding:.75rem;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);margin-bottom:1rem}.nav-level2.active{display:flex}[data-theme=blurred] .nav-level2{background:hsla(0,0%,100%,.03);border:1px solid hsla(0,0%,100%,.08);border-radius:15px;backdrop-filter:blur(10px)}.nav-divider{width:1px;height:20px;background:var(--border-color);margin:0 .25rem;opacity:.5;pointer-events:none;flex-shrink:0}[data-theme=blurred] .nav-divider{background:hsla(0,0%,100%,.15)}.view-btn-group{position:relative}.view-btn-group .view-btn-dropdown{display:none;position:absolute;top:100%;left:0;z-index:100;flex-direction:column;gap:.25rem;padding:.5rem;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);min-width:100%;box-shadow:0 4px 12px rgba(0,0,0,.3)}.view-btn-group:hover .view-btn-dropdown{display:flex}[data-theme=blurred] .view-btn-group .view-btn-dropdown{background:rgba(26,31,58,.95);backdrop-filter:blur(15px);border:1px solid hsla(0,0%,100%,.1);border-radius:10px}.nav-level3{display:none;flex-wrap:wrap;justify-content:center;gap:.5rem;padding:.75rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);margin-bottom:1rem;margin-top:-0.5rem}.nav-level3-group{display:none;flex-wrap:wrap;justify-content:center;gap:.5rem}[data-theme=blurred] .nav-level3{background:hsla(0,0%,100%,.02);border:1px solid hsla(0,0%,100%,.05);border-radius:12px;backdrop-filter:blur(10px)}.nav-level3-wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.nav-level3-title{font-size:1.5rem;font-weight:700;color:var(--accent-primary);margin:0 0 .5rem 0;text-transform:uppercase;letter-spacing:2px;text-align:center}.nav-level3-subtitle{font-size:1rem;font-weight:300;color:var(--text-secondary);margin:0 0 .75rem 0;text-align:center}[data-theme=blurred] .nav-level3-wrapper{border-top-color:hsla(0,0%,100%,.1)}[data-theme=blurred] .nav-level3-title{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}[data-theme=blurred] .nav-level3-subtitle{color:var(--text-secondary);opacity:.8}.grid-selector{display:flex;align-items:center;gap:.25rem;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:.25rem}.grid-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:none;background:rgba(0,0,0,0);color:var(--text-secondary);cursor:pointer;transition:all .2s ease;border-radius:4px}.grid-btn svg{width:16px;height:16px}.grid-btn:hover{color:var(--accent-primary);background:var(--bg-primary)}.grid-btn.active{color:var(--accent-primary);background:var(--bg-primary)}[data-theme=blurred] .grid-selector{background:hsla(0,0%,100%,.05);border:1px solid hsla(0,0%,100%,.1);border-radius:20px;backdrop-filter:blur(10px)}[data-theme=blurred] .grid-btn{border-radius:50%}[data-theme=blurred] .grid-btn:hover,[data-theme=blurred] .grid-btn.active{color:var(--accent-blue);background:hsla(0,0%,100%,.1)}.grid-selector-inline{display:flex;align-items:center;justify-content:flex-end;gap:.5rem;margin-bottom:1rem;padding:.5rem 1rem}.grid-label{font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-right:.25rem}.grid-btn-inline{padding:.35rem .75rem !important;font-size:.75rem !important;min-width:auto}[data-theme=blurred] .grid-selector-inline{background:rgba(0,0,0,0)}[data-theme=blurred] .grid-label{color:var(--text-secondary);opacity:.7}.cards-grid{display:grid;grid-template-columns:repeat(var(--grid-cols, 2), 1fr);gap:calc(1.5rem*var(--zoom-scale, 1));animation:fadeIn .8s ease-out;width:100%}[data-theme=blurred] .cards-grid{gap:calc(2rem*var(--zoom-scale, 1))}.card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:calc(.5rem*var(--zoom-scale, 1));cursor:pointer;transition:all .3s ease,transform .3s ease;position:relative;text-decoration:none;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;transform-origin:center center;z-index:1;aspect-ratio:5/2;min-height:0;overflow:hidden}.card:hover{background:var(--bg-card-hover);border-color:var(--border-highlight);transform:scale(var(--hover-scale, 2));z-index:100;box-shadow:0 20px 60px rgba(0,0,0,.7)}.card:hover .card-icon{color:var(--accent-primary)}.card:hover h3{color:var(--accent-primary)}.card:hover .card-status.online{background:var(--accent-green);color:#000}.card.card-link{text-decoration:none;color:inherit}[data-theme=blurred] .card{border-radius:var(--border-radius-lg);overflow:hidden;backdrop-filter:blur(10px);aspect-ratio:5/2;min-height:0}[data-theme=blurred] .card::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));opacity:0;transition:opacity .4s ease;z-index:0}[data-theme=blurred] .card::after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);opacity:0;transition:opacity .4s ease;pointer-events:none}[data-theme=blurred] .card:hover{transform:scale(var(--hover-scale, 2));box-shadow:0 25px 80px var(--shadow),0 0 50px var(--glow);border-color:var(--accent-blue)}[data-theme=blurred] .card:hover::before{opacity:.1}[data-theme=blurred] .card:hover::after{opacity:1}[data-theme=blurred] .card:hover .card-icon{filter:drop-shadow(0 0 12px var(--accent-blue))}[data-theme=blurred] .card:hover h3{color:var(--accent-blue)}[data-theme=blurred] .card:hover p{color:var(--text-primary)}[data-theme=blurred] .card:hover .card-status.online{background:rgba(16,185,129,.25);color:var(--accent-green);box-shadow:0 0 15px rgba(16,185,129,.3)}[data-theme=blurred] .card>*{position:relative;z-index:1}.card-icon{width:calc(32px*var(--zoom-scale, 1));height:calc(32px*var(--zoom-scale, 1));margin-bottom:calc(.75rem*var(--zoom-scale, 1));color:var(--accent-blue);transition:all var(--transition-speed) ease}.card-icon svg{width:100%;height:100%}[data-theme=blurred] .card-icon{width:calc(60px*var(--zoom-scale, 1));height:calc(60px*var(--zoom-scale, 1));margin-bottom:calc(1.5rem*var(--zoom-scale, 1))}.card h3{font-size:calc(.95rem*var(--zoom-scale, 1));margin-bottom:calc(.25rem*var(--zoom-scale, 1));font-weight:600;text-transform:uppercase;letter-spacing:.5px;transition:color var(--transition-speed) ease}[data-theme=blurred] .card h3{font-size:calc(1.5rem*var(--zoom-scale, 1));text-transform:none;letter-spacing:normal;margin-bottom:calc(.75rem*var(--zoom-scale, 1))}.card p{color:var(--text-secondary);font-size:calc(.8rem*var(--zoom-scale, 1));margin-bottom:calc(.75rem*var(--zoom-scale, 1));transition:color var(--transition-speed) ease}[data-theme=blurred] .card p{font-size:calc(.95rem*var(--zoom-scale, 1));line-height:1.6;margin-bottom:calc(1.5rem*var(--zoom-scale, 1))}.card-status{display:inline-block;padding:calc(.2rem*var(--zoom-scale, 1)) calc(.5rem*var(--zoom-scale, 1));font-size:calc(.7rem*var(--zoom-scale, 1));font-weight:600;text-transform:uppercase;letter-spacing:.5px;transition:all var(--transition-speed) ease;border-radius:var(--border-radius);margin-top:auto}.card-status.online{background:rgba(0,0,0,0);color:var(--accent-green);border:1px solid var(--accent-green)}.card-status.pending{background:rgba(0,0,0,0);color:var(--accent-yellow);border:1px solid var(--accent-yellow)}[data-theme=blurred] .card-status{padding:calc(.4rem*var(--zoom-scale, 1)) calc(1rem*var(--zoom-scale, 1));font-size:calc(.85rem*var(--zoom-scale, 1));border-radius:20px}[data-theme=blurred] .card-status.online{background:rgba(16,185,129,.15);border-color:rgba(16,185,129,.3)}[data-theme=blurred] .card-status.pending{background:rgba(251,191,36,.15);border-color:rgba(251,191,36,.3)}.card-placeholder{border-style:dashed;opacity:.6}.card-placeholder:hover{opacity:.8;transform:none}[data-theme=blurred] .card-placeholder{border-style:dashed;background:hsla(0,0%,100%,.02);opacity:.5}[data-theme=blurred] .card-placeholder:hover{opacity:.7;transform:none;box-shadow:none}.card-actions{margin-top:calc(.5rem*var(--zoom-scale, 1));padding-top:calc(.5rem*var(--zoom-scale, 1));border-top:1px solid var(--border-color)}[data-theme=blurred] .card-actions{margin-top:calc(1rem*var(--zoom-scale, 1));padding-top:calc(1rem*var(--zoom-scale, 1))}.code-with-copy{display:flex;align-items:center;gap:calc(.5rem*var(--zoom-scale, 1));background:var(--bg-primary);padding:calc(.4rem*var(--zoom-scale, 1)) calc(.5rem*var(--zoom-scale, 1));border:1px solid var(--border-color);border-radius:var(--border-radius)}[data-theme=blurred] .code-with-copy{background:rgba(0,0,0,.3);border-radius:8px;padding:calc(.75rem*var(--zoom-scale, 1)) calc(1rem*var(--zoom-scale, 1))}.card-code{font-family:var(--font-mono);font-size:calc(.65rem*var(--zoom-scale, 1));color:var(--accent-orange);flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-theme=blurred] .card-code{color:var(--accent-green);font-size:calc(.75rem*var(--zoom-scale, 1))}.copy-icon{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:calc(.25rem*var(--zoom-scale, 1));display:flex;align-items:center;justify-content:center;transition:color var(--transition-speed) ease}.copy-icon svg{width:calc(14px*var(--zoom-scale, 1));height:calc(14px*var(--zoom-scale, 1))}.copy-icon:hover{color:var(--accent-primary)}.copy-icon:disabled{opacity:.3;cursor:not-allowed}.vm-buttons{display:flex;gap:calc(.5rem*var(--zoom-scale, 1));margin-top:calc(.5rem*var(--zoom-scale, 1))}.vm-btn{flex:1;display:flex;align-items:center;justify-content:center;gap:calc(.25rem*var(--zoom-scale, 1));padding:calc(.4rem*var(--zoom-scale, 1));background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--border-radius);color:var(--text-secondary);font-family:var(--font-mono);font-size:calc(.55rem*var(--zoom-scale, 1));text-transform:uppercase;cursor:pointer;transition:all var(--transition-speed) ease}.vm-btn svg{width:calc(12px*var(--zoom-scale, 1));height:calc(12px*var(--zoom-scale, 1))}.vm-btn:hover:not(:disabled){border-color:var(--accent-primary);color:var(--accent-primary)}.vm-btn:disabled{opacity:.3;cursor:not-allowed}[data-theme=blurred] .vm-btn{border-radius:8px;padding:calc(.5rem*var(--zoom-scale, 1)) calc(.75rem*var(--zoom-scale, 1));backdrop-filter:blur(5px);background:hsla(0,0%,100%,.05);font-size:calc(.6rem*var(--zoom-scale, 1))}[data-theme=blurred] .vm-btn:hover:not(:disabled){background:rgba(74,158,255,.1);border-color:var(--accent-blue);color:var(--accent-blue);box-shadow:0 0 15px rgba(74,158,255,.2)}.card:nth-child(1){animation:fadeIn .4s ease-out .1s backwards}.card:nth-child(2){animation:fadeIn .4s ease-out .2s backwards}.card:nth-child(3){animation:fadeIn .4s ease-out .3s backwards}.card:nth-child(4){animation:fadeIn .4s ease-out .4s backwards}.card:nth-child(5){animation:fadeIn .4s ease-out .5s backwards}.card:nth-child(6){animation:fadeIn .4s ease-out .6s backwards}.card:nth-child(7){animation:fadeIn .4s ease-out .7s backwards}.card:nth-child(8){animation:fadeIn .4s ease-out .8s backwards}.card:nth-child(9){animation:fadeIn .4s ease-out .9s backwards}.card:nth-child(10){animation:fadeIn .4s ease-out 1s backwards}.category-section{border:1px solid hsla(0,0%,100%,.15);border-radius:8px;padding:.75rem;background:hsla(0,0%,100%,.02);container-type:inline-size}.category-section .cards-grid{grid-template-columns:repeat(2, 1fr);gap:.5rem}.category-section .card{padding:.3rem}.category-section .card h3{font-size:.65rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.category-section .card p{font-size:.55rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;margin-bottom:0}.category-section .card-icon{width:20px;height:20px;margin-bottom:.2rem}.category-section .card-status{display:none}[data-theme=blurred] .category-section{border-color:hsla(0,0%,100%,.1);background:hsla(0,0%,100%,.03);backdrop-filter:blur(5px)}.category-title{margin:0 0 .5rem .25rem;color:hsla(0,0%,100%,.7);font-size:.8rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.categories-row{display:grid;grid-template-columns:repeat(var(--grid-cols, 2), 1fr);gap:1rem;width:100%;transition:grid-template-columns .3s ease}html[data-grid-cols="2"] .category-section .card-icon{width:28px;height:28px;margin-bottom:.3rem}html[data-grid-cols="2"] .category-section .card h3{font-size:.8rem}html[data-grid-cols="2"] .category-section .card p{font-size:.65rem}html[data-grid-cols="4"] .category-section .card-icon{width:14px;height:14px;margin-bottom:.15rem}html[data-grid-cols="4"] .category-section .card h3{font-size:.5rem}html[data-grid-cols="4"] .category-section .card p{font-size:.4rem}.channels-section{margin-top:2rem;padding:1.5rem;background:rgba(0,0,0,0);border-top:1px solid var(--border-color);border-radius:0;animation:fadeIn .3s ease-out}.channels-title{margin:0 0 1rem 0;color:var(--text-secondary);font-size:.75rem;font-weight:400;text-transform:uppercase;letter-spacing:1px}.channels-table{width:100%;border-collapse:collapse;font-size:.75rem}.channels-table th,.channels-table td{padding:.4rem .5rem;text-align:left;border-bottom:1px solid var(--border-color)}.channels-table th{color:var(--text-secondary);font-weight:500;font-size:.65rem;text-transform:uppercase}.channels-table td{color:var(--text-primary)}.channels-table td:first-child{width:24px;text-align:center}.channels-table td:last-child{text-align:right;width:60px}.channels-table .lock-icon{font-size:.7rem;opacity:.7}.open-btn{display:inline-block;padding:.2rem .5rem;font-size:.65rem;color:var(--accent-blue);text-decoration:none;border:1px solid var(--accent-blue);border-radius:4px;transition:all .2s ease}.open-btn:hover{background:var(--accent-blue);color:#000}[data-theme=blurred] .channels-section{background:rgba(0,0,0,0);border-top:1px solid hsla(0,0%,100%,.1)}.channel-admin-link{display:inline-block;margin-top:1rem;font-size:.7rem;color:var(--text-secondary);text-decoration:none;transition:color .2s ease}.channel-admin-link:hover{color:var(--accent-blue)}.view-toggle{display:flex;flex-wrap:wrap;justify-content:center;align-items:flex-start;gap:.35rem;margin-top:.75rem;padding:0 .5rem}[data-theme=blurred] .view-toggle{gap:.5rem}.tree-controls{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-bottom:1rem;padding-top:.5rem}.tree-controls-group{display:flex;gap:.25rem}.tree-controls-sep{width:1px;height:24px;background:var(--border-color);margin:0 .5rem}.tree-filter-btn{padding:.25rem .5rem;border:1px solid var(--border-color);background:var(--bg-card);color:var(--text-secondary);font-family:var(--font-mono);font-size:.7rem;text-transform:uppercase;cursor:pointer;transition:all var(--transition-speed) ease;border-radius:var(--border-radius)}.tree-filter-btn:hover{border-color:var(--accent-primary);color:var(--accent-primary)}.tree-filter-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#000}[data-theme=blurred] .tree-controls-sep{background:hsla(0,0%,100%,.1)}[data-theme=blurred] .tree-filter-btn{border-radius:12px;backdrop-filter:blur(10px);background:hsla(0,0%,100%,.05)}[data-theme=blurred] .tree-filter-btn:hover{background:hsla(0,0%,100%,.1);border-color:var(--accent-blue);color:var(--accent-blue)}[data-theme=blurred] .tree-filter-btn.active{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));border-color:rgba(0,0,0,0);color:#fff}.tree-ctrl-btn{display:flex;align-items:center;gap:.25rem;padding:.3rem .6rem;border:1px solid var(--border-color);background:var(--bg-card);color:var(--text-secondary);font-family:var(--font-mono);font-size:.75rem;text-transform:uppercase;cursor:pointer;transition:all var(--transition-speed) ease;border-radius:var(--border-radius)}.tree-ctrl-btn svg{width:12px;height:12px}.tree-ctrl-btn:hover{border-color:var(--accent-primary);color:var(--accent-primary)}[data-theme=blurred] .tree-ctrl-btn{border-radius:15px;backdrop-filter:blur(10px);background:hsla(0,0%,100%,.05)}[data-theme=blurred] .tree-ctrl-btn:hover{background:hsla(0,0%,100%,.1);border-color:var(--accent-blue);color:var(--accent-blue)}.view-btn{display:flex;align-items:center;gap:.2rem;padding:.3rem .5rem;border:1px solid var(--border-color);background:var(--bg-card);color:var(--text-secondary);font-family:var(--font-mono);font-size:.65rem;text-transform:uppercase;cursor:pointer;transition:all var(--transition-speed) ease;border-radius:var(--border-radius);white-space:nowrap;text-decoration:none}.view-btn svg{width:12px;height:12px}.view-btn:hover{border-color:var(--accent-primary);color:var(--text-primary)}.view-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#000}[data-theme=blurred] .view-btn{border-radius:14px;padding:.35rem .65rem;backdrop-filter:blur(10px);background:hsla(0,0%,100%,.05);text-transform:none;font-size:.7rem}[data-theme=blurred] .view-btn:hover{background:hsla(0,0%,100%,.1);border-color:var(--accent-blue)}[data-theme=blurred] .view-btn.active{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));border-color:rgba(0,0,0,0);color:#fff}.view-group{display:flex;flex-direction:column;align-items:center;gap:.2rem}.view-group-label{font-size:.5rem;font-family:var(--font-mono);text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);opacity:.6}.view-group-buttons{display:flex;flex-wrap:wrap;justify-content:center;gap:.15rem}[data-theme=blurred] .view-group-label{font-size:.55rem;letter-spacing:1px;opacity:.5}[data-theme=blurred] .view-group-buttons{gap:.25rem}.view-group.group-active .view-btn{text-decoration:underline;text-underline-offset:4px;text-decoration-thickness:1px}.view-separator{width:1px;height:30px;background:var(--border-color);margin:0 .35rem;opacity:.3;align-self:center}[data-theme=blurred] .view-separator{background:linear-gradient(180deg, transparent, var(--border-color), transparent);height:35px;opacity:.25;margin:0 .5rem}.view-content{display:none}.view-content.active{display:block}#tree-view{width:100%}.tree-container{font-family:var(--font-mono);font-size:.8rem;padding:1rem 0}.tree-section{margin-bottom:1.5rem}.tree-section-header{display:flex;align-items:center;gap:.75rem;padding:.5rem 0;margin-bottom:.5rem;border-bottom:1px solid var(--border-color)}.tree-section-header .section-icon{font-size:1rem}.tree-section-header .section-title{font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-secondary)}.tree-list{list-style:none;padding:0;margin:0}.tree-item,.tree-node{position:relative}.tree-item::before,.tree-node::before{content:"";position:absolute;left:0;top:0;bottom:0;width:1px;background:var(--border-color)}.tree-item:last-child::before,.tree-node:last-child::before{height:1.1rem}.tree-row,.node-header{display:flex;align-items:center;gap:.5rem;padding:.35rem .5rem;margin-left:1rem;position:relative;transition:background .15s ease;border-radius:4px}.tree-row::before,.node-header::before{content:"";position:absolute;left:-1rem;top:50%;width:.75rem;height:1px;background:var(--border-color)}.tree-row:hover,.node-header:hover{background:var(--bg-card-hover)}.tree-row:hover .tree-actions,.node-header:hover .tree-actions{opacity:1}.tree-item[data-level="0"]>.tree-row,.tree-item[data-level="0"]>.node-header,[data-level="0"].tree-node>.tree-row,[data-level="0"].tree-node>.node-header{margin-left:0}.tree-item[data-level="0"]>.tree-row::before,.tree-item[data-level="0"]>.node-header::before,[data-level="0"].tree-node>.tree-row::before,[data-level="0"].tree-node>.node-header::before{display:none}.tree-item[data-level="0"]::before,[data-level="0"].tree-node::before{display:none}.tree-item[data-level="1"],[data-level="1"].tree-node{padding-left:1.5rem}.tree-item[data-level="2"],[data-level="2"].tree-node{padding-left:3rem}.tree-item[data-level="3"],[data-level="3"].tree-node{padding-left:4.5rem}.tree-toggle,.expand-icon{width:16px;height:16px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-secondary);flex-shrink:0}.tree-toggle:hover,.expand-icon:hover{color:var(--accent-primary)}.tree-toggle svg,.expand-icon svg{width:10px;height:10px;transition:transform .15s ease}.tree-toggle.expanded svg,.expanded.expand-icon svg{transform:rotate(90deg)}.tree-toggle.empty,.empty.expand-icon{visibility:hidden}.tree-status{width:8px;height:8px;border-radius:50%;flex-shrink:0}.tree-status.on{background:var(--accent-green);box-shadow:0 0 6px var(--accent-green)}.tree-status.dev{background:var(--accent-yellow)}.tree-status.hold{background:var(--accent-orange)}.tree-status.tbd{background:var(--text-secondary);opacity:.4}.tree-status.offline{background:var(--accent-red)}.tree-icon{font-size:.9rem;flex-shrink:0;width:18px;text-align:center}.tree-label,.node-title{color:var(--text-primary);flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tree-label.category,.category.node-title{color:var(--text-secondary);font-size:.7rem;text-transform:uppercase;letter-spacing:.5px}.tree-label.provider,.provider.node-title{font-weight:600;font-size:.85rem}.tree-label.vm,.vm.node-title{color:var(--accent-blue)}.tree-type{font-size:.6rem;padding:.1rem .35rem;background:var(--bg-secondary);border:1px solid var(--border-color);color:var(--text-secondary);border-radius:3px;text-transform:uppercase;flex-shrink:0}.tree-actions{display:flex;gap:.25rem;opacity:0;transition:opacity .15s ease;flex-shrink:0}.tree-action-btn,.node-copy-btn,.node-url-btn{width:22px;height:22px;display:flex;align-items:center;justify-content:center;background:var(--bg-card);border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);cursor:pointer;transition:all .15s ease}.tree-action-btn svg,.node-copy-btn svg,.node-url-btn svg{width:12px;height:12px}.tree-action-btn:hover,.node-copy-btn:hover,.node-url-btn:hover{border-color:var(--accent-primary);color:var(--accent-primary)}.tree-action-btn.url-btn:hover,.url-btn.node-copy-btn:hover,.url-btn.node-url-btn:hover{border-color:var(--accent-blue);color:var(--accent-blue)}.tree-action-btn:disabled,.node-copy-btn:disabled,.node-url-btn:disabled{opacity:.3;cursor:not-allowed}.tree-action-btn.copied,.copied.node-copy-btn,.copied.node-url-btn{border-color:var(--accent-green);color:var(--accent-green)}.tree-children{display:none}.tree-children.expanded{display:block}.vm-card-grid{display:grid;grid-template-columns:repeat(3, 1fr);gap:.75rem;padding:.5rem 0}.vm-box{background:var(--bg-card);border:1px solid var(--border-color);border-radius:6px;overflow:hidden}.vm-box.box-services{border-left:3px solid var(--accent-blue)}.vm-box.box-data{border-left:3px solid var(--accent-purple)}.vm-box.box-os{border-left:3px solid var(--accent-green)}.vm-box-header{display:flex;align-items:center;gap:.5rem;padding:.4rem .6rem;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);font-size:.65rem;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--text-secondary)}.vm-box-header .box-icon{font-size:.8rem}.vm-box-content{padding:.4rem}.vm-box-section:not(:last-child){margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px dashed var(--border-color)}.vm-box-section-label{font-size:.55rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);opacity:.7;padding:.15rem .3rem;margin-bottom:.2rem}.vm-item{display:flex;align-items:center;gap:.4rem;padding:.3rem .4rem;border-radius:4px;transition:background .15s ease}.vm-item:hover{background:var(--bg-card-hover)}.vm-item-status{width:8px;height:8px;border-radius:50%;flex-shrink:0;opacity:.5}.vm-item-status.on{background:var(--accent-green)}.vm-item-status.offline{background:var(--accent-red)}.vm-item-status.dev{background:var(--accent-yellow)}.vm-item-status.hold{background:var(--accent-orange)}.vm-item-status.tbd{background:var(--text-secondary);opacity:.3}.vm-item-name{font-size:.7rem;color:var(--text-primary);flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vm-live-status{width:8px;height:8px;border-radius:50%;flex-shrink:0;margin-right:.3rem}.vm-live-status.online{background:var(--accent-green);box-shadow:0 0 6px var(--accent-green);animation:pulse-green 2s ease-in-out infinite}.vm-live-status.offline{background:var(--accent-red);box-shadow:0 0 6px var(--accent-red)}.vm-live-status.unknown{background:var(--text-secondary);opacity:.4}@keyframes pulse-green{0%,100%{box-shadow:0 0 4px var(--accent-green)}50%{box-shadow:0 0 10px var(--accent-green)}}.vm-item-actions{display:flex;align-items:center;gap:.2rem;flex-shrink:0}.vm-action-btn{width:20px;height:20px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0);border:1px solid var(--border-color);border-radius:3px;color:var(--text-secondary);cursor:pointer;transition:all .15s ease;opacity:.5}.vm-action-btn svg{width:10px;height:10px}.vm-action-btn:hover{opacity:1;border-color:var(--accent-primary);color:var(--accent-primary)}.vm-action-btn.btn-url:hover{border-color:var(--accent-blue);color:var(--accent-blue)}.vm-action-btn.btn-ssh:hover{border-color:var(--accent-green);color:var(--accent-green)}.vm-action-btn:disabled{opacity:.2;cursor:not-allowed}.vm-action-btn:disabled:hover{border-color:var(--border-color);color:var(--text-secondary)}.vm-action-btn.copied{border-color:var(--accent-green);color:var(--accent-green);opacity:1}.vm-os-info{display:flex;align-items:center;gap:.5rem;padding:.4rem}.vm-os-info .os-icon{font-size:1.2rem}.vm-os-info .os-details{flex:1}.vm-os-info .os-details .os-name{font-size:.75rem;font-weight:600;color:var(--text-primary)}.vm-os-info .os-details .os-ip{font-size:.65rem;color:var(--text-secondary);font-family:var(--font-mono)}.os-subsection{padding:.3rem .4rem;border-top:1px dashed var(--border-color)}.os-subsection:first-of-type{margin-top:.3rem}.os-subsection-header{display:flex;align-items:center;gap:.3rem;font-size:.55rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);opacity:.8;margin-bottom:.2rem}.os-subsection-header .subsection-icon{font-size:.65rem}.os-subsection-items{display:flex;flex-wrap:wrap;gap:.25rem}.os-tag{display:inline-flex;align-items:center;gap:.2rem;padding:.15rem .4rem;font-size:.6rem;font-family:var(--font-mono);border-radius:3px;background:var(--bg-secondary);border:1px solid var(--border-color);color:var(--text-secondary)}.os-tag.tag-network{border-color:rgba(138,180,248,.3);color:var(--accent-blue)}.os-tag.tag-partition{border-color:rgba(129,199,132,.3);color:var(--accent-green)}[data-theme=blurred] .vm-box{background:hsla(0,0%,100%,.03);backdrop-filter:blur(10px);border-color:hsla(0,0%,100%,.08);border-radius:10px}[data-theme=blurred] .vm-box.box-services{border-left-color:var(--accent-blue)}[data-theme=blurred] .vm-box.box-data{border-left-color:var(--accent-purple)}[data-theme=blurred] .vm-box.box-os{border-left-color:var(--accent-green)}[data-theme=blurred] .vm-box-header{background:hsla(0,0%,100%,.02);border-bottom-color:hsla(0,0%,100%,.06)}[data-theme=blurred] .vm-box-section{border-bottom-color:hsla(0,0%,100%,.05)}[data-theme=blurred] .vm-item:hover{background:hsla(0,0%,100%,.05)}[data-theme=blurred] .vm-action-btn{background:hsla(0,0%,100%,.02);border-color:hsla(0,0%,100%,.1)}[data-theme=blurred] .vm-action-btn:hover{background:hsla(0,0%,100%,.08)}.tree-columns{display:flex;gap:1.5rem;padding:.5rem 0}.tree-columns .tree-column{flex:1;min-width:0}.tree-columns .tree-column .column-header{font-size:.65rem;text-transform:uppercase;letter-spacing:1px;color:var(--text-secondary);padding:.25rem .5rem;margin-bottom:.25rem;border-bottom:1px solid var(--border-color)}.tree-columns .tree-column .column-items{display:flex;flex-direction:column;gap:.15rem}.tree-service{display:flex;align-items:center;gap:.4rem;padding:.25rem .4rem;border-radius:4px;transition:background .15s ease}.tree-service:hover{background:var(--bg-card-hover)}.tree-service:hover .tree-actions{opacity:1}.tree-service .service-status{width:6px;height:6px;border-radius:50%;flex-shrink:0}.tree-service .service-status.on{background:var(--accent-green);box-shadow:0 0 4px var(--accent-green)}.tree-service .service-status.dev{background:var(--accent-yellow)}.tree-service .service-status.hold{background:var(--accent-orange)}.tree-service .service-status.tbd{background:var(--text-secondary);opacity:.4}.tree-service .service-name{font-size:.75rem;color:var(--text-primary);min-width:10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tree-service .tree-actions{opacity:0}.tree-provider,.tree-vps{background:var(--bg-card);border:1px solid var(--border-color);border-radius:6px;margin-bottom:1rem;overflow:hidden}.tree-provider>.tree-row,.tree-provider>.node-header,.tree-vps>.tree-row,.tree-vps>.node-header{padding:.6rem .75rem;margin-left:0;border-bottom:1px solid var(--border-color)}.tree-provider>.tree-row::before,.tree-provider>.node-header::before,.tree-vps>.tree-row::before,.tree-vps>.node-header::before{display:none}.tree-provider>.tree-children,.tree-vps>.tree-children{padding:.5rem 0}.tree-section-divider{width:100%;display:flex;align-items:center;gap:1rem;margin:1.5rem 0 1rem}.tree-section-divider::before,.tree-section-divider::after{content:"";flex:1;height:1px;background:var(--border-color)}.tree-section-divider .divider-label{font-size:.65rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px;padding:.2rem .6rem;background:var(--bg-card);border:1px solid var(--border-color)}[data-theme=blurred] .tree-container{padding:1.5rem 0}[data-theme=blurred] .tree-section-header{border-bottom-color:hsla(0,0%,100%,.1)}[data-theme=blurred] .tree-item::before,[data-theme=blurred] .tree-node::before{background:hsla(0,0%,100%,.1)}[data-theme=blurred] .tree-row::before,[data-theme=blurred] .node-header::before{background:hsla(0,0%,100%,.1)}[data-theme=blurred] .tree-row:hover,[data-theme=blurred] .node-header:hover{background:hsla(0,0%,100%,.05)}[data-theme=blurred] .tree-provider,[data-theme=blurred] .tree-vps{background:hsla(0,0%,100%,.03);backdrop-filter:blur(10px);border-color:hsla(0,0%,100%,.08);border-radius:12px}[data-theme=blurred] .tree-provider>.tree-row,[data-theme=blurred] .tree-provider>.node-header,[data-theme=blurred] .tree-vps>.tree-row,[data-theme=blurred] .tree-vps>.node-header{border-bottom-color:hsla(0,0%,100%,.06)}[data-theme=blurred] .tree-status.online{box-shadow:0 0 8px var(--accent-green)}[data-theme=blurred] .tree-type{background:hsla(0,0%,100%,.05);border-color:hsla(0,0%,100%,.1);border-radius:8px}[data-theme=blurred] .tree-action-btn,[data-theme=blurred] .node-copy-btn,[data-theme=blurred] .node-url-btn{background:hsla(0,0%,100%,.05);border-color:hsla(0,0%,100%,.1);border-radius:6px}[data-theme=blurred] .tree-action-btn:hover,[data-theme=blurred] .node-copy-btn:hover,[data-theme=blurred] .node-url-btn:hover{background:hsla(0,0%,100%,.1)}[data-theme=blurred] .tree-section-divider::before,[data-theme=blurred] .tree-section-divider::after{background:linear-gradient(90deg, transparent, var(--border-color), transparent)}[data-theme=blurred] .tree-section-divider .divider-label{background:hsla(0,0%,100%,.05);border-color:hsla(0,0%,100%,.1);border-radius:12px;backdrop-filter:blur(10px)}.node-badge{font-size:.6rem;padding:.1rem .35rem;border-radius:3px;text-transform:uppercase;flex-shrink:0;margin-left:auto}.node-badge.on{background:rgba(0,0,0,0);color:var(--accent-green);border:1px solid var(--accent-green)}.node-badge.dev{background:rgba(0,0,0,0);color:var(--accent-yellow);border:1px solid var(--accent-yellow)}.node-badge.hold{background:rgba(0,0,0,0);color:var(--accent-orange);border:1px solid var(--accent-orange)}.node-badge.tbd{background:rgba(0,0,0,0);color:var(--text-secondary);border:1px solid var(--border-color)}.expand-icon{font-size:.65rem;width:12px}.expand-icon.expanded{transform:rotate(90deg)}.tree-children{padding-left:1rem;display:none}.tree-children.expanded{display:block}.tree-container[data-filter=on] .tree-service[data-mode=dev],.tree-container[data-filter=on] .tree-service[data-mode=hold],.tree-container[data-filter=on] .tree-service[data-mode=tbd],.tree-container[data-filter=on] .tree-node[data-mode=dev],.tree-container[data-filter=on] .tree-node[data-mode=hold],.tree-container[data-filter=on] .tree-node[data-mode=tbd]{display:none}.tree-container[data-filter=offline] .tree-service[data-mode=dev],.tree-container[data-filter=offline] .tree-service[data-mode=hold],.tree-container[data-filter=offline] .tree-service[data-mode=tbd],.tree-container[data-filter=offline] .tree-node[data-mode=dev],.tree-container[data-filter=offline] .tree-node[data-mode=hold],.tree-container[data-filter=offline] .tree-node[data-mode=tbd]{display:none}.tree-container[data-filter=offline] .tree-service[data-mode=on]:not([data-offline=true]),.tree-container[data-filter=offline] .tree-node[data-mode=on]:not([data-offline=true]){display:none}.ssh-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;z-index:2000;animation:fadeIn .3s ease-out}.ssh-modal{background:var(--bg-card);border-radius:16px;padding:2.5rem;max-width:600px;width:90%;box-shadow:0 20px 60px rgba(0,0,0,.5);border:1px solid rgba(74,158,255,.3);animation:slideInScale .3s ease-out}.ssh-modal h3{color:var(--accent-blue);margin-bottom:1.5rem;font-size:1.5rem}.ssh-command{background:rgba(0,0,0,.3);border-radius:8px;padding:1rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:1rem;border:1px solid rgba(74,158,255,.2)}.ssh-command code{flex:1;color:var(--accent-green);font-family:"Courier New",monospace;font-size:.9rem;word-break:break-all}.copy-btn{padding:.5rem 1rem;background:var(--accent-blue);color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;white-space:nowrap}.copy-btn:hover{background:var(--accent-purple);transform:scale(1.05)}.ssh-instruction{color:var(--text-secondary);margin-bottom:1rem;font-size:1rem}.ssh-options{display:flex;gap:1rem;margin-bottom:1.5rem}.ssh-option-btn{flex:1;padding:1rem;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease}.ssh-option-btn:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(74,158,255,.4)}.close-modal-btn{width:100%;padding:.75rem;background:hsla(0,0%,100%,.1);color:var(--text-primary);border:1px solid hsla(0,0%,100%,.2);border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s ease}.close-modal-btn:hover{background:hsla(0,0%,100%,.15);border-color:hsla(0,0%,100%,.3)}.arch-modal{position:fixed;top:0;left:0;right:0;bottom:0;z-index:2000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all .2s ease}.arch-modal.active{opacity:1;visibility:visible}.arch-modal-backdrop{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);backdrop-filter:blur(5px)}.arch-modal-content{position:relative;background:var(--bg-card);border:1px solid var(--border-color);border-radius:12px;padding:1.5rem;max-width:400px;width:90%;box-shadow:0 20px 60px rgba(0,0,0,.5);transform:translateY(20px);transition:transform .2s ease}.arch-modal.active .arch-modal-content{transform:translateY(0)}.arch-modal-content h3{color:var(--accent-blue);margin-bottom:1rem;font-size:1.1rem;font-weight:600}.arch-modal-content p{color:var(--text-secondary);margin-bottom:.75rem;font-size:.9rem}.arch-modal-content ul{list-style:none;padding:0;margin:0}.arch-modal-content ul li{color:var(--text-primary);padding:.4rem 0;padding-left:1.2rem;position:relative;font-size:.85rem}.arch-modal-content ul li::before{content:"→";position:absolute;left:0;color:var(--accent-green)}.arch-modal-close{position:absolute;top:.75rem;right:.75rem;width:28px;height:28px;border:none;background:hsla(0,0%,100%,.1);color:var(--text-secondary);border-radius:50%;cursor:pointer;font-size:1.2rem;line-height:1;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.arch-modal-close:hover{background:hsla(0,0%,100%,.2);color:var(--text-primary)}.notification{position:fixed;top:20px;right:20px;background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));color:#fff;padding:1rem 1.5rem;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,.3);z-index:1000;animation:slideIn .3s ease-out;font-weight:500}.notification.closing{animation:slideOut .3s ease-out}#monitoring-view{max-width:1400px;width:100%;margin:0 auto;padding:0 1rem}.monitoring-grid{display:flex;flex-direction:column;gap:2rem}.monitoring-section{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1.5rem}[data-theme=blurred] .monitoring-section{backdrop-filter:blur(10px);border-radius:var(--border-radius-lg)}.monitoring-section-title{font-size:1rem;font-weight:600;color:var(--accent-primary);text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color)}[data-theme=blurred] .monitoring-section-title{color:var(--accent-blue);text-transform:none;font-size:1.2rem}.vm-status-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:1rem}.vm-status-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1rem;transition:all var(--transition-speed) ease}.vm-status-card:hover{border-color:var(--accent-blue)}[data-theme=blurred] .vm-status-card{background:hsla(0,0%,100%,.03);border-radius:12px}.vm-status-header{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:1px solid var(--border-color)}.vm-icon{font-size:1.5rem}.vm-name{flex:1;font-weight:600;font-size:.9rem;text-transform:uppercase}[data-theme=blurred] .vm-name{text-transform:none;font-size:1rem}.vm-status-indicator{width:12px;height:12px;border-radius:50%;animation:pulse 2s infinite}.vm-status-indicator.online{background:var(--accent-green);box-shadow:0 0 8px var(--accent-green)}.vm-status-indicator.pending{background:var(--accent-yellow);box-shadow:0 0 8px var(--accent-yellow)}.vm-status-indicator.offline{background:var(--accent-red);box-shadow:0 0 8px var(--accent-red)}.vm-status-details{display:flex;flex-direction:column;gap:.5rem}.vm-stat{display:flex;justify-content:space-between;font-size:.8rem}.vm-stat .stat-label{color:var(--text-secondary)}.vm-stat .stat-value{color:var(--text-primary);font-family:var(--font-mono)}.service-health-grid{display:flex;flex-direction:column;gap:.5rem}.service-health-row{display:grid;grid-template-columns:1fr 1.5fr auto;gap:1rem;padding:.75rem 1rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);align-items:center;font-size:.85rem}[data-theme=blurred] .service-health-row{background:hsla(0,0%,100%,.02);border-radius:8px}.service-name{font-weight:600;text-transform:uppercase}[data-theme=blurred] .service-name{text-transform:none}.service-url{color:var(--text-secondary);font-family:var(--font-mono);font-size:.75rem}.service-status{padding:.25rem .75rem;font-size:.7rem;font-weight:600;text-transform:uppercase;border-radius:var(--border-radius)}.service-status.online{background:rgba(0,204,102,.15);color:var(--accent-green);border:1px solid var(--accent-green)}.service-status.pending{background:rgba(255,204,0,.15);color:var(--accent-yellow);border:1px solid var(--accent-yellow)}[data-theme=blurred] .service-status{border-radius:12px}#resources-view{max-width:1400px;width:100%;margin:0 auto;padding:0 1rem}.resources-summary{display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));gap:1.5rem;margin-bottom:2rem}.summary-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1.5rem}.summary-card h4{font-size:1rem;font-weight:600;color:var(--accent-primary);text-transform:uppercase;margin-bottom:1rem}[data-theme=blurred] .summary-card{backdrop-filter:blur(10px);border-radius:var(--border-radius-lg);background:linear-gradient(135deg, rgba(74, 158, 255, 0.1), rgba(139, 92, 246, 0.1))}[data-theme=blurred] .summary-card h4{color:var(--text-primary);text-transform:none}.summary-stats{display:flex;flex-direction:column;gap:.75rem}.summary-stat{display:flex;align-items:center;gap:.75rem}.summary-stat .stat-icon{font-size:1.25rem}.summary-stat .stat-label{color:var(--text-secondary);font-size:.85rem;width:80px}.summary-stat .stat-value{color:var(--accent-blue);font-family:var(--font-mono);font-weight:600}.resources-section{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1.5rem;margin-bottom:1.5rem}[data-theme=blurred] .resources-section{backdrop-filter:blur(10px);border-radius:var(--border-radius-lg)}.resources-section-title{font-size:1rem;font-weight:600;color:var(--accent-primary);text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem}[data-theme=blurred] .resources-section-title{color:var(--accent-blue);text-transform:none;font-size:1.2rem}.resources-table-container{overflow-x:auto}.resources-table{width:100%;border-collapse:collapse;font-size:.8rem}.resources-table th,.resources-table td{padding:.75rem .5rem;text-align:left;border-bottom:1px solid var(--border-color)}.resources-table th{color:var(--text-secondary);font-weight:600;text-transform:uppercase;font-size:.7rem;letter-spacing:.5px;background:var(--bg-secondary)}[data-theme=blurred] .resources-table th{background:hsla(0,0%,100%,.03);text-transform:none;font-size:.8rem}.resources-table td{font-family:var(--font-mono)}.service-row,.vm-row{background:var(--bg-card)}.service-row:hover,.vm-row:hover{background:var(--bg-card-hover)}.component-row{background:var(--bg-secondary)}.component-row td{font-size:.75rem;color:var(--text-secondary)}.component-name{padding-left:1rem;color:var(--text-secondary)}.ai-service,.ai-vm{border-left:3px solid var(--accent-purple)}.resources-category{margin-bottom:3rem}.resources-category-title{font-size:1.5rem;font-weight:700;color:var(--accent-primary);text-transform:uppercase;letter-spacing:2px;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:2px solid var(--accent-primary)}[data-theme=blurred] .resources-category-title{color:var(--accent-blue);text-transform:none;background:linear-gradient(135deg, var(--accent-blue), var(--accent-green));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text;border-bottom-color:var(--accent-blue)}.ai-category .resources-category-title{color:var(--accent-purple);border-bottom-color:var(--accent-purple)}[data-theme=blurred] .ai-category .resources-category-title{background:linear-gradient(135deg, var(--accent-purple), var(--accent-blue));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text;border-bottom-color:var(--accent-purple)}.ai-card{border-left:3px solid var(--accent-purple)}[data-theme=blurred] .ai-card{background:linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(74, 158, 255, 0.1))}.ai-section{border-left:3px solid var(--accent-purple)}.totals-row{background:var(--bg-secondary);font-weight:600}.totals-row td{border-top:1px solid var(--border-color);color:var(--accent-primary)}[data-theme=blurred] .totals-row{background:hsla(0,0%,100%,.03)}[data-theme=blurred] .totals-row td{color:var(--accent-blue)}.totals-row.total-final{background:var(--bg-card)}.totals-row.total-final td{border-top:2px solid var(--accent-primary);font-size:.85rem}[data-theme=blurred] .totals-row.total-final{background:rgba(74,158,255,.1)}[data-theme=blurred] .totals-row.total-final td{border-top-color:var(--accent-blue)}.health-badge{padding:.2rem .5rem;font-size:.65rem;font-weight:600;text-transform:uppercase;border-radius:var(--border-radius)}.health-badge.online{background:rgba(0,204,102,.15);color:var(--accent-green);border:1px solid var(--accent-green)}.health-badge.pending{background:rgba(255,204,0,.15);color:var(--accent-yellow);border:1px solid var(--accent-yellow)}.health-badge.offline{background:rgba(255,51,51,.15);color:var(--accent-red);border:1px solid var(--accent-red)}[data-theme=blurred] .health-badge{border-radius:10px}.status-table td{font-size:.75rem}.status-badge{padding:.2rem .5rem;font-size:.65rem;font-weight:600;text-transform:uppercase;border-radius:var(--border-radius)}.status-badge.on{background:rgba(0,204,102,.15);color:var(--accent-green);border:1px solid var(--accent-green)}.status-badge.dev{background:rgba(74,158,255,.15);color:var(--accent-blue);border:1px solid var(--accent-blue)}.status-badge.hold{background:rgba(139,92,246,.15);color:var(--accent-purple);border:1px solid var(--accent-purple)}[data-theme=blurred] .status-badge{border-radius:10px}.wake-calculator{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1.5rem;margin-top:1rem}[data-theme=blurred] .wake-calculator{background:hsla(0,0%,100%,.03);backdrop-filter:blur(10px);border-radius:12px}.wake-calc-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:1.5rem;margin-bottom:1.5rem}.wake-calc-input{display:flex;flex-direction:column;gap:.5rem}.wake-calc-input label{font-size:.85rem;font-weight:600;color:var(--text-primary);text-transform:uppercase;letter-spacing:.5px}[data-theme=blurred] .wake-calc-input label{text-transform:none}.wake-calc-input input{padding:.75rem 1rem;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);color:var(--text-primary);font-family:var(--font-mono);font-size:1rem;transition:all var(--transition-speed) ease}.wake-calc-input input:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 10px var(--glow)}[data-theme=blurred] .wake-calc-input input{background:rgba(0,0,0,.3);border-radius:8px}[data-theme=blurred] .wake-calc-input input:focus{border-color:var(--accent-blue)}.wake-calc-input .wake-calc-hint{font-size:.7rem;color:var(--text-secondary)}.wake-calc-results{display:flex;flex-direction:column;gap:.5rem;padding-top:1rem;border-top:1px solid var(--border-color)}.wake-calc-row{display:grid;grid-template-columns:1fr 1.5fr auto;gap:1rem;padding:.5rem 0;align-items:center;font-size:.85rem}.wake-calc-row .wake-calc-label{font-weight:500;color:var(--text-primary)}.wake-calc-row .wake-calc-rate{color:var(--text-secondary);font-family:var(--font-mono);font-size:.75rem}.wake-calc-row .wake-calc-value{font-family:var(--font-mono);font-weight:600;color:var(--accent-blue);text-align:right;min-width:70px}.wake-calc-row.wake-calc-total{border-top:1px solid var(--border-color);padding-top:.75rem;margin-top:.25rem}.wake-calc-row.wake-calc-total .wake-calc-label{font-weight:700;color:var(--accent-primary)}.wake-calc-row.wake-calc-total .wake-calc-value{font-size:1.1rem;color:var(--accent-green)}[data-theme=blurred] .wake-calc-row.wake-calc-total .wake-calc-label{color:var(--accent-blue)}.wake-calc-note{font-size:.75rem;color:var(--text-secondary);margin-top:1rem;padding:.75rem;background:var(--bg-card);border-radius:var(--border-radius);border-left:3px solid var(--accent-yellow)}[data-theme=blurred] .wake-calc-note{background:rgba(251,191,36,.05);border-radius:8px}.dashboard-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding:1rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius)}.wake-btn{display:inline-flex;align-items:center;gap:.3rem;padding:.3rem .6rem;background:var(--bg-secondary);border:1px solid var(--accent-green);border-radius:var(--border-radius);color:var(--accent-green);font-size:.7rem;font-weight:600;cursor:pointer;transition:all .2s ease}.wake-btn:hover:not(:disabled){background:var(--accent-green);color:#000}.wake-btn:disabled{opacity:.5;cursor:not-allowed;border-color:var(--border-color);color:var(--text-secondary)}.wake-btn svg{width:12px;height:12px}.wake-btn .spinner{width:12px;height:12px;border:2px solid rgba(0,0,0,0);border-top-color:currentColor;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}[data-theme=blurred] .wake-btn{border-radius:8px;background:rgba(16,185,129,.1)}[data-theme=blurred] .wake-btn:hover:not(:disabled){background:var(--accent-green);box-shadow:0 0 15px rgba(16,185,129,.3)}.vm-dormant{background:rgba(255,200,0,.02)}[data-theme=blurred] .vm-dormant{background:rgba(255,200,0,.05)}.dashboard-title{display:flex;align-items:center;gap:.75rem}.dashboard-title h2{margin:0;font-size:1.2rem}.status-dot{width:10px;height:10px;border-radius:50%;background:var(--accent-green);animation:pulse 2s infinite}.status-dot.disconnected{background:var(--accent-red);animation:none}@keyframes pulse{0%,100%{opacity:1;box-shadow:0 0 4px var(--accent-green)}50%{opacity:.6;box-shadow:0 0 8px var(--accent-green)}}.dashboard-controls{display:flex;gap:1rem;align-items:center}.auto-refresh-toggle{display:flex;align-items:center;gap:.5rem;font-size:.8rem;color:var(--text-secondary)}.auto-refresh-toggle input{accent-color:var(--accent-primary)}.refresh-btn{display:flex;align-items:center;gap:.4rem;padding:.4rem .8rem;background:var(--accent-primary);border:none;border-radius:var(--border-radius);color:#000;cursor:pointer;font-weight:600;font-size:.8rem;transition:all .2s}.refresh-btn:hover{transform:scale(1.02)}.refresh-btn.loading svg{animation:spin 1s linear infinite}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.last-updated{font-size:.75rem;color:var(--text-tertiary)}.github-login-btn{display:flex;align-items:center;gap:.5rem;padding:.4rem .8rem;background:#24292e;border:1px solid #444;border-radius:var(--border-radius);color:#fff;cursor:pointer;font-weight:500;font-size:.8rem;transition:all .2s}.github-login-btn:hover{background:#2f363d;border-color:#666}.github-login-btn svg{width:16px;height:16px}.github-login-btn.logged-in{background:var(--accent-green);border-color:var(--accent-green);color:#000}.authelia-login-btn{display:flex;align-items:center;gap:.5rem;padding:.4rem .8rem;background:#1a237e;border:1px solid #3949ab;border-radius:var(--border-radius);color:#fff;cursor:pointer;font-weight:500;font-size:.8rem;transition:all .2s;text-decoration:none}.authelia-login-btn:hover{background:#283593;border-color:#5c6bc0}.auth-buttons{display:flex;gap:.5rem;align-items:center}.user-avatar{width:20px;height:20px;border-radius:50%}.logout-btn{padding:.2rem .4rem;background:rgba(0,0,0,0);border:1px solid currentColor;border-radius:4px;color:inherit;cursor:pointer;font-size:.65rem;margin-left:.5rem}.logout-btn:hover{background:rgba(0,0,0,.2)}.reboot-btn{display:flex;align-items:center;justify-content:center;gap:.3rem;padding:.3rem .6rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);color:var(--text-secondary);cursor:not-allowed;font-size:.7rem;font-weight:500;transition:all .2s;opacity:.5}.reboot-btn svg{width:12px;height:12px}.reboot-btn.enabled{opacity:1;cursor:pointer;border-color:var(--accent-orange);color:var(--accent-orange)}.reboot-btn.enabled:hover{background:var(--accent-orange);color:#000}.reboot-btn.loading svg{animation:spin 1s linear infinite}.reboot-btn.success{border-color:var(--accent-green);color:var(--accent-green)}.live-status{display:inline-flex;align-items:center;gap:.3rem;padding:.2rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500}.live-status.checking{background:rgba(156,163,175,.15);color:var(--text-tertiary)}.live-status.online{background:rgba(74,222,128,.15);color:var(--accent-green)}.live-status.offline{background:rgba(248,113,113,.15);color:var(--accent-red)}.live-status.pending{background:rgba(251,191,36,.15);color:var(--accent-yellow)}.live-status.dev{background:rgba(96,165,250,.15);color:var(--accent-blue)}.live-status.hold{background:rgba(251,191,36,.15);color:var(--accent-yellow)}.live-status.dormant{background:rgba(255,193,7,.2);color:#ffc107}.live-dot{width:6px;height:6px;border-radius:50%;background:currentColor}.live-status.online .live-dot{animation:pulse-dot 2s ease-in-out infinite}@keyframes pulse-dot{0%,100%{box-shadow:0 0 2px currentColor}50%{box-shadow:0 0 6px currentColor}}.dashboard-tabs{display:flex;gap:.5rem;margin:1.5rem 0;padding:.5rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius)}[data-theme=blurred] .dashboard-tabs{backdrop-filter:blur(10px);background:rgba(26,31,58,.8);border-radius:16px;padding:.75rem;gap:.75rem}.tab-btn{flex:1;padding:.6rem 1rem;background:rgba(0,0,0,0);border:1px solid var(--border-color);border-radius:var(--border-radius);color:var(--text-secondary);font-family:var(--font-mono);font-size:.85rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;cursor:pointer;transition:all .3s ease}.tab-btn:hover{border-color:var(--accent-primary);color:var(--text-primary);background:var(--bg-card)}.tab-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#000}[data-theme=blurred] .tab-btn{border-radius:12px;text-transform:none;font-size:.95rem;letter-spacing:normal}[data-theme=blurred] .tab-btn:hover{background:rgba(74,158,255,.1);border-color:var(--accent-blue);color:var(--accent-blue)}[data-theme=blurred] .tab-btn.active{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));border-color:rgba(0,0,0,0);color:#fff;box-shadow:0 0 20px var(--glow)}.tab-content{display:none;animation:fadeIn .3s ease-out}.tab-content.active{display:block}.infra-view-content{display:none;animation:fadeIn .3s ease-out}.infra-view-content.active{display:block}.infra-view-toggle .view-btn{min-width:100px}.tree-container{padding:1rem}.tree-root{display:flex;flex-direction:column;align-items:center}.tree-root-node{background:linear-gradient(135deg, var(--accent-blue), #60a5fa);color:#fff;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;font-size:1rem;box-shadow:0 4px 12px rgba(59,130,246,.3);margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}.tree-root-node svg{width:18px;height:18px}.tree-connector-vertical{width:2px;height:24px;background:var(--border-color)}.tree-branches{display:flex;gap:2rem;position:relative;padding-top:1rem}.tree-branches::before{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);height:1rem;width:calc(100% - 4rem);border-top:2px solid var(--border-color)}.tree-branch{display:flex;flex-direction:column;align-items:center;min-width:200px}.tree-branch-connector{width:2px;height:1rem;background:var(--border-color)}.tree-node{background:var(--card-bg);border:1px solid var(--border-color);border-radius:8px;padding:.75rem 1rem;min-width:180px;text-align:center;transition:all .2s ease}.tree-node:hover{border-color:var(--accent-blue);box-shadow:0 4px 12px rgba(59,130,246,.15)}.tree-node-vm{border-left:3px solid var(--accent-blue)}.tree-node-type{border-left:3px solid var(--accent-orange)}.tree-node-title{font-weight:600;color:var(--text-primary);margin-bottom:.25rem;font-size:.9rem}.tree-node-subtitle{font-size:.75rem;color:var(--text-secondary)}.tree-node-ip{font-family:monospace;font-size:.7rem;color:var(--accent-blue);background:rgba(59,130,246,.1);padding:.15rem .4rem;border-radius:4px;margin-top:.25rem;display:inline-block}.tree-children{margin-top:.75rem;display:flex;flex-direction:column;gap:.5rem;width:100%}.tree-child-connector{width:100%;height:12px;position:relative}.tree-child-connector::before{content:"";position:absolute;left:50%;top:0;width:2px;height:12px;background:var(--border-color)}.tree-leaf{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;padding:.5rem .75rem;font-size:.8rem;display:flex;align-items:center;justify-content:space-between;gap:.5rem;transition:all .2s ease}.tree-leaf:hover{background:var(--card-bg);border-color:var(--accent-green)}.tree-leaf-name{font-weight:500;color:var(--text-primary)}.tree-leaf-badge{font-size:.65rem;padding:.1rem .4rem;border-radius:4px;background:rgba(16,185,129,.15);color:var(--accent-green)}.tree-leaf-url{font-size:.65rem;color:var(--accent-blue);text-decoration:none;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tree-leaf-url:hover{text-decoration:underline}@media(max-width: 1200px){.tree-branches{flex-wrap:wrap;justify-content:center}.tree-branches::before{display:none}.tree-branch{margin-top:1rem}}.infra-type-table-wrapper{overflow-x:auto;margin:0 -1rem;padding:0 1rem}.infra-type-table{width:max-content;min-width:100%;border-collapse:collapse;font-size:.75rem}.infra-type-table th,.infra-type-table td{padding:.5rem .75rem;text-align:left;border-bottom:1px solid var(--border-color);white-space:nowrap}.infra-type-table th{color:var(--text-secondary);font-weight:600;text-transform:uppercase;font-size:.65rem;letter-spacing:.5px;background:var(--bg-secondary)}[data-theme=blurred] .infra-type-table th{background:hsla(0,0%,100%,.03)}.infra-type-table td{font-family:var(--font-mono)}.infra-type-table tr:hover{background:var(--bg-card-hover)}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.cost-subtabs{display:flex;gap:.5rem;margin:0 0 1.5rem 0;padding:.5rem;background:var(--bg-secondary);border-radius:var(--border-radius)}[data-theme=blurred] .cost-subtabs{backdrop-filter:blur(10px);background:rgba(26,31,58,.6);border-radius:12px;padding:.75rem}.cost-subtab-btn{flex:1;padding:.5rem 1rem;background:rgba(0,0,0,0);border:1px solid var(--border-color);border-radius:calc(var(--border-radius) - 2px);color:var(--text-secondary);font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease}.cost-subtab-btn:hover{border-color:var(--accent-primary);color:var(--text-primary);background:var(--bg-card)}.cost-subtab-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#000}[data-theme=blurred] .cost-subtab-btn.active{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));border-color:rgba(0,0,0,0);color:#fff;box-shadow:0 0 15px rgba(74,158,255,.3)}.cost-subtab-content{display:none;animation:fadeIn .3s ease-out}.cost-subtab-content.active{display:block}.status-subtabs{display:flex;gap:.5rem;margin:0 0 1rem 0;padding:.5rem;background:var(--bg-secondary);border-radius:var(--border-radius)}[data-theme=blurred] .status-subtabs{backdrop-filter:blur(10px);background:rgba(26,31,58,.6);border-radius:12px;padding:.75rem}.status-subtab-btn{flex:1;padding:.5rem 1rem;background:rgba(0,0,0,0);border:1px solid var(--border-color);border-radius:calc(var(--border-radius) - 2px);color:var(--text-secondary);font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease}.status-subtab-btn:hover{border-color:var(--accent-primary);color:var(--text-primary);background:var(--bg-card)}.status-subtab-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#000}[data-theme=blurred] .status-subtab-btn.active{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));border-color:rgba(0,0,0,0);color:#fff;box-shadow:0 0 15px rgba(74,158,255,.3)}.status-subtab-content{display:none;animation:fadeIn .3s ease-out}.status-subtab-content.active{display:block}.view-toggle-inline{display:flex;gap:.5rem;margin:0 0 1rem 0;justify-content:flex-end}.view-toggle-btn{padding:.4rem 1rem;background:rgba(0,0,0,0);border:1px solid var(--border-color);border-radius:var(--border-radius);color:var(--text-secondary);font-size:.85rem;cursor:pointer;transition:all .3s ease}.view-toggle-btn:hover{border-color:var(--accent-primary);color:var(--text-primary)}.view-toggle-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#000}[data-theme=blurred] .view-toggle-btn.active{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));border-color:rgba(0,0,0,0);color:#fff}.cost-summary-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:1.5rem;margin-bottom:2rem}.cost-summary-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1.5rem;display:flex;align-items:center;gap:1rem;transition:all var(--transition-speed) ease}.cost-summary-card:hover{border-color:var(--accent-primary);transform:translateY(-2px)}[data-theme=blurred] .cost-summary-card{backdrop-filter:blur(10px);background:rgba(26,31,58,.6);border-radius:16px}[data-theme=blurred] .cost-summary-card:hover{background:rgba(35,42,74,.8);border-color:var(--accent-blue);box-shadow:0 8px 32px var(--glow)}.cost-card-icon{color:var(--accent-primary);flex-shrink:0}[data-theme=blurred] .cost-card-icon{color:var(--accent-blue)}.cost-card-content{flex:1}.cost-card-label{font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.cost-card-value{font-size:1.8rem;font-weight:700;color:var(--text-primary);font-family:var(--font-mono)}.cost-card-sublabel{font-size:.7rem;color:var(--text-secondary);margin-top:.25rem}.cost-block-details{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:1rem}.cost-block-row{display:flex;justify-content:space-between;padding:.75rem;background:var(--bg-secondary);border-radius:var(--border-radius)}[data-theme=blurred] .cost-block-row{background:rgba(0,0,0,.2);border-radius:8px}.cost-block-label{color:var(--text-secondary);font-size:.85rem}.cost-block-value{color:var(--text-primary);font-weight:600;font-family:var(--font-mono)}.model-distribution-bar{height:40px;display:flex;border-radius:var(--border-radius);overflow:hidden;background:var(--bg-secondary);margin-bottom:1rem}.model-dist-segment{height:100%;transition:width .5s ease}.model-opus{background:linear-gradient(90deg, #8b5cf6, #a78bfa)}.model-sonnet{background:linear-gradient(90deg, #3b82f6, #60a5fa)}.model-haiku{background:linear-gradient(90deg, #10b981, #34d399)}.model-distribution-legend{display:grid;grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));gap:1rem}.model-legend-item{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:var(--bg-secondary);border-radius:var(--border-radius)}[data-theme=blurred] .model-legend-item{background:rgba(0,0,0,.2);border-radius:8px}.model-legend-dot{width:12px;height:12px;border-radius:50%;flex-shrink:0}.model-legend-dot.model-opus{background:#8b5cf6}.model-legend-dot.model-sonnet{background:#3b82f6}.model-legend-dot.model-haiku{background:#10b981}.model-legend-label{flex:1;font-size:.85rem;color:var(--text-secondary)}.model-legend-value{font-weight:600;font-family:var(--font-mono);font-size:.9rem;color:var(--text-primary)}.model-legend-percent{font-size:.75rem;color:var(--text-secondary);margin-left:.5rem}.vm-metrics-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:1rem;margin-bottom:1.5rem}.vm-metric-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1rem}[data-theme=blurred] .vm-metric-card{backdrop-filter:blur(10px);background:rgba(26,31,58,.6);border-radius:16px}.vm-metric-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color)}.vm-metric-name{font-weight:600;color:var(--text-primary)}.vm-metric-ip{font-family:var(--font-mono);font-size:.8rem;color:var(--text-secondary)}.metric-gauges{display:grid;grid-template-columns:repeat(3, 1fr);gap:.75rem}.gauge{text-align:center}.gauge-circle{width:60px;height:60px;border-radius:50%;background:conic-gradient(var(--gauge-color, var(--accent-primary)) calc(var(--gauge-percent, 0) * 1%), var(--bg-secondary) 0);display:flex;align-items:center;justify-content:center;margin:0 auto .5rem;position:relative}.gauge-circle::before{content:"";position:absolute;width:48px;height:48px;border-radius:50%;background:var(--bg-card)}.gauge-value{position:relative;z-index:1;font-family:var(--font-mono);font-size:.85rem;font-weight:600}.gauge-label{font-size:.7rem;color:var(--text-secondary);text-transform:uppercase}.capacity-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));gap:1rem}.capacity-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1rem}[data-theme=blurred] .capacity-card{backdrop-filter:blur(10px);background:rgba(26,31,58,.6);border-radius:12px}.capacity-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.capacity-name{font-weight:600;font-size:.9rem}.capacity-status{font-size:.7rem;padding:.2rem .5rem;border-radius:4px;font-weight:600}.status-ok{background:rgba(81,207,102,.2);color:#51cf66}.status-warning{background:rgba(255,193,7,.2);color:#ffc107}.status-danger{background:rgba(255,107,107,.2);color:#ff6b6b}.status-dev{background:rgba(74,158,255,.2);color:#4a9eff}.status-hold{background:rgba(134,142,150,.2);color:#868e96}.capacity-bar{height:8px;background:var(--bg-secondary);border-radius:4px;overflow:hidden;margin-bottom:.5rem}.capacity-fill{height:100%;transition:width .5s ease}.capacity-fill[data-level=ok]{background:linear-gradient(90deg, #51cf66, #69db7c)}.capacity-fill[data-level=warning]{background:linear-gradient(90deg, #ffc107, #ffdd57)}.capacity-fill[data-level=danger]{background:linear-gradient(90deg, #ff6b6b, #ff8787)}.capacity-details{display:flex;justify-content:space-between;font-size:.75rem;color:var(--text-secondary)}.table-separator td{border-top:2px solid var(--border-color);padding-top:1rem}.table-total td{background:var(--bg-secondary);font-weight:600}.loading-placeholder{text-align:center;padding:2rem;color:var(--text-secondary)}.percentage-cell{display:flex;align-items:center;gap:.75rem}.percentage-bar{flex:1;height:8px;background:var(--bg-secondary);border-radius:4px;overflow:hidden;min-width:100px}.percentage-fill{height:100%;transition:width .5s ease}.percentage-fill[data-level=ok]{background:linear-gradient(90deg, #51cf66, #69db7c)}.percentage-fill[data-level=warning]{background:linear-gradient(90deg, #ffc107, #ffdd57)}.percentage-fill[data-level=danger]{background:linear-gradient(90deg, #ff6b6b, #ff8787)}.percentage-text{font-family:var(--font-mono);font-size:.85rem;font-weight:600;min-width:45px;text-align:right}.percentage-labels{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.resource-value{font-family:var(--font-mono);font-size:.85rem;font-weight:600;color:var(--text-primary)}.percentage-labels .percentage-text{font-size:.75rem;color:var(--accent-blue)}.resource-breakdown{display:flex;flex-direction:column;gap:.25rem}.resource-value{font-family:var(--font-mono);font-weight:600}.resource-percent{font-size:.75rem;color:var(--text-secondary)}.kill-btn{display:flex;align-items:center;gap:.4rem;padding:.4rem .8rem;background:var(--bg-secondary);border:1px solid var(--accent-red);border-radius:var(--border-radius);color:var(--accent-red);font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s ease}.kill-btn svg{width:14px;height:14px}.kill-btn:hover:not(:disabled){background:var(--accent-red);color:#000}.kill-btn:disabled{opacity:.5;cursor:not-allowed;border-color:var(--border-color);color:var(--text-secondary)}[data-theme=blurred] .kill-btn{border-radius:12px}[data-theme=blurred] .kill-btn:hover:not(:disabled){box-shadow:0 0 15px rgba(255,107,107,.3)}.htop-monitor{display:flex;flex-direction:column;gap:1rem;padding:.5rem}.htop-loading{text-align:center;padding:3rem;color:var(--text-secondary)}.htop-vm-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);overflow:hidden}.htop-vm-header{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);cursor:pointer}.htop-vm-header:hover{background:var(--bg-hover)}.htop-vm-title{display:flex;align-items:center;gap:.75rem}.htop-vm-name{font-weight:600;font-size:1rem;color:var(--text-primary)}.htop-vm-specs{font-size:.75rem;color:var(--text-secondary);font-family:var(--font-mono)}.htop-vm-status{display:flex;align-items:center;gap:.5rem}.htop-vm-badge{padding:.2rem .5rem;border-radius:4px;font-size:.7rem;font-weight:600;text-transform:uppercase}.htop-vm-badge.active{background:rgba(81,207,102,.2);color:#51cf66}.htop-vm-badge.stopped{background:rgba(255,107,107,.2);color:#ff6b6b}.htop-vm-badge.dormant{background:rgba(255,193,7,.2);color:#ffc107}.htop-bars-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));gap:.75rem;padding:1rem}.htop-bar-item{display:flex;flex-direction:column;gap:.35rem}.htop-bar-label{display:flex;justify-content:space-between;align-items:center;font-size:.75rem}.htop-bar-name{color:var(--text-secondary);font-weight:500}.htop-bar-value{font-family:var(--font-mono);color:var(--text-primary);font-weight:600}.htop-bar{height:10px;background:var(--bg-primary);border-radius:5px;overflow:hidden;position:relative}.htop-bar-fill{height:100%;border-radius:5px;transition:width .5s ease}.htop-bar-fill.cpu{background:linear-gradient(90deg, #4dabf7, #228be6)}.htop-bar-fill.ram{background:linear-gradient(90deg, #69db7c, #40c057)}.htop-bar-fill.storage{background:linear-gradient(90deg, #ffd43b, #fab005)}.htop-bar-fill.vram{background:linear-gradient(90deg, #da77f2, #be4bdb)}.htop-bar-fill.warning{background:linear-gradient(90deg, #ffc107, #ffdd57) !important}.htop-bar-fill.danger{background:linear-gradient(90deg, #ff6b6b, #ff8787) !important}.htop-services{border-top:1px solid var(--border-color);padding:.75rem 1rem;background:var(--bg-primary)}.htop-services-title{font-size:.75rem;font-weight:600;color:var(--text-secondary);margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}.htop-service-list{display:flex;flex-direction:column;gap:.5rem}.htop-service-row{display:grid;grid-template-columns:1fr 120px 80px;align-items:center;gap:.75rem;padding:.4rem .6rem;background:var(--bg-secondary);border-radius:4px;font-size:.8rem}.htop-service-name{color:var(--text-primary);font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.htop-service-bar{height:6px;background:var(--bg-tertiary);border-radius:3px;overflow:hidden}.htop-service-bar-fill{height:100%;background:linear-gradient(90deg, #69db7c, #40c057);border-radius:3px}.htop-service-value{font-family:var(--font-mono);font-size:.75rem;color:var(--text-secondary);text-align:right}.htop-no-services{color:var(--text-secondary);font-size:.8rem;font-style:italic;padding:.5rem 0}[data-theme=blurred] .htop-vm-card{border-radius:16px;backdrop-filter:blur(10px)}[data-theme=blurred] .htop-bar{border-radius:8px}.ai-cost-hero{display:flex;flex-direction:column;gap:1.5rem;margin-bottom:2rem}.ai-cost-hero-main{display:flex;flex-direction:column;align-items:center;padding:2rem;background:linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);border-radius:16px;border:1px solid var(--border-color)}.ai-cost-hero-label{font-size:.875rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px;margin-bottom:.5rem}.ai-cost-hero-value{font-size:3.5rem;font-weight:700;background:linear-gradient(135deg, #a855f7, #3b82f6);-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text;line-height:1.2}.ai-cost-hero-period{font-size:.875rem;color:var(--text-secondary);margin-top:.25rem}.ai-cost-hero-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));gap:1rem}.ai-cost-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;padding:1.25rem;display:flex;flex-direction:column;gap:.5rem}.ai-cost-card-label{font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.ai-cost-card-value{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.ai-cost-card-delta{font-size:.75rem;display:flex;align-items:center;gap:.25rem}.ai-cost-card-delta.positive{color:#ff6b6b}.ai-cost-card-delta.negative{color:#51cf66}.ai-charts-section{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}@media(max-width: 900px){.ai-charts-section{grid-template-columns:1fr}}.ai-chart-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;padding:1.5rem}.ai-chart-title{font-size:1rem;font-weight:600;color:var(--text-primary);margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}.ai-donut-container{display:flex;align-items:center;gap:2rem}@media(max-width: 600px){.ai-donut-container{flex-direction:column}}.ai-donut-chart{position:relative;width:160px;height:160px;flex-shrink:0}.ai-donut-svg{width:100%;height:100%;transform:rotate(-90deg)}.ai-donut-svg circle{fill:none;stroke-width:12;stroke-linecap:round}.ai-donut-bg{stroke:var(--bg-tertiary)}.ai-donut-opus{stroke:#a855f7}.ai-donut-sonnet{stroke:#3b82f6}.ai-donut-haiku{stroke:#22c55e}.ai-donut-center{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);text-align:center}.ai-donut-value{display:block;font-size:1.5rem;font-weight:700;color:var(--text-primary)}.ai-donut-label{display:block;font-size:.75rem;color:var(--text-secondary)}.ai-donut-legend{display:flex;flex-direction:column;gap:.75rem}.ai-donut-legend-item{display:flex;align-items:center;gap:.75rem}.ai-donut-legend-dot{width:12px;height:12px;border-radius:50%;flex-shrink:0}.ai-donut-legend-name{flex:1;font-size:.875rem;color:var(--text-primary)}.ai-donut-legend-value{font-family:var(--font-mono);font-size:.875rem;font-weight:600;color:var(--text-primary)}.ai-donut-legend-pct{font-size:.75rem;color:var(--text-secondary);min-width:45px;text-align:right}.ai-token-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:1rem}.ai-token-card{display:flex;align-items:flex-start;gap:1rem;padding:1rem;background:var(--bg-tertiary);border-radius:8px}.ai-token-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#4ade80;flex-shrink:0}.ai-token-icon svg{width:24px;height:24px}.ai-token-content{flex:1;min-width:0}.ai-token-value{font-size:1.25rem;font-weight:700;color:var(--text-primary)}.ai-token-label{font-size:.75rem;color:var(--text-secondary);margin-bottom:.5rem}.ai-token-bar{height:4px;background:var(--bg-secondary);border-radius:2px;overflow:hidden}.ai-token-bar-fill{height:100%;border-radius:2px}.ai-bar-chart{height:200px;display:flex;align-items:flex-end;justify-content:space-between;gap:4px;padding:1rem 0;border-bottom:1px solid var(--border-color)}.ai-bar{flex:1;display:flex;flex-direction:column;align-items:center;gap:.5rem;max-width:50px}.ai-bar-fill{width:100%;background:linear-gradient(180deg, #a855f7 0%, #3b82f6 100%);border-radius:4px 4px 0 0;min-height:4px;transition:height .3s ease}.ai-bar-label{font-size:.65rem;color:var(--text-secondary);white-space:nowrap}.ai-bar-value{font-size:.65rem;font-weight:600;color:var(--text-primary)}.ai-weekly-bars{display:flex;flex-direction:column;gap:.75rem;padding:1rem 0}.ai-weekly-row{display:grid;grid-template-columns:60px 1fr 80px;align-items:center;gap:1rem}.ai-weekly-label{font-size:.75rem;color:var(--text-secondary)}.ai-weekly-bar{height:24px;background:var(--bg-tertiary);border-radius:4px;overflow:hidden}.ai-weekly-bar-fill{height:100%;background:linear-gradient(90deg, #a855f7, #3b82f6);border-radius:4px;display:flex;align-items:center;justify-content:flex-end;padding-right:.5rem}.ai-weekly-value{font-size:.75rem;font-weight:600;color:var(--text-primary);text-align:right}.ai-session-list{display:flex;flex-direction:column;gap:.5rem;max-height:300px;overflow-y:auto}.ai-session-item{display:grid;grid-template-columns:1fr 80px 80px;gap:1rem;padding:.75rem;background:var(--bg-tertiary);border-radius:6px;align-items:center}.ai-session-name{font-size:.875rem;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ai-session-tokens{font-size:.75rem;color:var(--text-secondary);text-align:right}.ai-session-cost{font-family:var(--font-mono);font-size:.875rem;font-weight:600;color:var(--accent-primary);text-align:right}.ai-table{width:100%;border-collapse:collapse}.ai-table th{text-align:left;padding:.75rem 1rem;font-size:.75rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;border-bottom:1px solid var(--border-color)}.ai-table td{padding:.75rem 1rem;font-size:.875rem;border-bottom:1px solid var(--border-color)}.ai-table tr:hover{background:var(--bg-hover)}.ai-table .cost{font-family:var(--font-mono);font-weight:600;color:var(--accent-primary)}.ai-mini-bar{height:6px;background:var(--bg-tertiary);border-radius:3px;overflow:hidden;min-width:80px}.ai-mini-bar-fill{height:100%;background:linear-gradient(90deg, #a855f7, #3b82f6);border-radius:3px}.vm-actions-inline{display:flex;gap:.5rem;align-items:center}.vm-action-btn{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);color:var(--text-secondary);cursor:pointer;transition:all .2s ease;padding:0}.vm-action-btn svg{width:14px;height:14px}.vm-action-btn:hover:not(:disabled){border-color:var(--accent-primary);color:var(--accent-primary)}.vm-action-btn.btn-ssh:hover{border-color:var(--accent-green);color:var(--accent-green)}.vm-action-btn.btn-url:hover{border-color:var(--accent-blue);color:var(--accent-blue)}.vm-action-btn.btn-reset:hover{border-color:var(--accent-orange);color:var(--accent-orange)}.vm-action-btn.btn-reset.loading{animation:spin 1s linear infinite}.vm-action-btn.btn-reset.success{border-color:var(--success);color:var(--success)}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.vm-action-btn:disabled{opacity:.3;cursor:not-allowed}.ip-address{font-family:var(--font-mono);font-size:.85rem;color:var(--text-primary)}.services-hierarchical .service-parent-row{background:var(--bg-card);font-weight:500}.services-hierarchical .service-child-row{background:var(--bg-secondary)}.services-hierarchical .service-child-row td{font-size:.85rem;color:var(--text-secondary)}.child-service-name{padding-left:2rem;color:var(--text-secondary)}[data-theme=blurred] .services-hierarchical .service-child-row{background:rgba(0,0,0,.2)}.usage-bar{display:inline-block;width:60px;height:8px;background:var(--bg-secondary);border-radius:4px;overflow:hidden;vertical-align:middle;margin-right:.5rem}.usage-fill{display:block;height:100%;border-radius:4px;transition:width .3s ease}.usage-val{font-size:.75rem;color:var(--text-secondary);font-family:var(--font-mono)}.usage-bar-sm{display:inline-block;width:40px;height:6px;background:var(--bg-secondary);border-radius:3px;overflow:hidden;vertical-align:middle;margin-right:.35rem;opacity:.8}#vm-resources-oci-p-flex_1 .service-row,#vm-resources-oci-f-micro_1 .service-row,#vm-resources-oci-f-micro_2 .service-row,#vm-resources-gcp-f-micro_1 .service-row{color:var(--text-secondary);font-size:.8rem}.live-status{display:inline-flex;align-items:center;gap:.4rem;font-size:.75rem}.live-dot{width:8px;height:8px;border-radius:50%;background:var(--text-secondary);opacity:.4}.live-status.checking .live-dot{animation:pulse-checking 2s ease-in-out infinite}.live-status.online .live-dot{background:var(--accent-green);box-shadow:0 0 6px var(--accent-green);opacity:1}.live-status.offline .live-dot{background:var(--accent-red);box-shadow:0 0 6px var(--accent-red);opacity:1}@keyframes pulse-checking{0%,100%{opacity:.4}50%{opacity:.8}}.nav-level3-wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.nav-level3-title{font-size:1.5rem;font-weight:700;color:var(--accent-primary);margin:0 0 .75rem 0;text-transform:uppercase;letter-spacing:2px;text-align:center}[data-theme=blurred] .nav-level3-wrapper{border-top-color:hsla(0,0%,100%,.1)}[data-theme=blurred] .nav-level3-title{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}.nav-level3{display:inline-flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:.4rem;padding:.4rem .8rem;background:rgba(0,0,0,0);border:none;border-radius:0}.nav-level3 .view-btn{font-size:.7rem;padding:.3rem .7rem;background:rgba(0,0,0,0);border:1px solid var(--border-color);border-radius:4px;opacity:.7}.nav-level3 .view-btn:hover{opacity:1}.nav-level3 .view-btn.active{opacity:1;border-color:var(--accent-primary)}[data-theme=blurred] .nav-level3{background:rgba(0,0,0,0);border:none}[data-theme=blurred] .nav-level3 .view-btn{background:hsla(0,0%,100%,.03);border:1px solid hsla(0,0%,100%,.08);border-radius:6px}[data-theme=blurred] .nav-level3 .view-btn:hover{background:hsla(0,0%,100%,.06);border-color:hsla(0,0%,100%,.15)}[data-theme=blurred] .nav-level3 .view-btn.active{background:rgba(56,189,248,.1);border-color:var(--accent-blue);color:var(--accent-blue)}.view-mode-controls{display:inline-flex;align-items:center;justify-content:center;gap:.75rem;padding:.3rem 0;margin-bottom:.75rem;background:rgba(0,0,0,0);border:none;font-family:var(--font-mono);font-size:.65rem}.view-mode-label{color:#666;font-size:.55rem;font-weight:400;letter-spacing:0;text-transform:none}.view-mode-separator{color:#444;font-size:.7rem;margin:0 .1rem}.view-mode-group{display:flex;gap:0}.view-mode-btn{display:flex;align-items:center;justify-content:center;padding:.2rem .5rem;min-width:auto;border:none;border-bottom:2px solid rgba(0,0,0,0);background:rgba(0,0,0,0);color:#777;font-family:var(--font-mono);font-size:.6rem;font-weight:400;text-transform:none;cursor:pointer;transition:all .15s ease;border-radius:0}.view-mode-btn svg{width:11px;height:11px;opacity:.6}.view-mode-btn:hover{color:#aaa;border-bottom-color:#555}.view-mode-btn:hover svg{opacity:.8}.view-mode-btn.active{color:#10b981;border-bottom-color:#10b981;background:rgba(0,0,0,0)}.view-mode-btn.active svg{opacity:1}[data-theme=blurred] .view-mode-controls{background:rgba(0,0,0,0);border:none}[data-theme=blurred] .view-mode-btn{color:hsla(0,0%,100%,.4);border-radius:0;background:rgba(0,0,0,0)}[data-theme=blurred] .view-mode-btn:hover{color:hsla(0,0%,100%,.6);border-bottom-color:hsla(0,0%,100%,.3);background:rgba(0,0,0,0)}[data-theme=blurred] .view-mode-btn.active{color:#10b981;border-bottom-color:#10b981;background:rgba(0,0,0,0)}.apps-cards-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(320px, 1fr));gap:1.5rem;padding:1rem 0}.app-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:12px;overflow:hidden;transition:transform .15s ease-out,border-color .2s ease,box-shadow .2s ease;transform-style:preserve-3d;will-change:transform}.app-card:hover{border-color:var(--accent-blue);box-shadow:0 12px 32px rgba(0,0,0,.25)}[data-theme=blurred] .app-card{backdrop-filter:blur(10px);background:rgba(26,31,58,.7);border-radius:16px}[data-theme=blurred] .app-card:hover{background:rgba(35,42,74,.85);box-shadow:0 12px 40px rgba(74,158,255,.15)}.app-card-header{display:flex;align-items:center;gap:1rem;padding:1.25rem;border-bottom:1px solid var(--border-color)}.app-card-icon{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.app-card-icon svg{width:24px;height:24px;color:#fff}.app-card-title{font-size:1.1rem;font-weight:600;color:var(--text-primary);margin:0}.app-card-body{padding:1.25rem;display:flex;flex-direction:column;gap:1rem}.app-card-section{display:flex;flex-direction:column;gap:.5rem}.app-card-section-title{font-size:.75rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin:0}.app-card-desc{font-size:.85rem;color:var(--text-secondary);margin:0;line-height:1.4}.app-card-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.4rem}.app-card-list li{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:var(--text-primary)}.app-card-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}.app-card-dot.healthy{background:#10b981}.app-card-dot.perf{background:#3b82f6}.app-card-dot.sync{background:#8b5cf6}.app-card-dot.sauron{background:#f59e0b}.app-card-dot.ssh{background:#22c55e}.app-card-dot.docker{background:#0ea5e9}.app-card-dot.system{background:#a855f7}.app-card-dot.logs{background:#ef4444}.app-card-dot.info{background:#06b6d4}.app-card-footer{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1.25rem;background:var(--bg-secondary);border-top:1px solid var(--border-color)}[data-theme=blurred] .app-card-footer{background:rgba(0,0,0,.2)}.app-card-badge{font-size:.7rem;font-weight:600;padding:.25rem .6rem;border-radius:4px;text-transform:uppercase;letter-spacing:.5px}.app-card-badge.live{background:rgba(16,185,129,.15);color:#10b981}.app-card-badge.tools{background:rgba(245,158,11,.15);color:#f59e0b}.app-card-badge.audit{background:rgba(139,92,246,.15);color:#8b5cf6}.app-card-status{font-size:.75rem;color:var(--text-tertiary);font-style:italic}.security-layers-diagram{display:flex;flex-direction:column;gap:1rem}.security-layer{background:var(--bg-card);border:1px solid var(--border-color);border-left:4px solid var(--layer-color, var(--accent-blue));border-radius:8px;overflow:hidden;transition:all .3s ease}.security-layer:hover{border-color:var(--layer-color, var(--accent-blue));transform:translateX(4px)}[data-theme=blurred] .security-layer{backdrop-filter:blur(10px);background:rgba(26,31,58,.6);border-radius:12px}.security-layer-header{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}[data-theme=blurred] .security-layer-header{background:rgba(0,0,0,.2)}.security-layer-badge{font-size:.7rem;font-weight:700;padding:.25rem .6rem;background:var(--layer-color, var(--accent-blue));color:#fff;border-radius:4px;text-transform:uppercase;letter-spacing:.5px}.security-layer-title{font-size:1rem;font-weight:600;color:var(--text-primary);margin:0}.security-layer-content{padding:1rem 1.25rem;display:flex;flex-wrap:wrap;gap:.75rem}.security-component{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:var(--bg-secondary);border-radius:6px;font-size:.85rem;color:var(--text-primary)}[data-theme=blurred] .security-component{background:hsla(0,0%,100%,.05)}.security-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}.security-tag{font-size:.7rem;padding:.15rem .4rem;background:hsla(0,0%,100%,.1);color:var(--text-secondary);border-radius:4px;margin-left:auto}[data-theme=blurred] .security-tag{background:hsla(0,0%,100%,.08)}.arch-tabs{display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem}.arch-tab{display:flex;align-items:center;gap:.5rem;padding:.6rem 1.2rem;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--border-radius);color:var(--text-secondary);cursor:pointer;font-size:.85rem;transition:all .3s ease}.arch-tab:hover{border-color:var(--accent-blue);color:var(--text-primary)}.arch-tab.active{background:linear-gradient(135deg, var(--accent-blue), var(--accent-purple));border-color:rgba(0,0,0,0);color:#fff}.arch-tab.disabled{opacity:.5;cursor:not-allowed}.arch-tab svg{width:18px;height:18px}.arch-tab-badge{font-size:.6rem;padding:.15rem .4rem;border-radius:8px;text-transform:uppercase;font-weight:600}.arch-tab-badge.available{background:rgba(16,185,129,.2);color:var(--accent-green)}.arch-tab-badge.pending{background:rgba(251,191,36,.2);color:var(--accent-yellow)}[data-theme=blurred] .arch-tab{backdrop-filter:blur(10px);border-radius:20px}.arch-section{display:none}.arch-section.active{display:block}.arch-placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:50vh;color:var(--text-secondary);text-align:center;padding:2rem}.arch-placeholder svg{width:80px;height:80px;margin-bottom:1.5rem;opacity:.5}.arch-placeholder h2{font-size:1.5rem;margin-bottom:.5rem;color:var(--text-primary)}@media(max-width: 768px){.arch-tabs{gap:.3rem}.arch-tab{padding:.5rem .8rem;font-size:.75rem}.arch-tab span:not(.arch-tab-badge){display:none}}.diagram-embed{background:linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #0a0a0f 100%);border-radius:16px;padding:20px;color:#e8e8f0;font-family:"Segoe UI",system-ui,-apple-system,sans-serif}:root{--bg-color: #0a0a0f;--bg-gradient: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #0a0a0f 100%);--text-main: #e8e8f0;--text-muted: #8888a0;--text-dim: #555566;--edge-color: #ff4757;--edge-glow: rgba(255, 71, 87, 0.4);--firewall-color: #ff6b35;--firewall-glow: rgba(255, 107, 53, 0.4);--proxy-color: #f39c12;--proxy-glow: rgba(243, 156, 18, 0.4);--auth-color: #a55eea;--auth-glow: rgba(165, 94, 234, 0.4);--network-color: #4a9eff;--network-glow: rgba(74, 158, 255, 0.4);--container-color: #00d084;--container-glow: rgba(0, 208, 132, 0.4);--vpn-color: #00cec9;--vpn-glow: rgba(0, 206, 201, 0.4);--vps-bg: #12121a;--doors-color: #c0392b;--nginx-color: #f39c12;--nginx-glow: rgba(243, 156, 18, 0.3);--nginx-bg: rgba(243, 156, 18, 0.08);--public-color: #2ecc71;--public-glow: rgba(46, 204, 113, 0.3);--public-bg: rgba(46, 204, 113, 0.08);--private-color: #3498db;--private-glow: rgba(52, 152, 219, 0.3);--private-bg: rgba(52, 152, 219, 0.08);--mail-color: #9b59b6;--mail-glow: rgba(155, 89, 182, 0.3);--mail-bg: rgba(155, 89, 182, 0.08);--ssh-color: #e056fd;--ssh-glow: rgba(224, 86, 253, 0.4);--db-sql-color: #f1c40f;--db-nosql-color: #1abc9c;--db-glow: rgba(241, 196, 15, 0.3);--danger-color: #e74c3c;--warning-color: #f39c12;--success-color: #27ae60;--container-bg: #1e1e2d;--orchestrator-color: #ff6b6b;--brain-color: #a55eea;--logic-color: #4a9eff;--sandbox-color: #00d084;--memory-color: #f39c12;--pulse-speed: 2s;--flow-speed: 3s;--glow-speed: 4s}*{margin:0;padding:0;box-sizing:border-box}body{font-family:"Segoe UI",system-ui,-apple-system,sans-serif;background:var(--bg-gradient);background-attachment:fixed;color:var(--text-main);min-height:100vh;padding:20px;overflow-x:hidden}.main-container{max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:25px}.diagram-header{text-align:center;padding:25px;background:hsla(0,0%,100%,.02);border-radius:16px;border:1px solid hsla(0,0%,100%,.05);backdrop-filter:blur(10px)}.diagram-header h1{font-size:32px;font-weight:700;background:linear-gradient(90deg, var(--edge-color), var(--firewall-color), var(--proxy-color), var(--auth-color), var(--network-color), var(--container-color));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text;margin-bottom:10px}.diagram-header .subtitle{color:var(--text-muted);font-size:14px}.version-badge{display:inline-block;background:linear-gradient(135deg, var(--edge-color), var(--auth-color));color:#fff;padding:3px 12px;border-radius:12px;font-size:11px;margin-left:10px;font-weight:600}.legend{display:flex;justify-content:center;flex-wrap:wrap;gap:15px;padding:15px;background:rgba(0,0,0,.3);border-radius:12px;border:1px solid hsla(0,0%,100%,.05)}.legend-item{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--text-muted)}.legend-dot{width:12px;height:12px;border-radius:50%;animation:pulse-dot 2s infinite}@keyframes pulse-dot{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.6;transform:scale(0.9)}}.visual-diagram{background:rgba(0,0,0,.4);border-radius:20px;border:1px solid hsla(0,0%,100%,.1);padding:30px;position:relative;overflow:hidden}.visual-diagram::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 20% 20%, var(--edge-glow) 0%, transparent 40%),radial-gradient(circle at 80% 80%, var(--auth-glow) 0%, transparent 40%),radial-gradient(circle at 50% 50%, var(--container-glow) 0%, transparent 30%);opacity:.3;pointer-events:none}.diagram-title{text-align:center;font-size:18px;font-weight:600;margin-bottom:25px;color:var(--text-main)}.defense-rings{display:flex;justify-content:center;align-items:center;padding:40px;position:relative}.ring-container{position:relative;width:700px;height:700px}.ring{position:absolute;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.ring:hover{transform:scale(1.02)}.ring-1{width:700px;height:700px;top:0;left:0;border:3px solid var(--edge-color);box-shadow:0 0 40px var(--edge-glow),inset 0 0 60px var(--edge-glow);background:radial-gradient(circle, transparent 60%, rgba(255, 71, 87, 0.05) 100%)}.ring-2{width:580px;height:580px;top:60px;left:60px;border:3px solid var(--firewall-color);box-shadow:0 0 30px var(--firewall-glow),inset 0 0 50px var(--firewall-glow);background:radial-gradient(circle, transparent 60%, rgba(255, 107, 53, 0.05) 100%)}.ring-3{width:460px;height:460px;top:120px;left:120px;border:3px solid var(--proxy-color);box-shadow:0 0 25px var(--proxy-glow),inset 0 0 40px var(--proxy-glow);background:radial-gradient(circle, transparent 60%, rgba(243, 156, 18, 0.05) 100%)}.ring-4{width:340px;height:340px;top:180px;left:180px;border:3px solid var(--auth-color);box-shadow:0 0 20px var(--auth-glow),inset 0 0 30px var(--auth-glow);background:radial-gradient(circle, transparent 60%, rgba(165, 94, 234, 0.05) 100%)}.ring-5{width:220px;height:220px;top:240px;left:240px;border:3px solid var(--network-color);box-shadow:0 0 15px var(--network-glow),inset 0 0 25px var(--network-glow);background:radial-gradient(circle, transparent 50%, rgba(74, 158, 255, 0.08) 100%)}.ring-6{width:100px;height:100px;top:300px;left:300px;border:3px solid var(--container-color);box-shadow:0 0 20px var(--container-glow),inset 0 0 30px var(--container-glow);background:radial-gradient(circle, rgba(0, 208, 132, 0.15) 0%, rgba(0, 208, 132, 0.05) 100%)}.ring-label{position:absolute;font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;padding:6px 14px;border-radius:20px;background:rgba(0,0,0,.8);white-space:nowrap;backdrop-filter:blur(10px)}.ring-1 .ring-label{top:10px;left:50%;transform:translateX(-50%);color:var(--edge-color);border:1px solid var(--edge-color)}.ring-2 .ring-label{top:10px;left:50%;transform:translateX(-50%);color:var(--firewall-color);border:1px solid var(--firewall-color)}.ring-3 .ring-label{top:10px;left:50%;transform:translateX(-50%);color:var(--proxy-color);border:1px solid var(--proxy-color)}.ring-4 .ring-label{top:10px;left:50%;transform:translateX(-50%);color:var(--auth-color);border:1px solid var(--auth-color)}.ring-5 .ring-label{top:10px;left:50%;transform:translateX(-50%);color:var(--network-color);border:1px solid var(--network-color)}.core-icon{font-size:40px;filter:drop-shadow(0 0 15px var(--container-color))}.ring-services{position:absolute;display:flex;gap:8px}.ring-1 .ring-services{bottom:25px;left:50%;transform:translateX(-50%)}.ring-2 .ring-services{bottom:20px;left:50%;transform:translateX(-50%)}.ring-3 .ring-services{bottom:15px;left:50%;transform:translateX(-50%)}.ring-4 .ring-services{bottom:12px;left:50%;transform:translateX(-50%)}.ring-5 .ring-services{bottom:8px;left:50%;transform:translateX(-50%)}.service-chip{font-size:9px;padding:4px 10px;border-radius:12px;background:rgba(0,0,0,.7);border:1px solid currentColor;display:flex;align-items:center;gap:4px}.service-chip.active{background:rgba(46,204,113,.15);border-color:#2ecc71;color:#2ecc71}.flow-diagram-horizontal{display:flex;align-items:stretch;justify-content:center;gap:0;padding:30px 10px;overflow-x:auto;position:relative}.flow-layer{display:flex;flex-direction:column;align-items:center;min-width:140px;position:relative}.flow-layer-box{padding:18px 12px;border-radius:16px;border:2px solid;background:rgba(0,0,0,.5);backdrop-filter:blur(10px);text-align:center;width:135px;transition:all .3s ease}.flow-layer-box:hover{transform:scale(1.05)}.flow-layer-box .fl-icon{font-size:32px;margin-bottom:8px;display:block}.flow-layer-box .fl-label{font-size:9px;font-weight:700;letter-spacing:1px;text-transform:uppercase;margin-bottom:6px;padding:3px 8px;border-radius:4px;display:inline-block}.flow-layer-box .fl-name{font-weight:600;font-size:12px;margin-bottom:4px}.flow-layer-box .fl-desc{font-size:9px;color:var(--text-muted);line-height:1.3}.flow-connector{display:flex;align-items:center;justify-content:center;width:50px;position:relative}.flow-connector::before{content:"";position:absolute;width:35px;height:2px;background:linear-gradient(90deg, var(--conn-color-start), var(--conn-color-end))}.flow-connector::after{content:">";font-size:16px;color:var(--text-muted);animation:arrow-pulse 1s infinite}@keyframes arrow-pulse{0%,100%{opacity:.5;transform:translateX(0)}50%{opacity:1;transform:translateX(3px)}}.flow-connector .conn-label{position:absolute;top:-16px;font-size:8px;color:var(--text-dim);white-space:nowrap}.fl-edge{border-color:var(--edge-color);box-shadow:0 0 25px var(--edge-glow)}.fl-edge .fl-label{background:var(--edge-color);color:#fff}.fl-edge .fl-name{color:var(--edge-color)}.fl-firewall{border-color:var(--firewall-color);box-shadow:0 0 25px var(--firewall-glow)}.fl-firewall .fl-label{background:var(--firewall-color);color:#000}.fl-firewall .fl-name{color:var(--firewall-color)}.fl-proxy{border-color:var(--proxy-color);box-shadow:0 0 25px var(--proxy-glow)}.fl-proxy .fl-label{background:var(--proxy-color);color:#000}.fl-proxy .fl-name{color:var(--proxy-color)}.fl-auth{border-color:var(--auth-color);box-shadow:0 0 25px var(--auth-glow)}.fl-auth .fl-label{background:var(--auth-color);color:#fff}.fl-auth .fl-name{color:var(--auth-color)}.fl-network{border-color:var(--network-color);box-shadow:0 0 25px var(--network-glow)}.fl-network .fl-label{background:var(--network-color);color:#000}.fl-network .fl-name{color:var(--network-color)}.fl-container{border-color:var(--container-color);box-shadow:0 0 25px var(--container-glow)}.fl-container .fl-label{background:var(--container-color);color:#000}.fl-container .fl-name{color:var(--container-color)}.fl-vpn{border-color:var(--vpn-color);box-shadow:0 0 25px var(--vpn-glow)}.fl-vpn .fl-label{background:var(--vpn-color);color:#000}.fl-vpn .fl-name{color:var(--vpn-color)}.providers-row{display:flex;flex-wrap:wrap;gap:4px;justify-content:center;margin-top:10px;padding-top:10px;border-top:1px solid hsla(0,0%,100%,.1)}.provider-chip{font-size:8px;padding:2px 6px;border-radius:8px;background:hsla(0,0%,100%,.1);color:var(--text-muted);white-space:nowrap}.provider-chip.active{background:rgba(46,204,113,.2);color:#2ecc71;border:1px solid rgba(46,204,113,.3)}.stacked-diagram{background:rgba(0,0,0,.3);border-radius:20px;padding:30px;border:1px solid hsla(0,0%,100%,.1)}.stacked-title{text-align:center;font-size:16px;font-weight:600;margin-bottom:25px;color:var(--text-muted)}.stack-container{display:flex;flex-direction:column;gap:8px;max-width:1000px;margin:0 auto}.stack-layer{display:flex;align-items:stretch;border-radius:12px;overflow:hidden;transition:all .3s ease}.stack-layer:hover{transform:scale(1.02)}.stack-label{width:120px;padding:15px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-weight:700;font-size:11px;text-transform:uppercase;letter-spacing:1px}.stack-label .sl-icon{font-size:24px;margin-bottom:5px}.stack-content{flex:1;padding:15px 20px;background:rgba(0,0,0,.4);display:flex;flex-direction:column;gap:8px}.stack-content .sc-title{font-weight:600;font-size:14px;margin-bottom:2px}.stack-content .sc-mental{font-size:11px;font-style:italic;color:var(--text-muted)}.stack-providers{display:flex;flex-wrap:wrap;gap:8px;margin-top:5px}.sp-item{font-size:11px;padding:4px 10px;border-radius:6px;background:hsla(0,0%,100%,.08);display:flex;align-items:center;gap:5px}.sp-item.active{background:rgba(46,204,113,.15);border:1px solid rgba(46,204,113,.3)}.stack-edge .stack-label{background:var(--edge-color);color:#fff}.stack-edge .sc-title{color:var(--edge-color)}.stack-firewall .stack-label{background:var(--firewall-color);color:#000}.stack-firewall .sc-title{color:var(--firewall-color)}.stack-proxy .stack-label{background:var(--proxy-color);color:#000}.stack-proxy .sc-title{color:var(--proxy-color)}.stack-auth .stack-label{background:var(--auth-color);color:#fff}.stack-auth .sc-title{color:var(--auth-color)}.stack-network .stack-label{background:var(--network-color);color:#000}.stack-network .sc-title{color:var(--network-color)}.stack-container-layer .stack-label{background:var(--container-color);color:#000}.stack-container-layer .sc-title{color:var(--container-color)}.stack-vpn .stack-label{background:var(--vpn-color);color:#000}.stack-vpn .sc-title{color:var(--vpn-color)}.stack-connector{display:flex;align-items:center;justify-content:center;padding:5px 0;margin-left:60px}.stack-connector .arrow-down{display:flex;flex-direction:column;align-items:center;gap:2px}.stack-connector .arrow-line{width:2px;height:12px;background:linear-gradient(180deg, var(--from-color), var(--to-color))}.stack-connector .arrow-head{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:7px solid var(--to-color)}.stack-connector .arrow-label{font-size:9px;color:var(--text-dim);margin-left:10px}.security-table{width:100%;border-collapse:collapse;font-size:12px;margin-top:20px}.security-table thead tr{border-bottom:2px solid hsla(0,0%,100%,.1)}.security-table th{padding:12px;text-align:left;font-weight:600;color:var(--text-muted)}.security-table td{padding:12px;border-bottom:1px solid hsla(0,0%,100%,.05)}.security-table .layer-badge{padding:3px 10px;border-radius:8px;font-weight:600;font-size:10px;text-transform:uppercase}.status-active{color:#2ecc71}.status-planned{color:#f39c12}.attack-flow{background:rgba(0,0,0,.3);border-radius:16px;padding:25px;border:1px solid hsla(0,0%,100%,.1)}.attack-title{text-align:center;font-size:16px;font-weight:600;margin-bottom:20px;color:var(--text-muted)}.attack-scenarios{display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));gap:20px}.attack-card{background:rgba(0,0,0,.4);border-radius:12px;padding:20px;border:1px solid hsla(0,0%,100%,.1)}.attack-card h4{font-size:14px;margin-bottom:12px;display:flex;align-items:center;gap:8px}.attack-card .attack-icon{font-size:20px}.attack-steps{display:flex;flex-direction:column;gap:8px}.attack-step{display:flex;align-items:center;gap:10px;font-size:11px;padding:8px 12px;border-radius:8px;background:hsla(0,0%,100%,.03)}.attack-step .step-num{width:20px;height:20px;border-radius:50%;background:var(--text-dim);display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;flex-shrink:0}.attack-step.blocked{border:1px solid var(--edge-color);background:rgba(255,71,87,.1)}.attack-step.blocked .step-num{background:var(--edge-color)}.attack-step .block-badge{margin-left:auto;font-size:9px;padding:2px 8px;border-radius:8px;background:var(--edge-color);color:#fff;font-weight:600}@media(max-width: 900px){.flow-diagram-horizontal{flex-direction:column;align-items:center}.flow-connector{width:40px;height:40px;transform:rotate(90deg)}.stack-layer{flex-direction:column}.stack-label{width:100%;flex-direction:row;gap:10px}.stack-connector{margin-left:0}.ring-container{width:350px;height:350px}.ring-1{width:350px;height:350px}.ring-2{width:290px;height:290px;top:30px;left:30px}.ring-3{width:230px;height:230px;top:60px;left:60px}.ring-4{width:170px;height:170px;top:90px;left:90px}.ring-5{width:110px;height:110px;top:120px;left:120px}.ring-6{width:60px;height:60px;top:145px;left:145px}.ring-label{font-size:8px;padding:4px 8px}.ring-services{display:none}}@media(max-width: 600px){.diagram-header h1{font-size:22px}.flow-layer-box{width:120px;padding:12px 8px}.legend{flex-direction:column;align-items:flex-start}.attack-scenarios{grid-template-columns:1fr}}@media(max-width: 480px){body{padding:10px}.main-container{gap:15px}.diagram-header{padding:15px}.diagram-header h1{font-size:18px}.ring-container{width:280px;height:280px}.ring-1{width:280px;height:280px}.ring-2{width:230px;height:230px;top:25px;left:25px}.ring-3{width:180px;height:180px;top:50px;left:50px}.ring-4{width:130px;height:130px;top:75px;left:75px}.ring-5{width:80px;height:80px;top:100px;left:100px}.ring-6{width:40px;height:40px;top:120px;left:120px}.ring-label{font-size:6px;padding:2px 6px}.flow-layer-box{width:100px;padding:10px 6px}.flow-layer-box .fl-icon{font-size:24px}.flow-layer-box .fl-name{font-size:10px}.flow-layer-box .fl-desc{font-size:7px}.flow-connector{width:30px}.stack-label{width:80px;padding:10px;font-size:9px}.stack-content{padding:10px 12px}.stack-content .sc-title{font-size:12px}}body.embedded .diagram-header>div[style*="display: flex"][style*="justify-content: center"]{display:none !important}body.embedded #nav-products,body.embedded #nav-c3,body.embedded #nav-c3-level3{display:none !important}#section-ai{--bg-color: #0a0a0f;--bg-gradient: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #0a0a0f 100%);--text-main: #e8e8f0;--text-muted: #8888a0;--text-dim: #555566;--orchestrator-color: #ff6d5a;--orchestrator-glow: rgba(255, 109, 90, 0.4);--brain-color: #00d084;--brain-glow: rgba(0, 208, 132, 0.4);--logic-color: #ff9f43;--logic-glow: rgba(255, 159, 67, 0.4);--memory-color: #3ecf8e;--memory-glow: rgba(62, 207, 142, 0.4);--sandbox-color: #a55eea;--sandbox-glow: rgba(165, 94, 234, 0.4);--iaas-color: #4a9eff;--iaas-glow: rgba(74, 158, 255, 0.4)}.main-container{max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:15px}.diagram-header{text-align:center;padding:20px;background:hsla(0,0%,100%,.02);border-radius:12px;border:1px solid hsla(0,0%,100%,.05)}.diagram-header h1{font-size:28px;font-weight:700;background:linear-gradient(90deg, var(--public-color), var(--private-color), var(--mail-color));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text;margin-bottom:8px}.diagram-header .subtitle{color:var(--text-muted);font-size:14px}.version-badge{display:inline-block;background:var(--private-color);color:#fff;padding:2px 10px;border-radius:12px;font-size:11px;margin-left:10px}.internet-zone{text-align:center;padding:20px;position:relative}.cloud-icon{font-size:60px;animation:float 3s ease-in-out infinite;filter:drop-shadow(0 0 20px rgba(255, 255, 255, 0.3))}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}.traffic-labels{display:flex;justify-content:center;gap:30px;margin-top:15px;flex-wrap:wrap}.traffic-type{display:flex;align-items:center;gap:8px;padding:8px 16px;background:rgba(0,0,0,.3);border-radius:20px;font-size:12px;border:1px solid hsla(0,0%,100%,.1)}.traffic-dot{width:10px;height:10px;border-radius:50%;animation:pulse-dot 2s infinite}@keyframes pulse-dot{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(0.8)}}.traffic-dot.http{background:var(--nginx-color)}.traffic-dot.ssh{background:var(--ssh-color)}.traffic-dot.mail{background:var(--mail-color)}.traffic-dot.blocked{background:var(--danger-color)}.arrow-stream{display:flex;flex-direction:column;align-items:center;margin:10px 0;height:40px;overflow:hidden}.arrow-particle{font-size:18px;opacity:0;animation:arrow-fall 1.5s infinite}.arrow-particle:nth-child(1){animation-delay:0s}.arrow-particle:nth-child(2){animation-delay:.3s}.arrow-particle:nth-child(3){animation-delay:.6s}@keyframes arrow-fall{0%{opacity:0;transform:translateY(-20px)}50%{opacity:1}100%{opacity:0;transform:translateY(20px)}}.doors-layer{background:linear-gradient(180deg, rgba(192, 57, 43, 0.2) 0%, rgba(192, 57, 43, 0.05) 100%);border:2px solid var(--doors-color);border-radius:12px;padding:20px;position:relative}.doors-layer::before{content:"SERVER DOORS (Open Ports)";position:absolute;top:-12px;left:20px;background:var(--bg-color);padding:0 10px;font-size:11px;color:var(--doors-color);font-weight:bold;letter-spacing:1px}.doors-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(120px, 1fr));gap:15px}.door-box{background:rgba(0,0,0,.4);border:2px solid;border-radius:8px;padding:15px 10px;text-align:center;position:relative;transition:all .3s ease;cursor:pointer}.door-box:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(0,0,0,.3)}.door-box.ssh{border-color:var(--ssh-color);box-shadow:0 0 15px var(--ssh-glow)}.door-box.web{border-color:var(--nginx-color);box-shadow:0 0 15px var(--nginx-glow)}.door-box.mail{border-color:var(--mail-color);box-shadow:0 0 15px var(--mail-glow)}.door-box.blocked{border-color:var(--danger-color);opacity:.5}.door-icon{font-size:24px;margin-bottom:8px}.door-port{font-family:"Courier New",monospace;font-weight:bold;font-size:14px}.door-label{font-size:10px;color:var(--text-muted);margin-top:4px}.door-status{position:absolute;top:-8px;right:-8px;width:16px;height:16px;border-radius:50%;border:2px solid var(--bg-color)}.door-status.open{background:var(--success-color);animation:status-pulse 2s infinite}.door-status.closed{background:var(--danger-color)}@keyframes status-pulse{0%,100%{box-shadow:0 0 0 0 rgba(39,174,96,.7)}50%{box-shadow:0 0 0 8px rgba(39,174,96,0)}}.door-connector{position:absolute;bottom:-25px;left:50%;transform:translateX(-50%);font-size:16px;z-index:10}.door-connector.ssh{color:var(--ssh-color)}.door-connector.web{color:var(--nginx-color)}.door-connector.mail{color:var(--mail-color)}.security-comment{background:rgba(231,76,60,.1);border-left:3px solid var(--danger-color);padding:10px 15px;margin-top:15px;font-size:11px;color:var(--text-muted);border-radius:0 8px 8px 0}.security-comment strong{color:var(--danger-color)}.firewall-layer{background:linear-gradient(90deg, var(--firewall-color), #c0392b);border-radius:8px;padding:15px 25px;display:flex;justify-content:space-between;align-items:center;position:relative;overflow:hidden;box-shadow:0 0 30px var(--firewall-glow)}.firewall-layer::before{content:"";position:absolute;top:0;left:-100%;width:200%;height:100%;background:linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);animation:firewall-scan 3s linear infinite}@keyframes firewall-scan{0%{left:-100%}100%{left:100%}}.firewall-title{display:flex;align-items:center;gap:10px;font-weight:bold;font-size:16px;z-index:1}.firewall-title .icon{font-size:24px;animation:shield-pulse 2s infinite}@keyframes shield-pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}.firewall-stats{display:flex;gap:20px;z-index:1}.firewall-stat{text-align:center;background:rgba(0,0,0,.2);padding:8px 15px;border-radius:6px}.firewall-stat .value{font-size:18px;font-weight:bold}.firewall-stat .label{font-size:10px;opacity:.8}.info-btn{width:24px;height:24px;background:hsla(0,0%,100%,.2);border:none;border-radius:50%;color:#fff;font-weight:bold;cursor:pointer;transition:all .2s;z-index:1}.info-btn:hover{background:hsla(0,0%,100%,.4);transform:scale(1.1)}.vps-box{background:var(--vps-bg);border:1px solid hsla(0,0%,100%,.1);border-radius:16px;padding:30px 20px 20px;position:relative;box-shadow:0 20px 60px rgba(0,0,0,.5)}.vps-label{position:absolute;top:-15px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg, #2c3e50, #34495e);padding:8px 25px;border-radius:20px;font-size:13px;font-weight:bold;display:flex;align-items:center;gap:10px;box-shadow:0 4px 15px rgba(0,0,0,.3)}.vps-label .ip{font-family:"Courier New",monospace;color:var(--public-color);font-size:11px}.hardware-specs{display:flex;justify-content:center;gap:15px;margin:15px 70px 20px;padding:12px 20px;background:linear-gradient(90deg, rgba(52, 73, 94, 0.3), rgba(44, 62, 80, 0.3));border:1px solid hsla(0,0%,100%,.1);border-radius:10px;flex-wrap:wrap}.hw-spec{display:flex;align-items:center;gap:8px;padding:6px 12px;background:rgba(0,0,0,.3);border-radius:6px;font-size:11px}.hw-spec .icon{font-size:16px}.hw-spec .label{color:var(--text-muted)}.hw-spec .value{color:var(--public-color);font-weight:bold;font-family:"Courier New",monospace}.hw-spec.provider{border-left:3px solid #f39c12}.hw-spec.cpu{border-left:3px solid #e74c3c}.hw-spec.ram{border-left:3px solid #3498db}.hw-spec.storage{border-left:3px solid #2ecc71}.hw-spec.arch{border-left:3px solid #9b59b6}.ssh-direct-path{position:absolute;left:15px;top:50px;bottom:20px;width:50px;display:flex;flex-direction:column;align-items:center;z-index:20}.ssh-line{flex:1;width:4px;background:linear-gradient(180deg, var(--ssh-color), transparent);border-radius:2px;position:relative;overflow:hidden}.ssh-line::after{content:"";position:absolute;top:-100%;left:0;width:100%;height:50%;background:linear-gradient(180deg, transparent, rgba(224, 86, 253, 0.8), transparent);animation:ssh-flow 2s linear infinite}@keyframes ssh-flow{0%{top:-50%}100%{top:150%}}.ssh-badge{writing-mode:vertical-rl;text-orientation:mixed;background:var(--ssh-color);color:#fff;padding:10px 5px;border-radius:4px;font-size:9px;font-weight:bold;letter-spacing:1px;margin-top:10px}.ssh-target{background:rgba(224,86,253,.1);border:1px dashed var(--ssh-color);border-radius:8px;padding:10px;text-align:center;font-size:11px;margin-top:10px}.ssh-target .icon{font-size:20px}.nginx-layer{background:var(--nginx-bg);border:2px dashed var(--nginx-color);border-radius:12px;padding:20px;margin-left:70px;position:relative;box-shadow:0 0 20px var(--nginx-glow)}.nginx-layer::before{content:"NGINX REVERSE PROXY (Host Level)";position:absolute;top:-12px;left:20px;background:var(--vps-bg);padding:0 10px;font-size:11px;color:var(--nginx-color);font-weight:bold}.nginx-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.nginx-title{display:flex;align-items:center;gap:10px;color:var(--nginx-color);font-weight:bold}.nginx-title .icon{font-size:24px;animation:rotate-slow 10s linear infinite}@keyframes rotate-slow{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.nginx-routes{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:10px}.route-box{background:rgba(0,0,0,.3);border-radius:8px;padding:12px;display:flex;align-items:center;gap:10px;font-size:12px;border:1px solid hsla(0,0%,100%,.05)}.route-box .domain{color:var(--nginx-color);font-family:"Courier New",monospace;font-weight:bold}.route-box .arrow{color:var(--text-dim)}.route-box .target{color:var(--text-muted);font-family:"Courier New",monospace}.nginx-flow-arrows{display:flex;justify-content:space-around;margin:15px 0 -10px;padding:0 50px}.flow-arrow{display:flex;flex-direction:column;align-items:center;gap:5px}.flow-arrow .line{width:3px;height:30px;border-radius:2px;position:relative;overflow:hidden}.flow-arrow .line::after{content:"";position:absolute;top:-100%;left:0;width:100%;height:100%;animation:flow-down 1s linear infinite}@keyframes flow-down{0%{top:-100%}100%{top:100%}}.flow-arrow.public .line{background:var(--public-color)}.flow-arrow.public .line::after{background:linear-gradient(180deg, transparent, var(--public-color), transparent)}.flow-arrow.private .line{background:var(--private-color)}.flow-arrow.private .line::after{background:linear-gradient(180deg, transparent, var(--private-color), transparent)}.flow-arrow.mail .line{background:var(--mail-color)}.flow-arrow.mail .line::after{background:linear-gradient(180deg, transparent, var(--mail-color), transparent)}.flow-arrow .label{font-size:10px;color:var(--text-muted)}.docker-env{background:rgba(0,0,0,.2);border:1px dashed #555;border-radius:12px;padding:25px 20px 20px;margin-left:70px;margin-top:20px;position:relative}.docker-label{position:absolute;top:-12px;right:20px;background:#2496ed;color:#fff;padding:4px 12px;border-radius:12px;font-size:11px;font-weight:bold;display:flex;align-items:center;gap:6px}.docker-label .whale{font-size:14px}.network-zones{display:grid;grid-template-columns:repeat(3, 1fr);gap:20px}@media(max-width: 900px){.network-zones{grid-template-columns:1fr}}.zone-column{background:rgba(0,0,0,.2);border-radius:12px;padding:15px;position:relative;transition:all .3s ease}.zone-column:hover{transform:translateY(-5px)}.zone-column.public{border:1px solid var(--public-color);box-shadow:0 0 20px var(--public-glow)}.zone-column.private{border:1px solid var(--private-color);box-shadow:0 0 20px var(--private-glow)}.zone-column.mail{border:1px solid var(--mail-color);box-shadow:0 0 20px var(--mail-glow)}.zone-header{text-align:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid hsla(0,0%,100%,.1)}.zone-title{font-size:12px;font-weight:bold;text-transform:uppercase;letter-spacing:1px}.zone-column.public .zone-title{color:var(--public-color)}.zone-column.private .zone-title{color:var(--private-color)}.zone-column.mail .zone-title{color:var(--mail-color)}.zone-network{font-size:10px;color:var(--text-dim);font-family:"Courier New",monospace;margin-top:5px}.container-box{background:var(--container-bg);border-radius:8px;padding:12px;margin-bottom:10px;border-left:4px solid;transition:all .2s}.container-box:hover{background:hsla(0,0%,100%,.05)}.container-box.public{border-left-color:var(--public-color)}.container-box.private{border-left-color:var(--private-color)}.container-box.mail{border-left-color:var(--mail-color)}.container-box.db-sql{border-left-color:var(--db-sql-color)}.container-box.db-nosql{border-left-color:var(--db-nosql-color)}.container-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.container-name{font-weight:bold;font-size:13px;display:flex;align-items:center;gap:6px}.container-name .icon{font-size:16px}.container-port{font-family:"Courier New",monospace;font-size:10px;background:rgba(0,0,0,.3);padding:2px 8px;border-radius:4px;color:var(--text-muted)}.container-desc{font-size:11px;color:var(--text-dim)}.container-tech{display:flex;gap:5px;margin-top:8px;flex-wrap:wrap}.tech-tag{font-size:9px;padding:2px 6px;border-radius:4px;background:hsla(0,0%,100%,.05);color:var(--text-muted)}.db-type{display:inline-flex;align-items:center;gap:4px;padding:3px 8px;border-radius:4px;font-size:10px;font-weight:bold}.db-type.sql{background:rgba(241,196,15,.2);color:var(--db-sql-color);border:1px solid var(--db-sql-color)}.db-type.nosql{background:rgba(26,188,156,.2);color:var(--db-nosql-color);border:1px solid var(--db-nosql-color)}.connector{text-align:center;color:var(--text-dim);font-size:14px;margin:5px 0}.networks-layer{margin-top:20px;margin-left:70px;background:rgba(0,0,0,.2);border-radius:12px;padding:20px;position:relative}.networks-label{position:absolute;top:-12px;left:20px;background:var(--vps-bg);padding:0 10px;font-size:11px;color:var(--text-muted);font-weight:bold}.networks-grid{display:flex;gap:15px;flex-wrap:wrap}.network-badge{display:flex;align-items:center;gap:8px;padding:10px 15px;border-radius:8px;border:1px solid;font-size:12px;position:relative}.network-badge.public-net{border-color:var(--public-color);background:var(--public-bg)}.network-badge.private-net{border-color:var(--private-color);background:var(--private-bg)}.network-badge.mail-net{border-color:var(--mail-color);background:var(--mail-bg)}.network-badge.db-net{border-color:var(--db-sql-color);background:rgba(241,196,15,.08)}.network-icon{font-size:18px}.network-name{font-family:"Courier New",monospace;font-weight:bold}.network-members{font-size:10px;color:var(--text-dim)}.network-isolation{position:absolute;top:-8px;right:-8px;background:var(--danger-color);color:#fff;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px}.isolation-section{margin-top:30px;margin-left:70px;background:linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.2) 100%);border:2px solid hsla(0,0%,100%,.1);border-radius:16px;padding:25px;position:relative}.isolation-header{display:flex;align-items:center;gap:12px;margin-bottom:8px}.isolation-icon{font-size:28px;animation:pulse-glow 2s infinite}@keyframes pulse-glow{0%,100%{filter:drop-shadow(0 0 5px rgba(255, 255, 255, 0.3))}50%{filter:drop-shadow(0 0 15px rgba(255, 255, 255, 0.6))}}.isolation-title{font-size:18px;font-weight:bold;background:linear-gradient(90deg, var(--public-color), var(--private-color), var(--mail-color));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}.isolation-subtitle{color:var(--text-muted);font-size:13px;margin-bottom:25px;padding-left:40px}.isolation-diagram-clean{margin:20px 0;overflow-x:auto}.isolation-svg{width:100%;max-width:900px;height:auto;min-height:520px;display:block;margin:0 auto}.isolation-how-it-works{margin-top:25px;padding-top:20px;border-top:1px solid hsla(0,0%,100%,.1)}.how-title{font-weight:bold;font-size:14px;color:var(--text-muted);margin-bottom:15px}.how-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:15px}.how-item{display:flex;gap:15px;background:rgba(0,0,0,.2);padding:15px;border-radius:10px;border:1px solid hsla(0,0%,100%,.05)}.how-num{width:30px;height:30px;background:var(--private-color);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:14px;flex-shrink:0}.how-content{flex:1}.how-content strong{display:block;margin-bottom:5px;color:var(--text-main)}.how-content p{font-size:12px;color:var(--text-muted);margin-bottom:8px;line-height:1.4}.how-content code{display:block;background:rgba(0,0,0,.4);padding:6px 10px;border-radius:4px;font-size:10px;color:var(--nginx-color);font-family:"Courier New",monospace}.isolation-integrated{margin-top:25px;background:linear-gradient(180deg, rgba(52, 152, 219, 0.08) 0%, rgba(155, 89, 182, 0.08) 100%);border:1px solid rgba(52,152,219,.3);border-radius:12px;padding:0;overflow:hidden}.isolation-bar{background:linear-gradient(90deg, rgba(46, 204, 113, 0.2), rgba(52, 152, 219, 0.2), rgba(155, 89, 182, 0.2));padding:12px 20px;display:flex;justify-content:space-between;align-items:center;font-weight:bold;font-size:13px;color:var(--text-main);border-bottom:1px solid hsla(0,0%,100%,.1)}.isolation-bar span{display:flex;align-items:center;gap:10px}.isolation-svg-container{padding:20px;overflow-x:auto}.isolation-svg-container svg{display:block;margin:0 auto;max-width:100%;height:auto}.svg-info-btn:hover circle,.svg-info-btn:hover rect{filter:brightness(1.2);cursor:pointer}.svg-info-btn{transition:transform .2s ease}.svg-info-btn:hover{transform:scale(1.05)}.storage-wrapper{margin-top:30px;margin-left:70px;position:relative;background:rgba(0,0,0,.2);border:1px dashed #444;border-radius:12px;padding:25px 20px 20px}.storage-label{position:absolute;top:-12px;left:20px;background:var(--vps-bg);padding:0 10px;font-size:11px;color:var(--text-muted);font-weight:bold;z-index:5}.pipe-public{stroke:var(--public-color)}.pipe-private{stroke:var(--private-color)}.pipe-mail{stroke:var(--mail-color)}.blocked-path{stroke:var(--danger-color);stroke-width:2;stroke-dasharray:5 3;opacity:.5;animation:none}.blocked-x{fill:var(--danger-color);animation:pulse-block 2s infinite}@keyframes pulse-block{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}.storage-partitions{display:grid;grid-template-columns:repeat(4, 1fr);gap:15px;background:rgba(0,0,0,.3);border:1px dashed #444;border-radius:12px;padding:20px}@media(max-width: 900px){.storage-partitions{grid-template-columns:repeat(2, 1fr)}}.partition-box{background:#2c3e50;border-radius:8px;padding:15px;text-align:center;border-bottom:4px solid;position:relative}.partition-box.system{border-bottom-color:var(--ssh-color)}.partition-box.public{border-bottom-color:var(--public-color)}.partition-box.private{border-bottom-color:var(--private-color)}.partition-box.mail{border-bottom-color:var(--mail-color)}.partition-icon{font-size:24px;margin-bottom:8px}.partition-name{font-family:"Courier New",monospace;font-size:12px;font-weight:bold;margin-bottom:4px}.partition-desc{font-size:10px;color:var(--text-dim)}.partition-security{margin-top:8px;padding-top:8px;border-top:1px solid hsla(0,0%,100%,.1)}.security-tag{font-size:9px;padding:2px 6px;border-radius:4px;display:inline-block}.security-tag.encrypted{background:rgba(46,204,113,.2);color:var(--success-color)}.security-tag.readonly{background:rgba(243,156,18,.2);color:var(--warning-color)}.security-tag.restricted{background:rgba(231,76,60,.2);color:var(--danger-color)}.annotation{position:absolute;background:rgba(0,0,0,.8);border:1px solid;border-radius:8px;padding:10px;font-size:10px;max-width:200px;z-index:100;box-shadow:0 5px 20px rgba(0,0,0,.5)}.annotation.warning{border-color:var(--warning-color)}.annotation.danger{border-color:var(--danger-color)}.annotation.info{border-color:var(--private-color)}.annotation-title{font-weight:bold;margin-bottom:5px;display:flex;align-items:center;gap:5px}.annotation.warning .annotation-title{color:var(--warning-color)}.annotation.danger .annotation-title{color:var(--danger-color)}.annotation.info .annotation-title{color:var(--private-color)}.legend{background:rgba(0,0,0,.3);border-radius:12px;padding:20px;margin-top:20px}.legend-title{font-weight:bold;margin-bottom:15px;color:var(--text-muted)}.legend-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));gap:15px}.legend-item{display:flex;align-items:center;gap:10px;font-size:12px}.legend-color{width:20px;height:20px;border-radius:4px}.legend-color.public{background:var(--public-color)}.legend-color.private{background:var(--private-color)}.legend-color.mail{background:var(--mail-color)}.legend-color.ssh{background:var(--ssh-color)}.legend-color.nginx{background:var(--nginx-color)}.legend-color.firewall{background:var(--firewall-color)}.legend-color.sql{background:var(--db-sql-color)}.legend-color.nosql{background:var(--db-nosql-color)}.modal-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);z-index:1000;justify-content:center;align-items:center;backdrop-filter:blur(5px)}.modal-content{background:#1e1e2d;border-radius:16px;width:90%;max-width:700px;max-height:85vh;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.5);animation:modal-in .3s ease}@keyframes modal-in{from{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header{background:linear-gradient(90deg, #2c3e50, #34495e);padding:20px;display:flex;justify-content:space-between;align-items:center}.modal-title{font-size:18px;font-weight:bold}.modal-close{background:none;border:none;color:#fff;font-size:24px;cursor:pointer;opacity:.7;transition:opacity .2s}.modal-close:hover{opacity:1}.modal-body{padding:25px;overflow-y:auto;max-height:calc(85vh - 80px)}.modal-body h4{color:var(--public-color);margin:20px 0 10px}.modal-body h4:first-child{margin-top:0}.modal-body ul{padding-left:20px;margin:10px 0}.modal-body li{margin-bottom:8px;color:var(--text-muted)}.modal-body code{background:rgba(0,0,0,.3);padding:2px 8px;border-radius:4px;font-family:"Courier New",monospace;color:var(--nginx-color)}.modal-body .warning-box{background:rgba(231,76,60,.1);border-left:4px solid var(--danger-color);padding:15px;margin:15px 0;border-radius:0 8px 8px 0}.modal-body .warning-box strong{color:var(--danger-color)}.modal-body .tip-box{background:rgba(46,204,113,.1);border-left:4px solid var(--success-color);padding:15px;margin:15px 0;border-radius:0 8px 8px 0}.footer-actions{display:flex;justify-content:center;gap:15px;margin-top:20px;flex-wrap:wrap}.action-btn{display:flex;align-items:center;gap:8px;padding:12px 25px;border-radius:25px;border:none;font-weight:bold;cursor:pointer;transition:all .3s}.action-btn.primary{background:linear-gradient(90deg, var(--public-color), var(--private-color));color:#fff}.action-btn.primary:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(46,204,113,.3)}.action-btn.secondary{background:hsla(0,0%,100%,.1);color:#fff;border:1px solid hsla(0,0%,100%,.2)}.action-btn.secondary:hover{background:hsla(0,0%,100%,.2)}.sec-header{text-align:center;padding:15px;background:hsla(0,0%,100%,.02);border-radius:12px;border:1px solid hsla(0,0%,100%,.05);margin-bottom:20px}.sec-title{font-size:24px;font-weight:700;background:linear-gradient(90deg, var(--edge-color), var(--firewall-color), var(--proxy-color), var(--auth-color), var(--network-color), var(--container-color));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text;margin-bottom:8px}.sec-subtitle{font-size:20px;font-weight:700;margin-bottom:8px}.sec-subtitle.public{color:var(--public-color)}.sec-subtitle.private{color:var(--private-color)}.sec-subtitle.auth{color:var(--auth-color)}.sec-nav{display:flex;justify-content:center;gap:15px;margin-bottom:25px}.sec-nav-btn{padding:12px 24px;color:#000;border-radius:8px;text-decoration:none;font-weight:600;font-size:13px;transition:all .3s ease}.sec-nav-btn.vps{background:linear-gradient(135deg, var(--public-color), var(--private-color))}.sec-nav-btn.cloud{background:linear-gradient(135deg, var(--auth-color), var(--container-color))}.sec-nav-btn:hover{transform:translateY(-2px);box-shadow:0 5px 20px rgba(0,0,0,.3)}.sec-vps{margin-bottom:40px}.sec-cloud{margin-bottom:40px}.sec-intro{text-align:center;margin-bottom:20px}.sec-intro-title{font-size:20px;font-weight:700;margin-bottom:8px}.sec-intro-title.public{color:var(--public-color)}.sec-intro-title.auth{color:var(--auth-color)}.sec-intro-desc{color:#8888a0;font-size:12px}.text-main{color:#e8e8f0}.text-muted{color:#8888a0}.text-dim{color:#556}.text-success{color:var(--success-color)}.text-warning{color:var(--warning-color)}.text-danger{color:var(--danger-color)}.text-public{color:var(--public-color)}.text-private{color:var(--private-color)}.text-auth{color:var(--auth-color)}.text-edge{color:var(--edge-color)}.text-firewall{color:var(--firewall-color)}.text-proxy{color:var(--proxy-color)}.text-ssh{color:var(--ssh-color)}.fs-xs{font-size:8px}.fs-sm{font-size:9px}.fs-md{font-size:10px}.fs-base{font-size:11px}.fs-lg{font-size:12px}.fs-xl{font-size:14px}.fs-2xl{font-size:18px}.fs-3xl{font-size:20px}.fs-4xl{font-size:24px}.fw-bold{font-weight:bold}.fw-600{font-weight:600}.fw-700{font-weight:700}.internet-label{font-size:18px;font-weight:bold;margin:10px 0}.arrow-stream-short{height:30px}.arch-card{background:hsla(0,0%,100%,.02);border-radius:12px;padding:20px;border:1px solid hsla(0,0%,100%,.05);margin-bottom:25px}.arch-card-lg{background:hsla(0,0%,100%,.02);border-radius:16px;padding:30px 20px;border:1px solid hsla(0,0%,100%,.05);margin-bottom:25px}.arch-card-highlight{background:rgba(165,94,234,.1);border-radius:8px;padding:12px;border:1px solid rgba(165,94,234,.3);text-align:center}.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:25px}.grid-3{display:grid;grid-template-columns:repeat(3, 1fr);gap:15px}.grid-4{display:grid;grid-template-columns:repeat(4, 1fr);gap:15px}.arch-table{width:100%;font-size:11px;border-collapse:collapse}.arch-table th,.arch-table td{padding:8px;border-bottom:1px solid hsla(0,0%,100%,.05)}.arch-table th{text-align:left;padding:10px 8px;color:#8888a0}.arch-table td{color:#e8e8f0}.arch-table td.muted{color:#8888a0}.arch-table td.dim{color:#556}.arch-table td.success{color:#00d084}.arch-table td.warning{color:#f39c12}.arch-table.text-center td{text-align:center}.arch-table-compact{width:100%;font-size:11px;border-collapse:collapse}.arch-table-compact td{padding:6px 4px}.arch-table-compact td.main{color:#e8e8f0}.arch-table-compact td.muted{color:#8888a0}.arch-table-compact td.dim{color:#556}.arch-table-compact td.success{color:#00d084;text-align:right}.chip{display:inline-block;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:600}.chip.auth{background:var(--auth-color);color:#fff}.chip.public{background:var(--public-color);color:#fff}.chip.private{background:var(--private-color);color:#fff}.provider-chip{display:inline-block;padding:2px 6px;border-radius:4px;font-size:10px;font-weight:600;background:rgba(165,94,234,.2);color:var(--auth-color)}.sp-item{display:inline-block;margin-right:8px;font-size:11px}.mb-0{margin-bottom:0}.mb-1{margin-bottom:4px}.mb-2{margin-bottom:8px}.mb-3{margin-bottom:15px}.mb-4{margin-bottom:20px}.mb-5{margin-bottom:25px}.mt-3{margin-top:15px}.p-2{padding:8px}.p-3{padding:12px}.w-full{width:100%}.th-highlight{border-bottom:1px solid hsla(0,0%,100%,.1)}.img-full{width:100%;height:auto}.ai-provider-label{color:#a55eea;font-size:10px;font-weight:600}.ai-model-label{color:#f39c12;font-size:11px;font-weight:600;margin-bottom:4px}.ai-desc{color:#8b5cf6;font-size:14px;margin-bottom:15px;display:flex;align-items:center;gap:8px}.ai-intro{color:#e8e8f0;font-size:14px;margin-bottom:15px}.sec-box{text-align:center;padding:15px;background:hsla(0,0%,100%,.02);border-radius:12px;border:1px solid hsla(0,0%,100%,.05)}.icon-lg{font-size:24px;margin-bottom:8px}.icon-xl{font-size:20px;margin-bottom:6px}.legend-dot.edge{background:var(--edge-color)}.legend-dot.firewall{background:var(--firewall-color)}.legend-dot.proxy{background:var(--proxy-color)}.legend-dot.auth{background:var(--auth-color)}.legend-dot.network{background:var(--network-color)}.legend-dot.container{background:var(--container-color)}.legend-dot.vpn{background:var(--vpn-color)}.service-chip.edge{color:var(--edge-color)}.service-chip.firewall{color:var(--firewall-color)}.service-chip.proxy{color:var(--proxy-color)}.service-chip.auth-color{color:var(--auth-color)}.service-chip.network{color:var(--network-color)}.service-chip.container{color:var(--container-color)}@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}.auth-buttons{display:flex;gap:.5rem}.auth-btn{display:flex;align-items:center;gap:.4rem}.auth-btn svg{width:14px;height:14px}.auth-btn.github-sso{background:#24292e !important;border-color:#444 !important}.auth-btn.github-sso:hover{background:#2f363d !important;border-color:#666 !important}.auth-btn.authelia-totp{background:#1a237e !important;border-color:#3949ab !important}.auth-btn.authelia-totp:hover{background:#283593 !important;border-color:#5c6bc0 !important}.view-content{display:none}.view-content.active{display:block}.iframe-desktop-wrapper{width:100%;height:85vh;overflow:hidden;border-radius:12px;background:#0a0a0f}.desktop-iframe{width:100%;height:100%;border:none;border-radius:12px;background:#0a0a0f}@media(max-width: 768px){.iframe-desktop-wrapper{width:100%;height:70vh;overflow:auto;-webkit-overflow-scrolling:touch}.desktop-iframe{width:1200px;height:800px;transform:scale(0.35);transform-origin:top left}}@media(min-width: 769px)and (max-width: 1024px){.desktop-iframe{width:1200px;height:900px;transform:scale(0.7);transform-origin:top left}.iframe-desktop-wrapper{height:70vh;overflow:auto}}.view-content.list-view .cards-grid{display:flex;flex-direction:column;gap:.5rem}.view-content.list-view .card{display:flex;flex-direction:row;align-items:center;padding:.75rem 1rem;gap:1rem}.view-content.list-view .card-icon{width:32px;height:32px;min-width:32px}.view-content.list-view .card h3{font-size:.95rem;margin:0;flex:0 0 180px}.view-content.list-view .card p{font-size:.85rem;margin:0;flex:1}.view-content.list-view .card-status{margin-left:auto;padding:.3rem .8rem;font-size:.75rem}.view-content.list-view .card-code,.view-content.list-view .code-with-copy{font-size:.8rem}.view-content.list-view .card-actions{margin-left:auto}.inline-view-toggle{display:flex;gap:.5rem;margin:0 0 1.5rem 0;justify-content:flex-end;padding:0 1rem}.inline-view-toggle .view-btn{padding:.5rem 1.2rem;background:rgba(0,0,0,0);border:1px solid var(--border-color);color:var(--text-secondary);font-size:.85rem;cursor:pointer;border-radius:var(--border-radius);transition:all .3s ease}.inline-view-toggle .view-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#000}.inline-view-toggle .view-btn:hover:not(.active){border-color:var(--accent-primary);color:var(--accent-primary)}.cloud-footer{text-align:center;padding:1.5rem 1rem;margin-top:2rem;border-top:1px solid var(--border-color)}.linktree-footer-btn{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem 1.2rem;background:linear-gradient(110deg, #ff6600 0%, #ff6600 40%, #ffaa66 50%, #ff6600 60%, #ff6600 100%);background-size:200% 100%;animation:shimmer 3s linear infinite;border:1px solid var(--accent-primary);border-radius:var(--border-radius);color:#000;text-decoration:none;font-family:var(--font-mono);font-size:.85rem;font-weight:600;transition:all var(--transition-speed) ease}.linktree-footer-btn:hover{animation:shimmer 1.5s linear infinite;transform:scale(1.05);box-shadow:0 0 20px rgba(255,102,0,.5)}.link-icon{font-size:1rem}.link-text{font-weight:600}.link-arrow{width:14px;height:14px;opacity:.7}.linktree-footer-btn:hover .link-arrow{opacity:1}[data-theme=blurred] .linktree-footer-btn{border-radius:20px;background:linear-gradient(110deg, #4a9eff 0%, #4a9eff 40%, #a0cfff 50%, #4a9eff 60%, #4a9eff 100%);background-size:200% 100%;border-color:var(--accent-blue);color:#fff}[data-theme=blurred] .linktree-footer-btn:hover{box-shadow:0 0 25px rgba(74,158,255,.6)}.apps-cards-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(320px, 1fr));gap:1.5rem;padding:1rem 0}.app-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:12px;overflow:hidden;transition:transform .15s ease-out,border-color .2s ease,box-shadow .2s ease;transform-style:preserve-3d;will-change:transform}.app-card:hover{border-color:var(--accent-blue);box-shadow:0 12px 32px rgba(0,0,0,.25)}[data-theme=blurred] .app-card{backdrop-filter:blur(10px);background:rgba(26,31,58,.7);border-radius:16px}[data-theme=blurred] .app-card:hover{background:rgba(35,42,74,.85);box-shadow:0 12px 40px rgba(74,158,255,.15)}.app-card-header{display:flex;align-items:center;gap:1rem;padding:1.25rem;border-bottom:1px solid var(--border-color)}.app-card-icon{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.app-card-icon svg{width:24px;height:24px;color:#fff}.app-card-title{font-size:1.1rem;font-weight:600;color:var(--text-primary);margin:0}.app-card-body{padding:1.25rem;display:flex;flex-direction:column;gap:1rem}.app-card-section{display:flex;flex-direction:column;gap:.5rem}.app-card-section-title{font-size:.75rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin:0}.app-card-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.4rem}.app-card-list li{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:var(--text-primary)}.app-card-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}.app-card-footer{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1.25rem;background:var(--bg-secondary);border-top:1px solid var(--border-color)}[data-theme=blurred] .app-card-footer{background:rgba(0,0,0,.2)}.app-card-badge{font-size:.7rem;font-weight:600;padding:.25rem .6rem;border-radius:4px;text-transform:uppercase;letter-spacing:.5px}.app-card-status{font-size:.75rem;color:var(--text-tertiary);font-style:italic}.profile-section{background:hsla(0,0%,100%,.02);border:1px solid hsla(0,0%,100%,.08);border-radius:16px;padding:1.5rem;margin-bottom:1.5rem}.profile-title{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;font-weight:600;color:hsla(0,0%,100%,.9);margin-bottom:1rem;padding-bottom:.75rem;border-bottom:1px solid hsla(0,0%,100%,.08)}.profile-title svg{opacity:.7}.work-profile{border-color:rgba(59,130,246,.2);background:linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(59, 130, 246, 0.02))}.work-profile .profile-title{color:#60a5fa}.personal-profile{border-color:rgba(168,85,247,.2);background:linear-gradient(135deg, rgba(168, 85, 247, 0.05), rgba(168, 85, 247, 0.02))}.personal-profile .profile-title{color:#c084fc}#features-page{padding:1rem}.summary-cards-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:1rem;margin-bottom:2rem}.summary-card{border-radius:12px;padding:1.25rem;text-align:center;border:1px solid}.summary-card--blue{background:linear-gradient(135deg, rgba(74, 158, 255, 0.15), rgba(74, 158, 255, 0.05));border-color:rgba(74,158,255,.3)}.summary-card--green{background:linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(16, 185, 129, 0.05));border-color:rgba(16,185,129,.3)}.summary-card--purple{background:linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(139, 92, 246, 0.05));border-color:rgba(139,92,246,.3)}.summary-card--yellow{background:linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(251, 191, 36, 0.05));border-color:rgba(251,191,36,.3)}.summary-card__value{font-size:2rem;margin-bottom:.5rem}.summary-card__label{color:hsla(0,0%,100%,.7);font-size:.8rem;text-transform:uppercase;letter-spacing:1px}.feature-section{background:hsla(0,0%,100%,.03);border:1px solid hsla(0,0%,100%,.1);border-radius:12px;padding:1.5rem;margin-bottom:1.5rem}.feature-section__title{font-size:1rem;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}.feature-section__title--blue{color:rgba(74,158,255,.9)}.feature-section__title--green{color:rgba(16,185,129,.9)}.feature-section__title--purple{color:rgba(139,92,246,.9)}.feature-section__title--yellow{color:rgba(251,191,36,.9)}.feature-table{width:100%;border-collapse:collapse;font-size:.85rem}.feature-table th{text-align:left;padding:.75rem .5rem;color:hsla(0,0%,100%,.5);font-weight:500;border-bottom:1px solid hsla(0,0%,100%,.1)}.feature-table th.text-center{text-align:center;width:80px}.feature-table td{padding:.6rem .5rem}.feature-table td.text-center{text-align:center}.feature-table tr{border-bottom:1px solid hsla(0,0%,100%,.05)}.feature-name{color:hsla(0,0%,100%,.9)}.feature-desc{color:hsla(0,0%,100%,.4);font-size:.75rem;margin-top:.2rem}.check-icon{color:#10b981}.app-card-icon--blue{background:linear-gradient(135deg, #3b82f6, #1d4ed8)}.app-card-dot--green{background:#22c55e}.app-card-dot--purple{background:#8b5cf6}.app-card-dot--blue{background:#3b82f6}.app-card-dot--yellow{background:#f59e0b}.app-card-dot--cyan{background:#06b6d4}.app-card-badge--blue{background:rgba(59,130,246,.15);color:#3b82f6}.apps-cards-grid--narrow{max-width:450px}
</style>
    <script>
        // Apply saved theme immediately
        (function() {
            var theme = localStorage.getItem('cloud-dashboard-theme') || 'blurred';
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
</head>
<body>
    <button class="theme-toggle" id="theme-toggle" title="Switch theme">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
        </svg>
        <span class="theme-label">Blurred</span>
    </button>

    <div class="container">
        <header class="main-header">
            <h1>Cloud Portal</h1>
            <!-- Cloud Infrastructure Banner -->
            <div class="header-banner">
                <svg viewBox="0 0 800 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:rgba(56,189,248,0.1)"/>
                            <stop offset="50%" style="stop-color:rgba(139,92,246,0.15)"/>
                            <stop offset="100%" style="stop-color:rgba(56,189,248,0.1)"/>
                        </linearGradient>
                        <linearGradient id="lineGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:rgba(56,189,248,0.3)"/>
                            <stop offset="50%" style="stop-color:rgba(139,92,246,0.5)"/>
                            <stop offset="100%" style="stop-color:rgba(56,189,248,0.3)"/>
                        </linearGradient>
                    </defs>
                    <path d="M50 60 L150 40 L250 70 L350 35 L450 60 L550 30 L650 55 L750 45" stroke="url(#lineGrad)" stroke-width="1.5" fill="none" opacity="0.6"/>
                    <path d="M50 80 L150 90 L250 75 L350 95 L450 80 L550 100 L650 85 L750 90" stroke="url(#lineGrad)" stroke-width="1.5" fill="none" opacity="0.4"/>
                    <circle cx="150" cy="40" r="8" fill="rgba(56,189,248,0.8)" opacity="0.9"/>
                    <circle cx="350" cy="35" r="10" fill="rgba(139,92,246,0.8)" opacity="0.9"/>
                    <circle cx="550" cy="30" r="7" fill="rgba(56,189,248,0.8)" opacity="0.9"/>
                    <circle cx="250" cy="70" r="6" fill="rgba(56,189,248,0.6)" opacity="0.8"/>
                    <circle cx="450" cy="60" r="9" fill="rgba(139,92,246,0.7)" opacity="0.85"/>
                    <circle cx="650" cy="55" r="7" fill="rgba(56,189,248,0.7)" opacity="0.85"/>
                    <rect x="140" y="75" width="20" height="30" rx="2" fill="rgba(56,189,248,0.3)" stroke="rgba(56,189,248,0.6)" stroke-width="1"/>
                    <line x1="143" y1="82" x2="157" y2="82" stroke="rgba(56,189,248,0.8)" stroke-width="1"/>
                    <line x1="143" y1="88" x2="157" y2="88" stroke="rgba(56,189,248,0.6)" stroke-width="1"/>
                    <rect x="340" y="70" width="20" height="30" rx="2" fill="rgba(139,92,246,0.3)" stroke="rgba(139,92,246,0.6)" stroke-width="1"/>
                    <line x1="343" y1="77" x2="357" y2="77" stroke="rgba(139,92,246,0.8)" stroke-width="1"/>
                    <line x1="343" y1="83" x2="357" y2="83" stroke="rgba(139,92,246,0.6)" stroke-width="1"/>
                    <rect x="540" y="65" width="20" height="30" rx="2" fill="rgba(56,189,248,0.3)" stroke="rgba(56,189,248,0.6)" stroke-width="1"/>
                    <line x1="543" y1="72" x2="557" y2="72" stroke="rgba(56,189,248,0.8)" stroke-width="1"/>
                    <line x1="543" y1="78" x2="557" y2="78" stroke="rgba(56,189,248,0.6)" stroke-width="1"/>
                    <circle cx="350" cy="35" r="15" fill="none" stroke="rgba(139,92,246,0.4)" stroke-width="1" opacity="0.5"/>
                    <circle cx="450" cy="60" r="14" fill="none" stroke="rgba(139,92,246,0.3)" stroke-width="1" opacity="0.4"/>
                </svg>
            </div>
            <!-- Level 1: Main Navigation Links -->
            <div class="nav-level1">
                <a href="products.html" class="nav-main-btn">User</a>
                <a href="cloud_control.html" class="nav-main-btn active">Cloud Control</a>
                <a href="architecture.html" class="nav-main-btn">Architecture</a>
            </div>
            <!-- Level 2: Dashboard Tabs -->
            <div class="nav-level2 active" id="nav-cloudcontrol">
                <button class="view-btn" data-dash-parent="topology">Topology</button>
                <span class="nav-divider"></span>
                <button class="view-btn active" data-dash-parent="monitor">Monitor & Audit</button>
                <span class="nav-divider"></span>
                <button class="view-btn" data-dash-tab="cost">Cost</button>
                <span class="nav-divider"></span>
                <button class="view-btn" data-dash-tab="apps">Apps</button>
            </div>
            <!-- Level 3: Sub-navigation for Topology -->
            <div class="nav-level3-wrapper" id="nav-topology" style="display: none;">
                <h2 class="nav-level3-title">Topology</h2>
                <div class="nav-level3">
                    <button class="view-btn active" data-topology-cat="app">App</button>
                    <button class="view-btn" data-topology-cat="data">Data</button>
                    <button class="view-btn" data-topology-cat="containers">Containers</button>
                    <button class="view-btn" data-topology-cat="security">Security</button>
                </div>
            </div>
            <!-- Level 3: Sub-navigation for Monitor & Audit -->
            <div class="nav-level3-wrapper" id="nav-monitor" style="display: flex;">
                <h2 class="nav-level3-title">Monitor & Audit</h2>
                <div class="nav-level3">
                    <button class="view-btn active" data-dash-tab="resources">Infra</button>
                    <button class="view-btn" data-dash-tab="security">Security</button>
                    <button class="view-btn" data-dash-tab="audit-analytics">Analytics</button>
                    <button class="view-btn" data-dash-tab="audit-logs">Logs</button>
                </div>
            </div>
            <!-- Level 3: Cost title with sub-tabs -->
            <div class="nav-level3-wrapper" id="nav-cost" style="display: none;">
                <h2 class="nav-level3-title">Cost</h2>
                <div class="nav-level3">
                    <button class="view-btn active" data-subtab="cost-infra">Infrastructure</button>
                    <button class="view-btn" data-subtab="cost-ai">AI Costs</button>
                </div>
            </div>
            <!-- Level 3: Apps title -->
            <div class="nav-level3-wrapper" id="nav-apps" style="display: none;">
                <h2 class="nav-level3-title">Apps</h2>
                <p class="nav-level3-subtitle">Cloud Management Applications</p>
            </div>
        </header>

        <!-- Status Tab Content (hidden) -->
        <div id="status-tab" class="tab-content">

        <!-- VMs Section -->
        <div class="resources-category">
            <h3 class="resources-category-title">VMs</h3>
            <div class="resources-section">
                <div class="resources-table-container">
                    <table class="resources-table status-table">
                        <thead><tr><th>Mode</th><th>Host</th><th>VM</th><th>IP</th><th>Status</th><th>Actions</th></tr></thead>
                        <tbody id="vms-tbody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Services Section -->
        <div class="resources-category">
            <h3 class="resources-category-title">Services</h3>
            <div class="resources-section">
                <div class="resources-table-container">
                    <table class="resources-table status-table services-hierarchical">
                        <thead><tr><th>VM</th><th>Name</th><th>URL</th><th>IP:PORT</th><th>Proxy Name</th><th>STATUS</th></tr></thead>
                        <tbody id="services-tbody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Backlog Section -->
        <div class="resources-category">
            <h3 class="resources-category-title">Backlog (DEV/HOLD)</h3>
            <div class="resources-section">
                <div class="resources-table-container">
                    <table class="resources-table status-table">
                        <thead><tr><th>Service</th><th>Status</th><th>VM</th><th>Notes</th></tr></thead>
                        <tbody id="backlog-tbody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        </div><!-- End Status Tab -->

        <!-- Resources Tab Content (htop-style) -->
        <div id="resources-tab" class="tab-content active">
            <!-- VM Summary -->
            <div class="resources-category">
                <h3 class="resources-category-title">VM Overview</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th style="width: 18%;">VM</th>
                                    <th style="width: 12%;">CPU</th>
                                    <th style="width: 14%;">RAM</th>
                                    <th style="width: 14%;">Storage</th>
                                    <th style="width: 10%;">VRAM</th>
                                    <th style="width: 12%;">Status</th>
                                    <th style="width: 20%;">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="vm-row">
                                    <td><span style="display: inline-block; width: 8px; height: 8px; background: #F80000; border-radius: 50%; margin-right: 0.5rem;"></span>OCI Paid Flex 1</td>
                                    <td>2 vCPU</td>
                                    <td>3.6 / 8 GB</td>
                                    <td>165 / 242 GB</td>
                                    <td>-</td>
                                    <td><span class="health-badge healthy">Active</span></td>
                                    <td>
                                        <div class="vm-actions-inline">
                                            <button class="vm-action-btn btn-url" onclick="window.open('https://cloud.oracle.com/compute/instances', '_blank')" title="Open cloud console">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-ssh" onclick="copyToClipboard('ssh -i ~/.ssh/id_rsa ubuntu@84.235.234.87', 'SSH copied!')" title="Copy SSH command">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-reset" onclick="resetVM('oci-p-flex_1')" title="Reboot/Start VM">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-shutdown" onclick="shutdownVM('oci-p-flex_1')" title="Shutdown VM">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"/><line x1="12" y1="2" x2="12" y2="12"/></svg>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="vm-row">
                                    <td><span style="display: inline-block; width: 8px; height: 8px; background: #F80000; border-radius: 50%; margin-right: 0.5rem;"></span>OCI Free Micro 1</td>
                                    <td>1 OCPU</td>
                                    <td>0.6 / 1 GB</td>
                                    <td>13 / 47 GB</td>
                                    <td>-</td>
                                    <td><span class="health-badge healthy">Active</span></td>
                                    <td>
                                        <div class="vm-actions-inline">
                                            <button class="vm-action-btn btn-url" onclick="window.open('https://cloud.oracle.com/compute/instances', '_blank')" title="Open cloud console">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-ssh" onclick="copyToClipboard('ssh -i ~/.ssh/id_rsa ubuntu@130.110.251.193', 'SSH copied!')" title="Copy SSH command">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-reset" onclick="resetVM('oci-f-micro_1')" title="Reboot/Start VM">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-shutdown" onclick="shutdownVM('oci-f-micro_1')" title="Shutdown VM">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"/><line x1="12" y1="2" x2="12" y2="12"/></svg>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="vm-row">
                                    <td><span style="display: inline-block; width: 8px; height: 8px; background: #F80000; border-radius: 50%; margin-right: 0.5rem;"></span>OCI Free Micro 2</td>
                                    <td>1 OCPU</td>
                                    <td>0.55 / 1 GB</td>
                                    <td>9 / 47 GB</td>
                                    <td>-</td>
                                    <td><span class="health-badge healthy">Active</span></td>
                                    <td>
                                        <div class="vm-actions-inline">
                                            <button class="vm-action-btn btn-url" onclick="window.open('https://cloud.oracle.com/compute/instances', '_blank')" title="Open cloud console">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-ssh" onclick="copyToClipboard('ssh -i ~/.ssh/id_rsa ubuntu@129.151.228.66', 'SSH copied!')" title="Copy SSH command">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-reset" onclick="resetVM('oci-f-micro_2')" title="Reboot/Start VM">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-shutdown" onclick="shutdownVM('oci-f-micro_2')" title="Shutdown VM">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"/><line x1="12" y1="2" x2="12" y2="12"/></svg>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="vm-row">
                                    <td><span style="display: inline-block; width: 8px; height: 8px; background: #4285F4; border-radius: 50%; margin-right: 0.5rem;"></span>GCP Free Micro 1</td>
                                    <td>0.25 vCPU</td>
                                    <td>0.7 / 1 GB</td>
                                    <td>6 / 30 GB</td>
                                    <td>-</td>
                                    <td><span class="health-badge healthy">Active</span></td>
                                    <td>
                                        <div class="vm-actions-inline">
                                            <button class="vm-action-btn btn-url" onclick="window.open('https://console.cloud.google.com/compute/instances', '_blank')" title="Open cloud console">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-ssh" onclick="copyToClipboard('gcloud compute ssh arch-1 --zone=us-central1-a', 'SSH copied!')" title="Copy SSH command">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-reset" onclick="resetVM('gcp-f-micro_1')" title="Reboot/Start VM">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
                                            </button>
                                            <button class="vm-action-btn btn-shutdown" onclick="shutdownVM('gcp-f-micro_1')" title="Shutdown VM">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"/><line x1="12" y1="2" x2="12" y2="12"/></svg>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Resource Usage by VM (Detailed) -->
            <div class="resources-category">
                <h3 class="resources-category-title">Service Breakdown by VM</h3>

                <!-- OCI Paid Flex 1 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                        OCI Paid Flex 1
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">(1 OCPU, 8 GB RAM, 242 GB)</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th style="width: 28%;">Name</th>
                                    <th style="width: 14%;">CPU</th>
                                    <th style="width: 14%;">RAM</th>
                                    <th style="width: 14%;">Storage</th>
                                    <th style="width: 14%;">VRAM</th>
                                    <th style="width: 16%;">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="totals-row" style="background: var(--bg-tertiary); font-size: 0.8rem; color: var(--text-secondary);">
                                    <td>Absolute</td>
                                    <td>2 vCPU</td>
                                    <td>3.6 / 8 GB</td>
                                    <td>165 / 242 GB</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr class="vm-row" style="background: var(--bg-card); font-weight: 600;">
                                    <td>VM Total</td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 15%; background: var(--accent-blue);"></span></span> <span class="usage-val">15%</span></td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 45%; background: var(--accent-green);"></span></span> <span class="usage-val">45%</span></td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 68%; background: var(--accent-orange);"></span></span> <span class="usage-val">68%</span></td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr class="service-row"><td class="component-name">↳ photoprism</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 15%; background: var(--accent-green);"></span></span> <span class="usage-val">15%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 21%; background: var(--accent-orange);"></span></span> <span class="usage-val">21%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('oci-p-flex_1', 'photoprism')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                                <tr class="service-row"><td class="component-name">↳ radicale</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-blue);"></span></span> <span class="usage-val">&lt;1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-green);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-orange);"></span></span> <span class="usage-val">&lt;1%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('oci-p-flex_1', 'radicale')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- OCI Free Micro 1 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                        OCI Free Micro 1
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">(1 OCPU, 1 GB RAM, 47 GB)</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th style="width: 28%;">Name</th>
                                    <th style="width: 14%;">CPU</th>
                                    <th style="width: 14%;">RAM</th>
                                    <th style="width: 14%;">Storage</th>
                                    <th style="width: 14%;">VRAM</th>
                                    <th style="width: 16%;">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="totals-row" style="background: var(--bg-tertiary); font-size: 0.8rem; color: var(--text-secondary);">
                                    <td>Absolute</td>
                                    <td>1 OCPU</td>
                                    <td>0.6 / 1 GB</td>
                                    <td>13 / 47 GB</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr class="vm-row" style="background: var(--bg-card); font-weight: 600;">
                                    <td>VM Total</td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 60%; background: var(--accent-orange);"></span></span> <span class="usage-val">60%</span></td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 27%; background: var(--accent-green);"></span></span> <span class="usage-val">27%</span></td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr class="service-row"><td class="component-name">↳ mailu-imap</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 2%; background: var(--accent-blue);"></span></span> <span class="usage-val">2%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 20%; background: var(--accent-orange);"></span></span> <span class="usage-val">20%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 15%; background: var(--accent-green);"></span></span> <span class="usage-val">15%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('oci-f-micro_1', 'mailu-imap')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                                <tr class="service-row"><td class="component-name">↳ mailu-admin</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 12%; background: var(--accent-orange);"></span></span> <span class="usage-val">12%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-green);"></span></span> <span class="usage-val">1%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('oci-f-micro_1', 'mailu-admin')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                                <tr class="service-row"><td class="component-name">↳ mailu-webmail</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-blue);"></span></span> <span class="usage-val">&lt;1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-orange);"></span></span> <span class="usage-val">10%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 4%; background: var(--accent-green);"></span></span> <span class="usage-val">4%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('oci-f-micro_1', 'mailu-webmail')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                                <tr class="service-row"><td class="component-name">↳ mailu-smtp</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-orange);"></span></span> <span class="usage-val">10%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-green);"></span></span> <span class="usage-val">5%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('oci-f-micro_1', 'mailu-smtp')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                                <tr class="service-row"><td class="component-name">↳ mailu-front</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 8%; background: var(--accent-orange);"></span></span> <span class="usage-val">8%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 2%; background: var(--accent-green);"></span></span> <span class="usage-val">2%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('oci-f-micro_1', 'mailu-front')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- OCI Free Micro 2 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                        OCI Free Micro 2
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">(1 OCPU, 1 GB RAM, 47 GB)</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th style="width: 28%;">Name</th>
                                    <th style="width: 14%;">CPU</th>
                                    <th style="width: 14%;">RAM</th>
                                    <th style="width: 14%;">Storage</th>
                                    <th style="width: 14%;">VRAM</th>
                                    <th style="width: 16%;">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="totals-row" style="background: var(--bg-tertiary); font-size: 0.8rem; color: var(--text-secondary);">
                                    <td>Absolute</td>
                                    <td>1 OCPU</td>
                                    <td>0.55 / 1 GB</td>
                                    <td>9 / 47 GB</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr class="vm-row" style="background: var(--bg-card); font-weight: 600;">
                                    <td>VM Total</td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 10%; background: var(--accent-blue);"></span></span> <span class="usage-val">10%</span></td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 55%; background: var(--accent-orange);"></span></span> <span class="usage-val">55%</span></td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 20%; background: var(--accent-green);"></span></span> <span class="usage-val">20%</span></td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr class="service-row"><td class="component-name">↳ matomo-db</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 30%; background: var(--accent-orange);"></span></span> <span class="usage-val">30%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 15%; background: var(--accent-green);"></span></span> <span class="usage-val">15%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('oci-f-micro_2', 'matomo-db')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                                <tr class="service-row"><td class="component-name">↳ matomo</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 25%; background: var(--accent-orange);"></span></span> <span class="usage-val">25%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-green);"></span></span> <span class="usage-val">5%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('oci-f-micro_2', 'matomo')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- GCP Free Micro 1 -->
                <div class="resources-section">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #4285F4; border-radius: 50%;"></span>
                        GCP Free Micro 1
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">(0.25 vCPU, 1 GB RAM, 30 GB)</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th style="width: 28%;">Name</th>
                                    <th style="width: 14%;">CPU</th>
                                    <th style="width: 14%;">RAM</th>
                                    <th style="width: 14%;">Storage</th>
                                    <th style="width: 14%;">VRAM</th>
                                    <th style="width: 16%;">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="totals-row" style="background: var(--bg-tertiary); font-size: 0.8rem; color: var(--text-secondary);">
                                    <td>Absolute</td>
                                    <td>0.25 vCPU</td>
                                    <td>0.7 / 1 GB</td>
                                    <td>6 / 30 GB</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr class="vm-row" style="background: var(--bg-card); font-weight: 600;">
                                    <td>VM Total</td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 20%; background: var(--accent-blue);"></span></span> <span class="usage-val">20%</span></td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 70%; background: var(--accent-orange);"></span></span> <span class="usage-val">70%</span></td>
                                    <td><span class="usage-bar"><span class="usage-fill" style="width: 20%; background: var(--accent-green);"></span></span> <span class="usage-val">20%</span></td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr class="service-row"><td class="component-name">↳ npm</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 8%; background: var(--accent-blue);"></span></span> <span class="usage-val">8%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 25%; background: var(--accent-orange);"></span></span> <span class="usage-val">25%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-green);"></span></span> <span class="usage-val">10%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('gcp-f-micro_1', 'npm')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                                <tr class="service-row"><td class="component-name">↳ authelia</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 3%; background: var(--accent-blue);"></span></span> <span class="usage-val">3%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 15%; background: var(--accent-orange);"></span></span> <span class="usage-val">15%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-green);"></span></span> <span class="usage-val">5%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('gcp-f-micro_1', 'authelia')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                                <tr class="service-row"><td class="component-name">↳ cloud-api</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-orange);"></span></span> <span class="usage-val">10%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-green);"></span></span> <span class="usage-val">1%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('gcp-f-micro_1', 'cloud-api')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                                <tr class="service-row"><td class="component-name">↳ wireguard</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-orange);"></span></span> <span class="usage-val">10%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-green);"></span></span> <span class="usage-val">1%</span></td><td>-</td><td><button class="vm-action-btn btn-reset" onclick="restartContainer('gcp-f-micro_1', 'wireguard')" title="Restart container"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg></button></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Audit Analytics Tab Content -->
        <div id="audit-analytics-tab" class="tab-content">
            <!-- Matomo Analytics Card -->
            <div class="resources-category">
                <h3 class="resources-category-title">Analytics Platform</h3>
                <div class="apps-cards-grid" style="max-width: 400px;">
                    <a href="https://analytics.diegonmarcos.com" target="_blank" class="app-card" style="text-decoration: none;">
                        <div class="app-card-header">
                            <div class="app-card-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 20V10M12 20V4M6 20v-6"/>
                                </svg>
                            </div>
                            <h3 class="app-card-title">Matomo Analytics</h3>
                        </div>
                        <div class="app-card-body">
                            <div class="app-card-section">
                                <h4 class="app-card-section-title">Features</h4>
                                <ul class="app-card-list">
                                    <li><span class="app-card-dot" style="background: #22c55e;"></span>Privacy-focused tracking</li>
                                    <li><span class="app-card-dot" style="background: #3b82f6;"></span>GDPR compliant</li>
                                    <li><span class="app-card-dot" style="background: #a855f7;"></span>Self-hosted on OCI</li>
                                </ul>
                            </div>
                        </div>
                        <div class="app-card-footer">
                            <span class="app-card-badge live">Online</span>
                            <span class="app-card-status">analytics.diegonmarcos.com</span>
                        </div>
                    </a>
                </div>
            </div>

            <!-- Cloud Pages Analytics Example -->
            <div class="resources-category" style="margin-top: 2rem;">
                <h3 class="resources-category-title">Cloud Pages Analytics</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Visitor metrics for Cloud Portal pages (example data)</p>

                <!-- Summary Cards -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                        <div style="font-size: 1.75rem; font-weight: 700; color: var(--accent-blue);">2,847</div>
                        <div style="font-size: 0.7rem; color: var(--text-secondary); text-transform: uppercase;">Total Visits</div>
                    </div>
                    <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                        <div style="font-size: 1.75rem; font-weight: 700; color: var(--accent-green);">1,523</div>
                        <div style="font-size: 0.7rem; color: var(--text-secondary); text-transform: uppercase;">Unique Visitors</div>
                    </div>
                    <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                        <div style="font-size: 1.75rem; font-weight: 700; color: var(--accent-purple);">4:32</div>
                        <div style="font-size: 0.7rem; color: var(--text-secondary); text-transform: uppercase;">Avg. Duration</div>
                    </div>
                    <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                        <div style="font-size: 1.75rem; font-weight: 700; color: var(--accent-orange);">32%</div>
                        <div style="font-size: 0.7rem; color: var(--text-secondary); text-transform: uppercase;">Bounce Rate</div>
                    </div>
                </div>

                <!-- Pages Table -->
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th style="width: 35%;">Page</th>
                                    <th style="width: 15%;">Views</th>
                                    <th style="width: 15%;">Unique</th>
                                    <th style="width: 15%;">Avg. Time</th>
                                    <th style="width: 20%;">Traffic</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <span style="width: 8px; height: 8px; background: var(--accent-blue); border-radius: 50%;"></span>
                                            <span>/cloud/</span>
                                        </div>
                                    </td>
                                    <td>1,247</td>
                                    <td>892</td>
                                    <td>3:45</td>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="flex: 1; height: 6px; background: var(--bg-secondary); border-radius: 3px; overflow: hidden;">
                                                <div style="width: 100%; height: 100%; background: var(--accent-blue); border-radius: 3px;"></div>
                                            </div>
                                            <span style="font-size: 0.75rem; color: var(--text-secondary);">44%</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <span style="width: 8px; height: 8px; background: var(--accent-green); border-radius: 50%;"></span>
                                            <span>/cloud/cloud_control</span>
                                        </div>
                                    </td>
                                    <td>623</td>
                                    <td>445</td>
                                    <td>5:12</td>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="flex: 1; height: 6px; background: var(--bg-secondary); border-radius: 3px; overflow: hidden;">
                                                <div style="width: 50%; height: 100%; background: var(--accent-green); border-radius: 3px;"></div>
                                            </div>
                                            <span style="font-size: 0.75rem; color: var(--text-secondary);">22%</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <span style="width: 8px; height: 8px; background: var(--accent-purple); border-radius: 50%;"></span>
                                            <span>/cloud/architecture</span>
                                        </div>
                                    </td>
                                    <td>512</td>
                                    <td>398</td>
                                    <td>4:28</td>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="flex: 1; height: 6px; background: var(--bg-secondary); border-radius: 3px; overflow: hidden;">
                                                <div style="width: 41%; height: 100%; background: var(--accent-purple); border-radius: 3px;"></div>
                                            </div>
                                            <span style="font-size: 0.75rem; color: var(--text-secondary);">18%</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <span style="width: 8px; height: 8px; background: var(--accent-orange); border-radius: 50%;"></span>
                                            <span>/cloud/products</span>
                                        </div>
                                    </td>
                                    <td>465</td>
                                    <td>312</td>
                                    <td>2:56</td>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="flex: 1; height: 6px; background: var(--bg-secondary); border-radius: 3px; overflow: hidden;">
                                                <div style="width: 37%; height: 100%; background: var(--accent-orange); border-radius: 3px;"></div>
                                            </div>
                                            <span style="font-size: 0.75rem; color: var(--text-secondary);">16%</span>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Traffic Chart -->
                <div class="resources-section" style="margin-top: 1.5rem;">
                    <h4 style="font-size: 0.85rem; color: var(--text-primary); margin-bottom: 1rem;">Visits Over Time (Last 7 Days)</h4>
                    <div style="display: flex; align-items: flex-end; gap: 0.5rem; height: 120px; padding: 0.5rem 0;">
                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 0.25rem;">
                            <div style="width: 100%; background: linear-gradient(180deg, var(--accent-blue), var(--accent-purple)); border-radius: 4px 4px 0 0; height: 45%;"></div>
                            <span style="font-size: 0.65rem; color: var(--text-secondary);">Mon</span>
                        </div>
                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 0.25rem;">
                            <div style="width: 100%; background: linear-gradient(180deg, var(--accent-blue), var(--accent-purple)); border-radius: 4px 4px 0 0; height: 62%;"></div>
                            <span style="font-size: 0.65rem; color: var(--text-secondary);">Tue</span>
                        </div>
                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 0.25rem;">
                            <div style="width: 100%; background: linear-gradient(180deg, var(--accent-blue), var(--accent-purple)); border-radius: 4px 4px 0 0; height: 78%;"></div>
                            <span style="font-size: 0.65rem; color: var(--text-secondary);">Wed</span>
                        </div>
                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 0.25rem;">
                            <div style="width: 100%; background: linear-gradient(180deg, var(--accent-blue), var(--accent-purple)); border-radius: 4px 4px 0 0; height: 55%;"></div>
                            <span style="font-size: 0.65rem; color: var(--text-secondary);">Thu</span>
                        </div>
                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 0.25rem;">
                            <div style="width: 100%; background: linear-gradient(180deg, var(--accent-blue), var(--accent-purple)); border-radius: 4px 4px 0 0; height: 92%;"></div>
                            <span style="font-size: 0.65rem; color: var(--text-secondary);">Fri</span>
                        </div>
                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 0.25rem;">
                            <div style="width: 100%; background: linear-gradient(180deg, var(--accent-blue), var(--accent-purple)); border-radius: 4px 4px 0 0; height: 100%;"></div>
                            <span style="font-size: 0.65rem; color: var(--text-secondary);">Sat</span>
                        </div>
                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 0.25rem;">
                            <div style="width: 100%; background: linear-gradient(180deg, var(--accent-blue), var(--accent-purple)); border-radius: 4px 4px 0 0; height: 68%;"></div>
                            <span style="font-size: 0.65rem; color: var(--text-secondary);">Sun</span>
                        </div>
                    </div>
                </div>

                <!-- Traffic Sources -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                    <!-- Device Breakdown -->
                    <div class="resources-section">
                        <h4 style="font-size: 0.85rem; color: var(--text-primary); margin-bottom: 1rem;">Device Type</h4>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div>
                                <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                    <span>Desktop</span><span style="color: var(--accent-blue);">68%</span>
                                </div>
                                <div style="background: var(--bg-tertiary); border-radius: 4px; height: 8px; overflow: hidden;">
                                    <div style="width: 68%; height: 100%; background: var(--accent-blue);"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                    <span>Mobile</span><span style="color: var(--accent-green);">24%</span>
                                </div>
                                <div style="background: var(--bg-tertiary); border-radius: 4px; height: 8px; overflow: hidden;">
                                    <div style="width: 24%; height: 100%; background: var(--accent-green);"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                    <span>Tablet</span><span style="color: var(--accent-orange);">8%</span>
                                </div>
                                <div style="background: var(--bg-tertiary); border-radius: 4px; height: 8px; overflow: hidden;">
                                    <div style="width: 8%; height: 100%; background: var(--accent-orange);"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Top Referrers -->
                    <div class="resources-section">
                        <h4 style="font-size: 0.85rem; color: var(--text-primary); margin-bottom: 1rem;">Top Referrers</h4>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: var(--bg-tertiary); border-radius: 4px;">
                                <span style="font-size: 0.8rem;">Direct / None</span>
                                <span style="font-size: 0.8rem; color: var(--accent-blue); font-weight: 600;">892</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: var(--bg-tertiary); border-radius: 4px;">
                                <span style="font-size: 0.8rem;">github.com</span>
                                <span style="font-size: 0.8rem; color: var(--accent-green); font-weight: 600;">423</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: var(--bg-tertiary); border-radius: 4px;">
                                <span style="font-size: 0.8rem;">diegonmarcos.com</span>
                                <span style="font-size: 0.8rem; color: var(--accent-purple); font-weight: 600;">208</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Audit Logs Tab Content -->
        <div id="audit-logs-tab" class="tab-content">
            <div class="resources-category">
                <h3 class="resources-category-title">Audit Logs</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Security event logs and access history</p>

                <!-- Audit Logs Metrics -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--accent-blue);">1,247</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px;">Total Events (24h)</div>
                        </div>
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--accent-green);">94.2%</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px;">Success Rate</div>
                        </div>
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--accent-red);">47</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px;">Blocked Attempts</div>
                        </div>
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--accent-yellow);">12</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px;">Warnings</div>
                        </div>
                    </div>

                    <!-- Event Type Distribution Charts -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                        <!-- Event Type Donut -->
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem;">
                            <h4 style="font-size: 0.85rem; color: var(--text-primary); margin-bottom: 1rem;">Event Type Distribution</h4>
                            <div style="display: flex; align-items: center; gap: 1.5rem;">
                                <svg viewBox="0 0 42 42" style="width: 100px; height: 100px; flex-shrink: 0;">
                                    <!-- Auth: 45% (green) -->
                                    <circle cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="var(--accent-green)" stroke-width="6" stroke-dasharray="45 55" stroke-dashoffset="25"></circle>
                                    <!-- System: 25% (blue) -->
                                    <circle cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="var(--accent-blue)" stroke-width="6" stroke-dasharray="25 75" stroke-dashoffset="80"></circle>
                                    <!-- Network: 20% (purple) -->
                                    <circle cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="var(--accent-purple)" stroke-width="6" stroke-dasharray="20 80" stroke-dashoffset="55"></circle>
                                    <!-- Security: 10% (orange) -->
                                    <circle cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="var(--accent-orange)" stroke-width="6" stroke-dasharray="10 90" stroke-dashoffset="35"></circle>
                                </svg>
                                <div style="font-size: 0.75rem;">
                                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.4rem;"><span style="width: 10px; height: 10px; background: var(--accent-green); border-radius: 2px;"></span> Authentication <span style="color: var(--text-secondary); margin-left: auto;">45%</span></div>
                                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.4rem;"><span style="width: 10px; height: 10px; background: var(--accent-blue); border-radius: 2px;"></span> System <span style="color: var(--text-secondary); margin-left: auto;">25%</span></div>
                                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.4rem;"><span style="width: 10px; height: 10px; background: var(--accent-purple); border-radius: 2px;"></span> Network <span style="color: var(--text-secondary); margin-left: auto;">20%</span></div>
                                    <div style="display: flex; align-items: center; gap: 0.5rem;"><span style="width: 10px; height: 10px; background: var(--accent-orange); border-radius: 2px;"></span> Security <span style="color: var(--text-secondary); margin-left: auto;">10%</span></div>
                                </div>
                            </div>
                        </div>

                        <!-- Event Status Breakdown -->
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem;">
                            <h4 style="font-size: 0.85rem; color: var(--text-primary); margin-bottom: 1rem;">Status Breakdown</h4>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <div>
                                    <div style="display: flex; justify-content: space-between; font-size: 0.75rem; margin-bottom: 0.25rem;"><span>Success</span><span style="color: var(--accent-green);">1,175</span></div>
                                    <div style="background: var(--bg-tertiary); border-radius: 4px; height: 8px; overflow: hidden;"><div style="width: 94.2%; height: 100%; background: var(--accent-green);"></div></div>
                                </div>
                                <div>
                                    <div style="display: flex; justify-content: space-between; font-size: 0.75rem; margin-bottom: 0.25rem;"><span>Blocked</span><span style="color: var(--accent-red);">47</span></div>
                                    <div style="background: var(--bg-tertiary); border-radius: 4px; height: 8px; overflow: hidden;"><div style="width: 3.8%; height: 100%; background: var(--accent-red);"></div></div>
                                </div>
                                <div>
                                    <div style="display: flex; justify-content: space-between; font-size: 0.75rem; margin-bottom: 0.25rem;"><span>Warning</span><span style="color: var(--accent-yellow);">12</span></div>
                                    <div style="background: var(--bg-tertiary); border-radius: 4px; height: 8px; overflow: hidden;"><div style="width: 1%; height: 100%; background: var(--accent-yellow);"></div></div>
                                </div>
                                <div>
                                    <div style="display: flex; justify-content: space-between; font-size: 0.75rem; margin-bottom: 0.25rem;"><span>Info</span><span style="color: var(--accent-blue);">13</span></div>
                                    <div style="background: var(--bg-tertiary); border-radius: 4px; height: 8px; overflow: hidden;"><div style="width: 1%; height: 100%; background: var(--accent-blue);"></div></div>
                                </div>
                            </div>
                        </div>

                        <!-- Events Over Time -->
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem;">
                            <h4 style="font-size: 0.85rem; color: var(--text-primary); margin-bottom: 1rem;">Events Over Time (24h)</h4>
                            <div style="display: flex; align-items: flex-end; gap: 4px; height: 80px;">
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 35%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 45%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 30%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 25%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 20%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 15%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 40%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 55%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 70%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 85%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 95%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 100%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 90%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 75%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 65%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 80%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 70%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 60%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 55%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 45%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 50%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 40%;"></div>
                                <div style="flex: 1; background: var(--accent-blue); border-radius: 2px 2px 0 0; height: 35%;"></div>
                                <div style="flex: 1; background: var(--accent-green); border-radius: 2px 2px 0 0; height: 60%;"></div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.65rem; color: var(--text-secondary); margin-top: 0.5rem;">
                                <span>00:00</span>
                                <span>06:00</span>
                                <span>12:00</span>
                                <span>18:00</span>
                                <span>Now</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="resources-section">
                    <div style="display: flex; gap: 1rem; margin-bottom: 1rem; flex-wrap: wrap;">
                        <select style="background: var(--bg-card); border: 1px solid var(--border-color); color: var(--text-primary); padding: 0.5rem 1rem; border-radius: 6px; font-size: 0.85rem;">
                            <option>All Events</option>
                            <option>Authentication</option>
                            <option>Authorization</option>
                            <option>System</option>
                            <option>Network</option>
                        </select>
                        <select style="background: var(--bg-card); border: 1px solid var(--border-color); color: var(--text-primary); padding: 0.5rem 1rem; border-radius: 6px; font-size: 0.85rem;">
                            <option>Last 24 hours</option>
                            <option>Last 7 days</option>
                            <option>Last 30 days</option>
                        </select>
                    </div>

                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th>Timestamp</th>
                                    <th>Event</th>
                                    <th>Source</th>
                                    <th>User/IP</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 14:32:18</td>
                                    <td>SSH Login</td>
                                    <td>arch-1 (GCP)</td>
                                    <td>diego@192.168.1.100</td>
                                    <td><span class="status-badge on">SUCCESS</span></td>
                                </tr>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 14:28:45</td>
                                    <td>OAuth2 Token Refresh</td>
                                    <td>auth.diegonmarcos.com</td>
                                    <td>github:diegonmarcos</td>
                                    <td><span class="status-badge on">SUCCESS</span></td>
                                </tr>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 14:15:02</td>
                                    <td>NPM Proxy Access</td>
                                    <td>proxy.diegonmarcos.com</td>
                                    <td>185.220.101.45</td>
                                    <td><span class="status-badge on">ALLOWED</span></td>
                                </tr>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 13:58:33</td>
                                    <td>Failed SSH Attempt</td>
                                    <td>oci-flex-1</td>
                                    <td>root@45.155.205.233</td>
                                    <td><span class="status-badge" style="background: rgba(239,68,68,0.15); color: var(--accent-red); border: 1px solid var(--accent-red);">BLOCKED</span></td>
                                </tr>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 13:45:12</td>
                                    <td>Docker Container Start</td>
                                    <td>arch-1 (GCP)</td>
                                    <td>system</td>
                                    <td><span class="status-badge on">SUCCESS</span></td>
                                </tr>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 13:30:00</td>
                                    <td>SSL Certificate Renewal</td>
                                    <td>npm-proxy</td>
                                    <td>letsencrypt</td>
                                    <td><span class="status-badge on">SUCCESS</span></td>
                                </tr>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 13:12:44</td>
                                    <td>Authelia 2FA Verify</td>
                                    <td>auth.diegonmarcos.com</td>
                                    <td>diego@192.168.1.100</td>
                                    <td><span class="status-badge on">SUCCESS</span></td>
                                </tr>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 12:55:21</td>
                                    <td>Firewall Rule Update</td>
                                    <td>GCP VPC</td>
                                    <td>terraform</td>
                                    <td><span class="status-badge on">APPLIED</span></td>
                                </tr>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 12:30:08</td>
                                    <td>Rate Limit Triggered</td>
                                    <td>cloudflare</td>
                                    <td>91.121.45.78</td>
                                    <td><span class="status-badge" style="background: rgba(251,191,36,0.15); color: var(--accent-yellow); border: 1px solid var(--accent-yellow);">WARN</span></td>
                                </tr>
                                <tr>
                                    <td style="color: var(--text-secondary);">2024-12-22 12:00:00</td>
                                    <td>System Health Check</td>
                                    <td>monitoring</td>
                                    <td>cron</td>
                                    <td><span class="status-badge on">PASS</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                        <span style="color: var(--text-secondary); font-size: 0.8rem;">Showing 10 of 1,247 events</span>
                        <div style="display: flex; gap: 0.5rem;">
                            <button style="background: var(--bg-card); border: 1px solid var(--border-color); color: var(--text-secondary); padding: 0.4rem 0.8rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">Previous</button>
                            <button style="background: var(--bg-card); border: 1px solid var(--border-color); color: var(--text-secondary); padding: 0.4rem 0.8rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">Next</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cost Tab Content -->
        <div id="cost-tab" class="tab-content">
            <!-- Infrastructure Cost Sub-tab -->
            <div id="cost-infra" class="cost-subtab-content active">
            <!-- Cloud Infrastructure Costs - Super Enhanced -->
            <div class="resources-category">
                <h3 class="resources-category-title">
                    <span>Cloud Infrastructure Costs</span>
                    <span id="cloud-costs-updated" style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal; margin-left: 1rem;"></span>
                </h3>

                <!-- Big Hero Banner (like AI Costs) -->
                <div class="ai-cost-hero">
                    <div class="ai-cost-hero-main">
                        <div class="ai-hero-total">
                            <span class="ai-hero-label">Total Cloud Spend (All Time)</span>
                            <span class="ai-hero-value" id="cloud-all-time-spend">€0.83</span>
                            <span class="ai-hero-tokens" id="cloud-total-resources">2 VMs running across 2 providers</span>
                        </div>
                    </div>
                    <div class="ai-cost-hero-cards">
                        <div class="ai-hero-card">
                            <div class="ai-hero-card-value" id="cloud-total-month">€0.83</div>
                            <div class="ai-hero-card-label">This Month</div>
                            <div class="ai-hero-card-sub" id="cloud-month-label">Dec 2025 (8 days)</div>
                        </div>
                        <div class="ai-hero-card">
                            <div class="ai-hero-card-value" id="cloud-projected" style="color: var(--accent-orange);">€3.22</div>
                            <div class="ai-hero-card-label">Projected</div>
                            <div class="ai-hero-card-sub">Full month estimate</div>
                        </div>
                        <div class="ai-hero-card">
                            <div class="ai-hero-card-value" id="cloud-ytd">€0.83</div>
                            <div class="ai-hero-card-label">Year to Date</div>
                            <div class="ai-hero-card-sub">2025 Total</div>
                        </div>
                        <div class="ai-hero-card">
                            <div class="ai-hero-card-value" id="cloud-savings" style="color: var(--success);">€44.17</div>
                            <div class="ai-hero-card-label">Savings</div>
                            <div class="ai-hero-card-sub">98% vs Market</div>
                        </div>
                    </div>
                </div>

                <!-- Provider Distribution Donut (like AI Costs model distribution) -->
                <div class="resources-category">
                    <h3 class="resources-category-title">Provider Cost Distribution (Current Month)</h3>
                    <div class="resources-section">
                        <div class="ai-donut-container">
                            <div class="ai-donut-chart">
                                <svg viewBox="0 0 100 100" class="ai-donut-svg">
                                    <circle cx="50" cy="50" r="40" fill="none" stroke="#1a1a2e" stroke-width="15"/>
                                    <circle cx="50" cy="50" r="40" fill="none" stroke="#F80000" stroke-width="15"
                                        stroke-dasharray="251 251" stroke-dashoffset="0" class="cloud-donut-oci"
                                        transform="rotate(-90 50 50)"/>
                                    <circle cx="50" cy="50" r="40" fill="none" stroke="#4285F4" stroke-width="15"
                                        stroke-dasharray="0 251" stroke-dashoffset="-251" class="cloud-donut-gcp"
                                        transform="rotate(-90 50 50)"/>
                                </svg>
                                <div class="ai-donut-center">
                                    <span class="ai-donut-value" id="cloud-donut-total">€0.83</span>
                                    <span class="ai-donut-label">Total</span>
                                </div>
                            </div>
                            <div class="ai-donut-legend" id="cloud-donut-legend">
                                <div class="ai-donut-legend-item">
                                    <span class="ai-donut-legend-dot" style="background: #F80000;"></span>
                                    <span class="ai-donut-legend-name">Oracle Cloud (OCI)</span>
                                    <span class="ai-donut-legend-value" id="cloud-oci-cost">€0.83</span>
                                    <span class="ai-donut-legend-pct" id="cloud-oci-pct">100%</span>
                                </div>
                                <div class="ai-donut-legend-item">
                                    <span class="ai-donut-legend-dot" style="background: #4285F4;"></span>
                                    <span class="ai-donut-legend-name">Google Cloud (GCP)</span>
                                    <span class="ai-donut-legend-value" id="cloud-gcp-cost">€0.00</span>
                                    <span class="ai-donut-legend-pct" id="cloud-gcp-pct">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Resource Usage by VM -->
                <div class="resources-category">
                    <h3 class="resources-category-title">Resource Usage by VM</h3>

                    <!-- OCI Paid Flex 1 -->
                    <div class="resources-section" style="margin-bottom: 1.5rem;">
                        <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                            OCI Paid Flex 1
                            <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">(1 OCPU, 8 GB RAM, 242 GB)</span>
                        </h4>
                        <div class="resources-table-container">
                            <table class="resources-table" style="font-size: 0.85rem;">
                                <thead>
                                    <tr>
                                        <th style="width: 40%;">Name</th>
                                        <th style="width: 20%;">CPU</th>
                                        <th style="width: 20%;">RAM</th>
                                        <th style="width: 20%;">Storage</th>
                                    </tr>
                                </thead>
                                <tbody id="vm-resources-oci-p-flex_1">
                                    <tr class="vm-row" style="background: var(--bg-card); font-weight: 600;">
                                        <td>VM</td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 15%; background: var(--accent-blue);"></span></span> <span class="usage-val">15%</span></td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 45%; background: var(--accent-green);"></span></span> <span class="usage-val">45%</span></td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 68%; background: var(--accent-orange);"></span></span> <span class="usage-val">68%</span></td>
                                    </tr>
                                                                        <tr class="service-row"><td class="component-name">↳ photoprism</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 15%; background: var(--accent-green);"></span></span> <span class="usage-val">15%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 21%; background: var(--accent-orange);"></span></span> <span class="usage-val">21%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ radicale</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-blue);"></span></span> <span class="usage-val">&lt;1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-green);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-orange);"></span></span> <span class="usage-val">&lt;1%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ cloud-api</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 2%; background: var(--accent-green);"></span></span> <span class="usage-val">2%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-orange);"></span></span> <span class="usage-val">&lt;1%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ openvpn</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-blue);"></span></span> <span class="usage-val">&lt;1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-green);"></span></span> <span class="usage-val">&lt;1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-orange);"></span></span> <span class="usage-val">&lt;1%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ redis</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-green);"></span></span> <span class="usage-val">&lt;1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-orange);"></span></span> <span class="usage-val">&lt;1%</span></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- OCI Free Micro 1 -->
                    <div class="resources-section" style="margin-bottom: 1.5rem;">
                        <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                            OCI Free Micro 1
                            <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">(1 OCPU, 1 GB RAM, 47 GB)</span>
                        </h4>
                        <div class="resources-table-container">
                            <table class="resources-table" style="font-size: 0.85rem;">
                                <thead>
                                    <tr>
                                        <th style="width: 40%;">Name</th>
                                        <th style="width: 20%;">CPU</th>
                                        <th style="width: 20%;">RAM</th>
                                        <th style="width: 20%;">Storage</th>
                                    </tr>
                                </thead>
                                <tbody id="vm-resources-oci-f-micro_1">
                                    <tr class="vm-row" style="background: var(--bg-card); font-weight: 600;">
                                        <td>VM</td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 60%; background: var(--accent-orange);"></span></span> <span class="usage-val">60%</span></td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 27%; background: var(--accent-green);"></span></span> <span class="usage-val">27%</span></td>
                                    </tr>
                                    <tr class="service-row"><td class="component-name">↳ mailu-front</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 8%; background: var(--accent-orange);"></span></span> <span class="usage-val">8%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 2%; background: var(--accent-green);"></span></span> <span class="usage-val">2%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ mailu-admin</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 12%; background: var(--accent-orange);"></span></span> <span class="usage-val">12%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-green);"></span></span> <span class="usage-val">1%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ mailu-imap</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 2%; background: var(--accent-blue);"></span></span> <span class="usage-val">2%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 20%; background: var(--accent-orange);"></span></span> <span class="usage-val">20%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 15%; background: var(--accent-green);"></span></span> <span class="usage-val">15%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ mailu-smtp</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-orange);"></span></span> <span class="usage-val">10%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-green);"></span></span> <span class="usage-val">5%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ mailu-webmail</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 0%; background: var(--accent-blue);"></span></span> <span class="usage-val">&lt;1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-orange);"></span></span> <span class="usage-val">10%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 4%; background: var(--accent-green);"></span></span> <span class="usage-val">4%</span></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- OCI Free Micro 2 -->
                    <div class="resources-section" style="margin-bottom: 1.5rem;">
                        <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                            OCI Free Micro 2
                            <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">(1 OCPU, 1 GB RAM, 47 GB)</span>
                        </h4>
                        <div class="resources-table-container">
                            <table class="resources-table" style="font-size: 0.85rem;">
                                <thead>
                                    <tr>
                                        <th style="width: 40%;">Name</th>
                                        <th style="width: 20%;">CPU</th>
                                        <th style="width: 20%;">RAM</th>
                                        <th style="width: 20%;">Storage</th>
                                    </tr>
                                </thead>
                                <tbody id="vm-resources-oci-f-micro_2">
                                    <tr class="vm-row" style="background: var(--bg-card); font-weight: 600;">
                                        <td>VM</td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 10%; background: var(--accent-blue);"></span></span> <span class="usage-val">10%</span></td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 55%; background: var(--accent-orange);"></span></span> <span class="usage-val">55%</span></td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 20%; background: var(--accent-green);"></span></span> <span class="usage-val">20%</span></td>
                                    </tr>
                                    <tr class="service-row"><td class="component-name">↳ matomo-app</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 25%; background: var(--accent-orange);"></span></span> <span class="usage-val">25%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-green);"></span></span> <span class="usage-val">5%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ matomo-db</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 30%; background: var(--accent-orange);"></span></span> <span class="usage-val">30%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 15%; background: var(--accent-green);"></span></span> <span class="usage-val">15%</span></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- GCP Free Micro 1 -->
                    <div class="resources-section">
                        <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span style="width: 8px; height: 8px; background: #4285F4; border-radius: 50%;"></span>
                            GCP Free Micro 1
                            <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">(0.25 vCPU, 1 GB RAM, 30 GB)</span>
                        </h4>
                        <div class="resources-table-container">
                            <table class="resources-table" style="font-size: 0.85rem;">
                                <thead>
                                    <tr>
                                        <th style="width: 40%;">Name</th>
                                        <th style="width: 20%;">CPU</th>
                                        <th style="width: 20%;">RAM</th>
                                        <th style="width: 20%;">Storage</th>
                                    </tr>
                                </thead>
                                <tbody id="vm-resources-gcp-f-micro_1">
                                    <tr class="vm-row" style="background: var(--bg-card); font-weight: 600;">
                                        <td>VM</td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 20%; background: var(--accent-blue);"></span></span> <span class="usage-val">20%</span></td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 70%; background: var(--accent-orange);"></span></span> <span class="usage-val">70%</span></td>
                                        <td><span class="usage-bar"><span class="usage-fill" style="width: 35%; background: var(--accent-green);"></span></span> <span class="usage-val">35%</span></td>
                                    </tr>
                                    <tr class="service-row"><td class="component-name">↳ npm</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 8%; background: var(--accent-blue);"></span></span> <span class="usage-val">8%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 25%; background: var(--accent-orange);"></span></span> <span class="usage-val">25%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-green);"></span></span> <span class="usage-val">10%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ authelia</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 3%; background: var(--accent-blue);"></span></span> <span class="usage-val">3%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 15%; background: var(--accent-orange);"></span></span> <span class="usage-val">15%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-green);"></span></span> <span class="usage-val">5%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ authelia-redis</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-blue);"></span></span> <span class="usage-val">1%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-orange);"></span></span> <span class="usage-val">10%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 3%; background: var(--accent-green);"></span></span> <span class="usage-val">3%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ wireguard</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 5%; background: var(--accent-blue);"></span></span> <span class="usage-val">5%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-orange);"></span></span> <span class="usage-val">10%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-green);"></span></span> <span class="usage-val">1%</span></td></tr>
                                    <tr class="service-row"><td class="component-name">↳ oauth2-proxy</td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 3%; background: var(--accent-blue);"></span></span> <span class="usage-val">3%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 10%; background: var(--accent-orange);"></span></span> <span class="usage-val">10%</span></td><td><span class="usage-bar-sm"><span class="usage-fill" style="width: 1%; background: var(--accent-green);"></span></span> <span class="usage-val">1%</span></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Monthly Cost Bar Chart (like AI Daily Cost) -->
                <div class="resources-category">
                    <h3 class="resources-category-title">Monthly Cost Trend</h3>
                    <div class="resources-section">
                        <div class="ai-bar-chart" id="cloud-monthly-chart" style="height: 150px; display: flex; align-items: flex-end; gap: 0.5rem; padding: 1rem 0;">
                            <!-- Rendered by JS -->
                        </div>
                        <div class="ai-chart-legend">
                            <span class="ai-legend-item"><span class="ai-legend-dot" style="background: #F80000;"></span>OCI</span>
                            <span class="ai-legend-item"><span class="ai-legend-dot" style="background: #4285F4;"></span>GCP</span>
                        </div>
                    </div>
                </div>

                <!-- Service Details Table -->
                <div class="resources-category">
                    <h3 class="resources-category-title">Service Breakdown (Current Month)</h3>
                    <div class="resources-section">
                        <div class="resources-table-container">
                            <table class="resources-table" id="cloud-services-table">
                                <thead>
                                    <tr>
                                        <th>Provider</th>
                                        <th>Service</th>
                                        <th>Description</th>
                                        <th>Usage</th>
                                        <th>Cost</th>
                                        <th>Visual</th>
                                    </tr>
                                </thead>
                                <tbody id="cloud-services-tbody">
                                    <tr>
                                        <td colspan="6" style="text-align: center; color: var(--text-secondary);">
                                            Loading cloud costs data...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Free Tier Usage (like Weekly Breakdown) -->
                <div class="resources-category">
                    <h3 class="resources-category-title">Free Tier Utilization</h3>
                    <div class="resources-section">
                        <div id="cloud-free-tier-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                            <!-- OCI Free Tier -->
                            <div style="background: var(--bg-tertiary); border-radius: 12px; padding: 1rem; border-left: 4px solid #F80000;">
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                                    <div style="width: 32px; height: 32px; background: #F80000; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" width="18" height="18">
                                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div style="font-weight: 600; color: var(--text-primary);">Oracle Cloud (OCI)</div>
                                        <div style="font-size: 0.75rem; color: var(--text-secondary);">Always Free Tier</div>
                                    </div>
                                </div>
                                <div id="oci-free-tier-bars">
                                    <div style="margin-bottom: 0.75rem;">
                                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                            <span>Compute (ARM)</span><span style="color: var(--text-secondary);">0%</span>
                                        </div>
                                        <div style="height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden;">
                                            <div style="height: 100%; width: 0%; background: linear-gradient(90deg, #22c55e, #4ade80); border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">0 of 4 OCPU + 24 GB (Available)</div>
                                    </div>
                                    <div style="margin-bottom: 0.75rem;">
                                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                            <span>Block Storage</span><span style="color: var(--success);">25%</span>
                                        </div>
                                        <div style="height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden;">
                                            <div style="height: 100%; width: 25%; background: #22c55e; border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">~94 GB of 200 GB (2x47 GB free micro)</div>
                                    </div>
                                    <div style="margin-bottom: 0.75rem;">
                                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                            <span>Object Storage</span><span style="color: var(--success);">1%</span>
                                        </div>
                                        <div style="height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden;">
                                            <div style="height: 100%; width: 1%; background: #22c55e; border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">< 1 GB of 20 GB</div>
                                    </div>
                                    <div>
                                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                            <span>VCN Egress</span><span style="color: var(--success);">0%</span>
                                        </div>
                                        <div style="height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden;">
                                            <div style="height: 100%; width: 0.01%; background: #22c55e; border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">< 1 GB of 10 TB/month</div>
                                    </div>
                                </div>
                            </div>
                            <!-- GCP Free Tier -->
                            <div style="background: var(--bg-tertiary); border-radius: 12px; padding: 1rem; border-left: 4px solid #4285F4;">
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                                    <div style="width: 32px; height: 32px; background: #4285F4; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" width="18" height="18">
                                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div style="font-weight: 600; color: var(--text-primary);">Google Cloud (GCP)</div>
                                        <div style="font-size: 0.75rem; color: var(--text-secondary);">Free Tier</div>
                                    </div>
                                </div>
                                <div id="gcp-free-tier-bars">
                                    <div style="margin-bottom: 0.75rem;">
                                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                            <span>Compute Engine</span><span style="color: var(--accent-orange);">100%</span>
                                        </div>
                                        <div style="height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden;">
                                            <div style="height: 100%; width: 100%; background: linear-gradient(90deg, #4285F4, #66aaff); border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">1 e2-micro of 1 e2-micro (730 hrs/mo)</div>
                                    </div>
                                    <div style="margin-bottom: 0.75rem;">
                                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                            <span>Cloud Storage</span><span style="color: var(--success);">10%</span>
                                        </div>
                                        <div style="height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden;">
                                            <div style="height: 100%; width: 10%; background: #22c55e; border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">< 1 GB of 5 GB</div>
                                    </div>
                                    <div style="margin-bottom: 0.75rem;">
                                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                            <span>Cloud DNS</span><span style="color: var(--success);">4%</span>
                                        </div>
                                        <div style="height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden;">
                                            <div style="height: 100%; width: 4%; background: #22c55e; border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">1 zone of 25 zones</div>
                                    </div>
                                    <div>
                                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.25rem;">
                                            <span>Network Egress</span><span style="color: var(--accent-orange);">50%</span>
                                        </div>
                                        <div style="height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden;">
                                            <div style="height: 100%; width: 50%; background: #fbbf24; border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">~0.5 GB of 1 GB/month</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Market Comparison (Enhanced) -->
                <div class="resources-category">
                    <h3 class="resources-category-title">Market Comparison</h3>
                    <div class="resources-section">
                        <div id="cloud-market-comparison" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, var(--bg-tertiary) 100%); border-radius: 12px; padding: 1.5rem; border: 1px solid rgba(34, 197, 94, 0.3);">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; align-items: center;">
                                <div style="text-align: center;">
                                    <div style="font-size: 2.5rem; font-weight: 700; color: var(--success);">98%</div>
                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">Cost Savings</div>
                                </div>
                                <div>
                                    <div style="margin-bottom: 1rem;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                            <span style="color: var(--text-secondary);">Your Cost</span>
                                            <span style="font-weight: 600; color: var(--success);">€0.83/mo</span>
                                        </div>
                                        <div style="height: 12px; background: var(--bg-secondary); border-radius: 6px; overflow: hidden;">
                                            <div style="height: 100%; width: 2%; background: linear-gradient(90deg, #22c55e, #4ade80); border-radius: 6px;"></div>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 1rem;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                            <span style="color: var(--text-secondary);">AWS Equivalent</span>
                                            <span style="color: #ff6b6b;">€45.00/mo</span>
                                        </div>
                                        <div style="height: 12px; background: var(--bg-secondary); border-radius: 6px; overflow: hidden;">
                                            <div style="height: 100%; width: 100%; background: linear-gradient(90deg, #ff6b6b, #ff8888); border-radius: 6px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-tertiary); margin-top: 0.25rem;">t3.medium + 50GB EBS</div>
                                    </div>
                                    <div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                            <span style="color: var(--text-secondary);">Azure Equivalent</span>
                                            <span style="color: #f472b6;">€42.00/mo</span>
                                        </div>
                                        <div style="height: 12px; background: var(--bg-secondary); border-radius: 6px; overflow: hidden;">
                                            <div style="height: 100%; width: 93%; background: linear-gradient(90deg, #f472b6, #f9a8d4); border-radius: 6px;"></div>
                                        </div>
                                        <div style="font-size: 0.7rem; color: var(--text-tertiary); margin-top: 0.25rem;">B2s + 50GB SSD</div>
                                    </div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                                    <div style="font-size: 1.5rem; font-weight: 600; color: var(--success);">€44.17</div>
                                    <div style="color: var(--text-secondary); font-size: 0.8rem;">Monthly Savings</div>
                                    <div style="margin-top: 0.5rem; font-size: 0.75rem; color: var(--text-tertiary);">€530/year saved</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div><!-- End Infrastructure Cost Sub-tab -->

            <!-- AI Cost Sub-tab -->
            <div id="cost-ai" class="cost-subtab-content">

            <!-- AI Cost Hero Summary -->
            <div class="ai-cost-hero">
                <div class="ai-cost-hero-main">
                    <div class="ai-hero-total">
                        <span class="ai-hero-label">Total AI Spend (All Time)</span>
                        <span class="ai-hero-value" id="ai-total-spend">$1,679.87</span>
                        <span class="ai-hero-tokens" id="ai-total-tokens">1.97B tokens processed</span>
                    </div>
                </div>
                <div class="ai-cost-hero-cards">
                    <div class="ai-hero-card">
                        <div class="ai-hero-card-value" id="ai-month-spend">$953.86</div>
                        <div class="ai-hero-card-label">This Month</div>
                        <div class="ai-hero-card-sub" id="ai-month-days">Dec 2025 (8 days)</div>
                    </div>
                    <div class="ai-hero-card">
                        <div class="ai-hero-card-value" id="ai-week-spend">$335.69</div>
                        <div class="ai-hero-card-label">This Week</div>
                        <div class="ai-hero-card-sub">Week of Dec 7</div>
                    </div>
                    <div class="ai-hero-card">
                        <div class="ai-hero-card-value" id="ai-today-spend">$88.91</div>
                        <div class="ai-hero-card-label">Today</div>
                        <div class="ai-hero-card-sub" id="ai-today-date">Dec 8, 2025</div>
                    </div>
                    <div class="ai-hero-card">
                        <div class="ai-hero-card-value" id="ai-avg-daily">$76.36</div>
                        <div class="ai-hero-card-label">Avg Daily</div>
                        <div class="ai-hero-card-sub">Last 21 days</div>
                    </div>
                </div>
            </div>

            <!-- Daily Cost Bar Chart -->
            <div class="resources-category">
                <h3 class="resources-category-title">Daily Cost Trend (Last 21 Days)</h3>
                <div class="resources-section">
                    <div class="ai-bar-chart" id="ai-daily-chart">
                        <!-- Bars will be rendered by JS -->
                    </div>
                    <div class="ai-chart-legend">
                        <span class="ai-legend-item"><span class="ai-legend-dot" style="background: #a855f7;"></span>Opus</span>
                        <span class="ai-legend-item"><span class="ai-legend-dot" style="background: #3b82f6;"></span>Sonnet</span>
                        <span class="ai-legend-item"><span class="ai-legend-dot" style="background: #22c55e;"></span>Haiku</span>
                    </div>
                </div>
            </div>

            <!-- Model Distribution Donut -->
            <div class="resources-category">
                <h3 class="resources-category-title">Model Cost Distribution (All Time)</h3>
                <div class="resources-section">
                    <div class="ai-donut-container">
                        <div class="ai-donut-chart">
                            <svg viewBox="0 0 100 100" class="ai-donut-svg">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="#1a1a2e" stroke-width="15"/>
                                <circle cx="50" cy="50" r="40" fill="none" stroke="#a855f7" stroke-width="15"
                                    stroke-dasharray="205 251" stroke-dashoffset="0" class="ai-donut-opus"/>
                                <circle cx="50" cy="50" r="40" fill="none" stroke="#3b82f6" stroke-width="15"
                                    stroke-dasharray="43 251" stroke-dashoffset="-205" class="ai-donut-sonnet"/>
                                <circle cx="50" cy="50" r="40" fill="none" stroke="#22c55e" stroke-width="15"
                                    stroke-dasharray="3 251" stroke-dashoffset="-248" class="ai-donut-haiku"/>
                            </svg>
                            <div class="ai-donut-center">
                                <span class="ai-donut-value">$1,679</span>
                                <span class="ai-donut-label">Total</span>
                            </div>
                        </div>
                        <div class="ai-donut-legend">
                            <div class="ai-donut-legend-item">
                                <span class="ai-donut-legend-dot" style="background: #a855f7;"></span>
                                <span class="ai-donut-legend-name">Claude Opus 4.5</span>
                                <span class="ai-donut-legend-value">$1,372.18</span>
                                <span class="ai-donut-legend-pct">81.7%</span>
                            </div>
                            <div class="ai-donut-legend-item">
                                <span class="ai-donut-legend-dot" style="background: #3b82f6;"></span>
                                <span class="ai-donut-legend-name">Claude Sonnet 4.5</span>
                                <span class="ai-donut-legend-value">$287.32</span>
                                <span class="ai-donut-legend-pct">17.1%</span>
                            </div>
                            <div class="ai-donut-legend-item">
                                <span class="ai-donut-legend-dot" style="background: #22c55e;"></span>
                                <span class="ai-donut-legend-name">Claude Haiku 4.5</span>
                                <span class="ai-donut-legend-value">$19.82</span>
                                <span class="ai-donut-legend-pct">1.2%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Token Usage Statistics -->
            <div class="resources-category">
                <h3 class="resources-category-title">Token Usage Statistics</h3>
                <div class="resources-section">
                    <div class="ai-token-grid">
                        <div class="ai-token-card">
                            <div class="ai-token-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                                </svg>
                            </div>
                            <div class="ai-token-content">
                                <div class="ai-token-value" id="ai-input-tokens">1.12M</div>
                                <div class="ai-token-label">Input Tokens</div>
                                <div class="ai-token-bar">
                                    <div class="ai-token-bar-fill" style="width: 0.06%; background: #4ade80;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="ai-token-card">
                            <div class="ai-token-icon" style="color: #f472b6;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="7 10 12 15 17 10"/>
                                    <line x1="12" y1="15" x2="12" y2="3"/>
                                </svg>
                            </div>
                            <div class="ai-token-content">
                                <div class="ai-token-value" id="ai-output-tokens">3.25M</div>
                                <div class="ai-token-label">Output Tokens</div>
                                <div class="ai-token-bar">
                                    <div class="ai-token-bar-fill" style="width: 0.16%; background: #f472b6;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="ai-token-card">
                            <div class="ai-token-icon" style="color: #fbbf24;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83"/>
                                    <circle cx="12" cy="12" r="4"/>
                                </svg>
                            </div>
                            <div class="ai-token-content">
                                <div class="ai-token-value" id="ai-cache-create">152.9M</div>
                                <div class="ai-token-label">Cache Creation</div>
                                <div class="ai-token-bar">
                                    <div class="ai-token-bar-fill" style="width: 7.75%; background: #fbbf24;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="ai-token-card">
                            <div class="ai-token-icon" style="color: #2dd4bf;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.342a2 2 0 0 0-.602-1.43l-4.44-4.342A2 2 0 0 0 13.56 2H6a2 2 0 0 0-2 2z"/>
                                    <path d="M14 2v4a2 2 0 0 0 2 2h4"/>
                                </svg>
                            </div>
                            <div class="ai-token-content">
                                <div class="ai-token-value" id="ai-cache-read">1.82B</div>
                                <div class="ai-token-label">Cache Read (92%)</div>
                                <div class="ai-token-bar">
                                    <div class="ai-token-bar-fill" style="width: 92%; background: #2dd4bf;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Weekly Breakdown -->
            <div class="resources-category">
                <h3 class="resources-category-title">Weekly Cost Breakdown</h3>
                <div class="resources-section">
                    <div class="ai-weekly-bars" id="ai-weekly-chart">
                        <!-- Generated by JS -->
                    </div>
                </div>
            </div>

            <!-- Session Cost Breakdown -->
            <div class="resources-category">
                <h3 class="resources-category-title">Top Projects by Cost</h3>
                <div class="resources-section">
                    <div class="ai-session-list" id="ai-session-list">
                        <!-- Generated by JS -->
                    </div>
                </div>
            </div>

            <!-- Monthly Cost Table -->
            <div class="resources-category">
                <h3 class="resources-category-title">Monthly Summary</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table">
                            <thead>
                                <tr>
                                    <th>Month</th>
                                    <th>Opus</th>
                                    <th>Sonnet</th>
                                    <th>Haiku</th>
                                    <th>Total</th>
                                    <th>Visual</th>
                                </tr>
                            </thead>
                            <tbody id="monthly-cost-table">
                                <tr>
                                    <td colspan="6" style="text-align: center; color: var(--text-secondary);">
                                        Loading monthly data...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Daily Cost Table with Visual Bars -->
            <div class="resources-category">
                <h3 class="resources-category-title">Daily Cost Log (Last 21 Days)</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Opus</th>
                                    <th>Sonnet</th>
                                    <th>Haiku</th>
                                    <th>Total</th>
                                    <th>Visual</th>
                                </tr>
                            </thead>
                            <tbody id="daily-cost-table">
                                <tr>
                                    <td colspan="6" style="text-align: center; color: var(--text-secondary);">
                                        Loading daily data...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>



            <!-- AI Model Pricing Reference -->
            <div class="resources-category">
                <h3 class="resources-category-title">AI Model Pricing Reference</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table">
                            <thead>
                                <tr>
                                    <th>Provider</th>
                                    <th>Model</th>
                                    <th>Input $/1M</th>
                                    <th>Output $/1M</th>
                                    <th>Cache Read</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td colspan="7" style="background: var(--bg-tertiary); font-weight: bold;">Anthropic (Claude)</td></tr>
                                <tr>
                                    <td>Anthropic</td>
                                    <td><strong>Claude Opus 4.5</strong></td>
                                    <td>$15.00</td>
                                    <td>$75.00</td>
                                    <td>$1.50</td>
                                    <td>API</td>
                                    <td><span class="status-badge on">Active</span></td>
                                </tr>
                                <tr>
                                    <td>Anthropic</td>
                                    <td><strong>Claude Sonnet 4.5</strong></td>
                                    <td>$3.00</td>
                                    <td>$15.00</td>
                                    <td>$0.30</td>
                                    <td>API</td>
                                    <td><span class="status-badge on">Active</span></td>
                                </tr>
                                <tr>
                                    <td>Anthropic</td>
                                    <td><strong>Claude Haiku 4.5</strong></td>
                                    <td>$0.80</td>
                                    <td>$4.00</td>
                                    <td>$0.08</td>
                                    <td>API</td>
                                    <td><span class="status-badge on">Active</span></td>
                                </tr>
                                <tr><td colspan="7" style="background: var(--bg-tertiary); font-weight: bold;">Google (Gemini)</td></tr>
                                <tr>
                                    <td>Google</td>
                                    <td><strong>Gemini 2.0 Flash</strong></td>
                                    <td>$0.10</td>
                                    <td>$0.40</td>
                                    <td>$0.025</td>
                                    <td>API</td>
                                    <td><span class="status-badge pending">Planned</span></td>
                                </tr>
                                <tr><td colspan="7" style="background: var(--bg-tertiary); font-weight: bold;">Local (Self-hosted)</td></tr>
                                <tr>
                                    <td>Local</td>
                                    <td><strong>DeepSeek R1</strong></td>
                                    <td>$0.00</td>
                                    <td>$0.00</td>
                                    <td>-</td>
                                    <td>Local</td>
                                    <td><span class="status-badge dev">Dev</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            </div><!-- End AI Cost Sub-tab -->

        </div><!-- End Cost Tab -->

        <!-- Apps Tab Content -->
        <div id="apps-tab" class="tab-content">
            <div class="apps-cards-grid">
                <!-- Cloud Monitor Card -->
                <div class="app-card">
                    <div class="app-card-header">
                        <div class="app-card-icon" style="background: linear-gradient(135deg, #10b981, #059669);">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                            </svg>
                        </div>
                        <h3 class="app-card-title">Cloud Monitor</h3>
                    </div>
                    <div class="app-card-body">
                        <div class="app-card-section">
                            <h4 class="app-card-section-title">Infra</h4>
                            <ul class="app-card-list">
                                <li><span class="app-card-dot healthy"></span>Health Status</li>
                                <li><span class="app-card-dot perf"></span>Performance Metrics</li>
                            </ul>
                        </div>
                        <div class="app-card-section">
                            <h4 class="app-card-section-title">Security</h4>
                            <ul class="app-card-list">
                                <li><span class="app-card-dot sync"></span>Sync Status</li>
                                <li><span class="app-card-dot sauron"></span>Sauron (Intrusion Detection)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="app-card-footer">
                        <span class="app-card-badge live">Live Data</span>
                        <span class="app-card-status">Coming Soon</span>
                    </div>
                </div>

                <!-- Cloud Debug Card -->
                <div class="app-card">
                    <div class="app-card-header">
                        <div class="app-card-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 20h9"/>
                                <path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
                            </svg>
                        </div>
                        <h3 class="app-card-title">Cloud Debug</h3>
                    </div>
                    <div class="app-card-body">
                        <div class="app-card-section">
                            <h4 class="app-card-section-title">Topology Tables</h4>
                            <p class="app-card-desc">Visual infrastructure topology with relationships</p>
                        </div>
                        <div class="app-card-section">
                            <h4 class="app-card-section-title">Library of Commands</h4>
                            <ul class="app-card-list">
                                <li><span class="app-card-dot ssh"></span>SSH Commands</li>
                                <li><span class="app-card-dot docker"></span>Docker Commands</li>
                                <li><span class="app-card-dot system"></span>System Commands</li>
                            </ul>
                        </div>
                    </div>
                    <div class="app-card-footer">
                        <span class="app-card-badge tools">Dev Tools</span>
                        <span class="app-card-status">Coming Soon</span>
                    </div>
                </div>

                <!-- Cloud Audit Sync Card -->
                <div class="app-card">
                    <div class="app-card-header">
                        <div class="app-card-icon" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="17 8 12 3 7 8"/>
                                <line x1="12" y1="3" x2="12" y2="15"/>
                            </svg>
                        </div>
                        <h3 class="app-card-title">Cloud Audit Sync</h3>
                    </div>
                    <div class="app-card-body">
                        <div class="app-card-section">
                            <h4 class="app-card-section-title">Data Collectors</h4>
                            <p class="app-card-desc">Automated infrastructure data collection agents</p>
                        </div>
                        <div class="app-card-section">
                            <h4 class="app-card-section-title">Consolidation</h4>
                            <ul class="app-card-list">
                                <li><span class="app-card-dot logs"></span>Log Aggregation</li>
                                <li><span class="app-card-dot info"></span>Info Consolidation</li>
                            </ul>
                        </div>
                    </div>
                    <div class="app-card-footer">
                        <span class="app-card-badge audit">Audit</span>
                        <span class="app-card-status">Coming Soon</span>
                    </div>
                </div>
            </div>
        </div><!-- End Apps Tab -->

        <!-- Monitor Security Tab Content -->
        <div id="security-tab" class="tab-content">
            <!-- VM Public Ports Audit -->
            <div class="resources-category">
                <h3 class="resources-category-title">Public Ports Audit</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1rem;">Open ports per VM - Firewall rules vs Docker published ports (Docker can bypass firewall!)</p>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th style="width: 15%;">VM</th>
                                    <th style="width: 30%;">Firewall Open Ports</th>
                                    <th style="width: 35%;">Docker Published Ports</th>
                                    <th style="width: 10%;">Mismatch</th>
                                    <th style="width: 10%;">Risk</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span style="display: inline-flex; align-items: center; gap: 0.4rem;"><span style="width: 8px; height: 8px; background: #4285F4; border-radius: 50%;"></span><strong>gcp-f-micro_1</strong></span></td>
                                    <td><code style="background: var(--bg-tertiary); padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 0.75rem;">22, 80, 443, 81, 9091</code></td>
                                    <td><code style="background: var(--bg-tertiary); padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 0.75rem;">80:80, 443:443, 81:81, 9091:9091</code></td>
                                    <td><span style="color: var(--accent-green);">None</span></td>
                                    <td><span class="status-badge on">LOW</span></td>
                                </tr>
                                <tr>
                                    <td><span style="display: inline-flex; align-items: center; gap: 0.4rem;"><span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span><strong>oci-p-flex_1</strong></span></td>
                                    <td><code style="background: var(--bg-tertiary); padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 0.75rem;">22, 51820</code></td>
                                    <td><code style="background: var(--bg-tertiary); padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 0.75rem;">51820:51820/udp, 127.0.0.1:2342:2342</code></td>
                                    <td><span style="color: var(--accent-green);">None</span></td>
                                    <td><span class="status-badge on">LOW</span></td>
                                </tr>
                                <tr>
                                    <td><span style="display: inline-flex; align-items: center; gap: 0.4rem;"><span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span><strong>oci-f-micro_1</strong></span></td>
                                    <td><code style="background: var(--bg-tertiary); padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 0.75rem;">22, 25, 465, 587, 993, 995</code></td>
                                    <td><code style="background: var(--bg-tertiary); padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 0.75rem;">25:25, 465:465, 587:587, 993:993, 995:995, 143:143</code></td>
                                    <td><span style="color: var(--accent-yellow);">143</span></td>
                                    <td><span class="status-badge" style="background: rgba(251,191,36,0.15); color: var(--accent-yellow); border: 1px solid var(--accent-yellow);">MED</span></td>
                                </tr>
                                <tr>
                                    <td><span style="display: inline-flex; align-items: center; gap: 0.4rem;"><span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span><strong>oci-f-micro_2</strong></span></td>
                                    <td><code style="background: var(--bg-tertiary); padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 0.75rem;">22</code></td>
                                    <td><code style="background: var(--bg-tertiary); padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 0.75rem;">127.0.0.1:8080:80</code></td>
                                    <td><span style="color: var(--accent-green);">None</span></td>
                                    <td><span class="status-badge on">LOW</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div style="margin-top: 1rem; padding: 0.75rem; background: rgba(251,191,36,0.1); border: 1px solid rgba(251,191,36,0.3); border-radius: 6px; font-size: 0.8rem;">
                        <strong style="color: var(--accent-yellow);">Warning:</strong> <span style="color: var(--text-secondary);">Docker with <code>-p HOST:CONTAINER</code> publishes ports directly, bypassing iptables/firewalld rules. Always use <code>127.0.0.1:PORT:PORT</code> for internal services and proxy through NPM.</span>
                    </div>
                </div>
            </div>

            <!-- Security Services Section -->
            <div class="resources-category">
                <h3 class="resources-category-title">Security Services</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Security services status and monitoring</p>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table">
                            <thead>
                                <tr>
                                    <th>Service</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                    <th>Location</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>MyVault</strong></td>
                                    <td>Password Manager</td>
                                    <td>Bitwarden EU - Secure credential storage</td>
                                    <td>vault.bitwarden.eu (SaaS)</td>
                                    <td><span class="status-badge on">ON</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Authelia</strong></td>
                                    <td>2FA Gateway</td>
                                    <td>TOTP authentication for protected services</td>
                                    <td>GCP Micro 1 (34.55.55.234:9091)</td>
                                    <td><span class="status-badge on">ON</span></td>
                                </tr>
                                <tr>
                                    <td><strong>OAuth2 Proxy</strong></td>
                                    <td>Admin Auth</td>
                                    <td>GitHub OAuth2 for cloud_dash, photos, mail</td>
                                    <td>GCP Micro 1</td>
                                    <td><span class="status-badge on">ON</span></td>
                                </tr>
                                <tr>
                                    <td><strong>NPM + SSL</strong></td>
                                    <td>TLS Termination</td>
                                    <td>Let's Encrypt certificates with auto-renewal</td>
                                    <td>GCP Micro 1 (Central NPM)</td>
                                    <td><span class="status-badge on">ON</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Docker Networks</strong></td>
                                    <td>Network Isolation</td>
                                    <td>Segmented: public_net, private_net, db_bridge</td>
                                    <td>OCI Flex 1</td>
                                    <td><span class="status-badge on">ON</span></td>
                                </tr>
                                <tr>
                                    <td><strong>SSH Keys</strong></td>
                                    <td>Access Control</td>
                                    <td>Key-based auth for all VMs - no passwords</td>
                                    <td>All VMs</td>
                                    <td><span class="status-badge on">ON</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Cloud Firewalls</strong></td>
                                    <td>Network Security</td>
                                    <td>OCI Security Lists + GCP Firewall Rules</td>
                                    <td>OCI + GCP</td>
                                    <td><span class="status-badge on">ON</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Gmail SMTP Relay</strong></td>
                                    <td>Notifications</td>
                                    <td>App Password auth for Authelia alerts</td>
                                    <td>Gmail (SaaS)</td>
                                    <td><span class="status-badge on">ON</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Security Layers Section -->
            <div class="resources-category">
                <h3 class="resources-category-title">Security Layers</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table">
                            <thead>
                                <tr>
                                    <th>Layer</th>
                                    <th>Components</th>
                                    <th>Purpose</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>1. Network Edge</strong></td>
                                    <td>Cloud Firewalls, UFW, Fail2Ban</td>
                                    <td>Block unauthorized access at perimeter</td>
                                </tr>
                                <tr>
                                    <td><strong>2. Traffic Routing</strong></td>
                                    <td>NPM Proxy, TLS/SSL, Rate Limiting</td>
                                    <td>Secure transport and HTTPS termination</td>
                                </tr>
                                <tr>
                                    <td><strong>3. Authentication</strong></td>
                                    <td>Authelia 2FA, OAuth 2.0 (GitHub)</td>
                                    <td>Verify identity with multi-factor auth</td>
                                </tr>
                                <tr>
                                    <td><strong>4. Application</strong></td>
                                    <td>Docker Networks, Container Isolation</td>
                                    <td>Limit blast radius with segmentation</td>
                                </tr>
                                <tr>
                                    <td><strong>5. Data</strong></td>
                                    <td>Encrypted volumes, Separate DBs</td>
                                    <td>Protect data at rest</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Docker Networks Section -->
            <div class="resources-category">
                <h3 class="resources-category-title">Docker Network Segmentation</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table">
                            <thead>
                                <tr>
                                    <th>VM</th>
                                    <th>Network Name</th>
                                    <th>Subnet</th>
                                    <th>Purpose</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>oci-f-micro_1</td>
                                    <td>mail_network</td>
                                    <td>172.20.0.0/24</td>
                                    <td>Mail services (Mailu)</td>
                                </tr>
                                <tr>
                                    <td>oci-f-micro_2</td>
                                    <td>matomo_network</td>
                                    <td>172.21.0.0/24</td>
                                    <td>Analytics stack</td>
                                </tr>
                                <tr>
                                    <td>gcp-f-micro_1</td>
                                    <td>proxy_network</td>
                                    <td>172.23.0.0/24</td>
                                    <td>NPM proxy + Authelia</td>
                                </tr>
                                <tr>
                                    <td>oci-p-flex_1</td>
                                    <td>dev_network</td>
                                    <td>172.24.0.0/24</td>
                                    <td>Services (photos, calendar)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- VPN Tunneling Section -->
            <div class="resources-category">
                <h3 class="resources-category-title">VPN & Tunneling</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table">
                            <thead>
                                <tr>
                                    <th>Service</th>
                                    <th>Protocol</th>
                                    <th>Port</th>
                                    <th>Purpose</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>WireGuard Tunnel</strong></td>
                                    <td>WireGuard</td>
                                    <td>51820/UDP</td>
                                    <td>GCP to OCI secure tunnel for backend services</td>
                                    <td><span class="status-badge on">ON</span></td>
                                </tr>
                                <tr>
                                    <td><strong>OpenVPN</strong></td>
                                    <td>OpenVPN</td>
                                    <td>1194/UDP</td>
                                    <td>Client VPN for admin access</td>
                                    <td><span class="status-badge dev">DEV</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Cloudflare Tunnel</strong></td>
                                    <td>cloudflared</td>
                                    <td>-</td>
                                    <td>Zero-trust access (alternative)</td>
                                    <td><span class="status-badge hold">HOLD</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Authelia 2FA Flow Section -->
            <div class="resources-category">
                <h3 class="resources-category-title">Authelia 2FA Flow</h3>
                <div class="resources-section" style="font-family: var(--font-mono); font-size: 0.75rem; line-height: 1.6; white-space: pre; overflow-x: auto; padding: 1.5rem; background: var(--bg-secondary);">Browser Request: photos.diegonmarcos.com
        |
        v
+-----------------+
|   CLOUDFLARE    |  DNS: 34.55.55.234 (GCP)
+-----------------+
        |
        v
+-----------------+
|   GCP NPM       |  Nginx Proxy Manager
|   auth_request  |---> Authelia (localhost:9091)
+-----------------+           |
        |                     v
        |            [No Session?]
        |                     |
        v                     v
  REDIRECT 302     auth.diegonmarcos.com
        |                (Login + TOTP)
        |                     |
        v                     v
[Cookie Set]      authelia_session cookie
        |          (domain: diegonmarcos.com)
        v
+-----------------+
|  WireGuard VPN  |  10.0.0.1 -> 10.0.0.2
+-----------------+
        |
        v
+-----------------+
|  OCI Photoprism |  Backend service (10.0.0.2:2342)
+-----------------+</div>
            </div>

            <!-- SSO Section -->
            <div class="resources-category">
                <h3 class="resources-category-title">SSO Across Subdomains</h3>
                <div class="resources-section">
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">Single Sign-On via shared Authelia session cookie (domain: diegonmarcos.com)</p>
                    <div class="resources-table-container">
                        <table class="resources-table">
                            <thead>
                                <tr>
                                    <th>Protected Subdomain</th>
                                    <th>Service</th>
                                    <th>Auth Level</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>photos.diegonmarcos.com</td>
                                    <td>Photoprism Gallery</td>
                                    <td>2FA (TOTP)</td>
                                    <td><span class="status-badge on">Protected</span></td>
                                </tr>
                                <tr>
                                    <td>cloud.diegonmarcos.com</td>
                                    <td>Cloud Dashboard</td>
                                    <td>OAuth2 (GitHub)</td>
                                    <td><span class="status-badge on">Protected</span></td>
                                </tr>
                                <tr>
                                    <td>cal.diegonmarcos.com</td>
                                    <td>Calendar (Radicale)</td>
                                    <td>Basic Auth</td>
                                    <td><span class="status-badge on">Protected</span></td>
                                </tr>
                                                                <tr>
                                    <td>mail.diegonmarcos.com</td>
                                    <td>Mailu Admin</td>
                                    <td>2FA (TOTP)</td>
                                    <td><span class="status-badge on">Protected</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- API OAuth Section -->
            <div class="resources-category">
                <h3 class="resources-category-title">API OAuth Integration</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table">
                            <thead>
                                <tr>
                                    <th>Application</th>
                                    <th>OAuth Provider</th>
                                    <th>Scopes</th>
                                    <th>Purpose</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Cloud Dashboard</strong></td>
                                    <td>GitHub OAuth2</td>
                                    <td>read:user, workflow</td>
                                    <td>Admin authentication, workflow dispatch</td>
                                </tr>
                                <tr>
                                    <td><strong>MyPhotos</strong></td>
                                    <td>GitHub OAuth2</td>
                                    <td>read:user</td>
                                    <td>Access control for photo gallery</td>
                                </tr>
                                <tr>
                                    <td><strong>MyMail</strong></td>
                                    <td>GitHub OAuth2</td>
                                    <td>read:user</td>
                                    <td>Admin panel authentication</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div><!-- End Security Tab -->

        <!-- Infrastructure Tab Content (Status View) -->
        <div id="infra-tab" class="tab-content">

        <!-- View Mode Controls (distinct from navigation) -->
        <div class="view-mode-controls">
            <span class="view-mode-label">View:</span>
            <div class="view-mode-group">
                <button class="view-mode-btn" data-display-mode="tree" title="Tree View">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="3"/><line x1="12" y1="8" x2="12" y2="14"/><line x1="12" y1="14" x2="6" y2="20"/><line x1="12" y1="14" x2="18" y2="20"/><circle cx="6" cy="20" r="2"/><circle cx="18" cy="20" r="2"/></svg>
                </button>
                <button class="view-mode-btn active" data-display-mode="list" title="List View">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>
                </button>
            </div>
            <span class="view-mode-separator">|</span>
            <span class="view-mode-label">Group:</span>
            <div class="view-mode-group">
                <button class="view-mode-btn active" data-group-mode="by-vm" title="Group by VM">VM</button>
                <button class="view-mode-btn" data-group-mode="by-type" title="Group by Type">Type</button>
            </div>
        </div>

        <!-- BY VM VIEW -->
        <div id="infra-by-vm-view" class="infra-view-content active">
            <!-- VMs Section -->
            <div class="resources-category">
                <h3 class="resources-category-title">VMs</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table status-table">
                            <thead><tr><th>Host</th><th>VM</th><th>IP</th><th>Docker Network</th><th>OS</th><th>Actions</th></tr></thead>
                            <tbody id="infra-vms-tbody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Services Section (Grouped by VM) -->
            <div class="resources-category">
                <h3 class="resources-category-title">Services</h3>
                <div id="infra-services-by-vm-container"></div>
            </div>
        </div>

        <!-- BY TYPE VIEW -->
        <div id="infra-by-type-view" class="infra-view-content" style="display: none;">
            <!-- A120) Security Services -->
            <div class="resources-category">
                <h3 class="resources-category-title">A120) Security Services</h3>
                <div class="resources-section">
                    <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.85rem;">Backup, security, and data protection services</p>
                    <div id="infra-type-security"></div>
                </div>
            </div>

            <!-- A120b) Auth & Proxy Services -->
            <div class="resources-category">
                <h3 class="resources-category-title">A120b) Auth & Proxy Services</h3>
                <div class="resources-section">
                    <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.85rem;">Web servers, OAuth2, Authelia 2FA, VPN, and reverse proxies</p>
                    <div id="infra-type-auth-proxy"></div>
                </div>
            </div>

            <!-- A121) Audit -->
            <div class="resources-category">
                <h3 class="resources-category-title">A121) Audit & Analytics</h3>
                <div class="resources-section">
                    <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.85rem;">Analytics, logging, and audit services</p>
                    <div id="infra-type-audit"></div>
                </div>
            </div>

            <!-- A122) Data & API & MCP -->
            <div class="resources-category">
                <h3 class="resources-category-title">A122) Data & API & MCP</h3>
                <div class="resources-section">
                    <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.85rem;">APIs, caching, databases, and Model Context Protocol services</p>
                    <div id="infra-type-data-api"></div>
                </div>
            </div>

            <!-- A123) Others -->
            <div class="resources-category">
                <h3 class="resources-category-title">A123) Other Services</h3>
                <div class="resources-section">
                    <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.85rem;">User-facing and miscellaneous services</p>
                    <div id="infra-type-others"></div>
                </div>
            </div>
        </div>

        <!-- TREE VIEW - BY VM -->
        <div id="infra-tree-by-vm-view" class="infra-view-content" style="display: none;">
            <div class="tree-container" id="tree-by-vm-container">
                <!-- Tree will be rendered here by JavaScript -->
            </div>
        </div>

        <!-- TREE VIEW - BY TYPE -->
        <div id="infra-tree-by-type-view" class="infra-view-content" style="display: none;">
            <div class="tree-container" id="tree-by-type-container">
                <!-- Tree will be rendered here by JavaScript -->
            </div>
        </div>

        <!-- DATA VIEW - Database Allocations by VM -->
        <div id="infra-data-view" class="infra-view-content" style="display: none;">
            <div class="resources-category">
                <h3 class="resources-category-title">Database Allocations by VM</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Storage allocation and database instances per VM</p>

                <!-- GCP Free Micro 1 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #4285F4; border-radius: 50%;"></span>
                        gcp-f-micro_1 (34.55.55.234)
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">10 GB Boot</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th>Database</th>
                                    <th>Type</th>
                                    <th>Service</th>
                                    <th>Size</th>
                                    <th>Path</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>authelia-db</strong></td>
                                    <td>SQLite</td>
                                    <td>Authelia</td>
                                    <td>~5 MB</td>
                                    <td><code style="font-size: 0.7rem;">/data/authelia/db.sqlite3</code></td>
                                </tr>
                                <tr>
                                    <td><strong>npm-db</strong></td>
                                    <td>SQLite</td>
                                    <td>NPM</td>
                                    <td>~10 MB</td>
                                    <td><code style="font-size: 0.7rem;">/data/npm/database.sqlite</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- OCI Paid Flex 1 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                        oci-p-flex_1 (84.235.234.87)
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">242 GB Boot</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th>Database</th>
                                    <th>Type</th>
                                    <th>Service</th>
                                    <th>Size</th>
                                    <th>Path</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>photoprism-db</strong></td>
                                    <td>MariaDB</td>
                                    <td>PhotoPrism</td>
                                    <td>~2 GB</td>
                                    <td><code style="font-size: 0.7rem;">/data/photoprism/database/</code></td>
                                </tr>
                                <tr>
                                    <td><strong>photoprism-sidecar</strong></td>
                                    <td>Files (YAML/JSON)</td>
                                    <td>PhotoPrism</td>
                                    <td>~5 GB</td>
                                    <td><code style="font-size: 0.7rem;">/data/photoprism/storage/sidecar/</code></td>
                                </tr>
                                <tr>
                                    <td><strong>photoprism-originals</strong></td>
                                    <td>Files (Photos)</td>
                                    <td>PhotoPrism</td>
                                    <td>~100 GB</td>
                                    <td><code style="font-size: 0.7rem;">/data/photoprism/originals/</code></td>
                                </tr>
                                                                <tr>
                                    <td><strong>radicale-db</strong></td>
                                    <td>Files (ICS/VCF)</td>
                                    <td>Radicale</td>
                                    <td>~50 MB</td>
                                    <td><code style="font-size: 0.7rem;">/data/radicale/collections/</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- OCI Free Micro 1 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                        oci-f-micro_1 (130.110.251.193)
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">47 GB Boot</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th>Database</th>
                                    <th>Type</th>
                                    <th>Service</th>
                                    <th>Size</th>
                                    <th>Path</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>mailu-db</strong></td>
                                    <td>SQLite</td>
                                    <td>Mailu</td>
                                    <td>~50 MB</td>
                                    <td><code style="font-size: 0.7rem;">/mailu/data/main.db</code></td>
                                </tr>
                                <tr>
                                    <td><strong>mailu-mail</strong></td>
                                    <td>Maildir</td>
                                    <td>Mailu (Dovecot)</td>
                                    <td>~2 GB</td>
                                    <td><code style="font-size: 0.7rem;">/mailu/mail/</code></td>
                                </tr>
                                <tr>
                                    <td><strong>mailu-dkim</strong></td>
                                    <td>Keys</td>
                                    <td>Mailu (DKIM)</td>
                                    <td>~1 MB</td>
                                    <td><code style="font-size: 0.7rem;">/mailu/dkim/</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- OCI Free Micro 2 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                        oci-f-micro_2 (129.151.228.66)
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">47 GB Boot</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th>Database</th>
                                    <th>Type</th>
                                    <th>Service</th>
                                    <th>Size</th>
                                    <th>Path</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>matomo-db</strong></td>
                                    <td>MariaDB</td>
                                    <td>Matomo</td>
                                    <td>~1 GB</td>
                                    <td><code style="font-size: 0.7rem;">/data/matomo/db/</code></td>
                                </tr>
                                <tr>
                                    <td><strong>matomo-config</strong></td>
                                    <td>PHP Files</td>
                                    <td>Matomo</td>
                                    <td>~50 MB</td>
                                    <td><code style="font-size: 0.7rem;">/data/matomo/config/</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Storage Summary -->
                <div class="resources-section">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem;">Storage Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-blue);">~190 GB</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">Total Data</div>
                        </div>
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-green);">4</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">MariaDB/SQLite DBs</div>
                        </div>
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-purple);">~180 GB</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">File Storage</div>
                        </div>
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-orange);">346 GB</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">Total Disk Capacity</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTAINERS VIEW - Docker containers by VM -->
        <div id="infra-containers-view" class="infra-view-content" style="display: none;">
            <div class="resources-category">
                <h3 class="resources-category-title">Docker Containers by VM</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Running containers and their configuration per VM</p>

                <!-- GCP Free Micro 1 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #4285F4; border-radius: 50%;"></span>
                        gcp-f-micro_1 (34.55.55.234)
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">3 containers</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th>Container</th>
                                    <th>Image</th>
                                    <th>Ports</th>
                                    <th>Network</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>npm</strong></td>
                                    <td><code style="font-size: 0.7rem;">jc21/nginx-proxy-manager:latest</code></td>
                                    <td><code style="font-size: 0.7rem;">80, 443, 81</code></td>
                                    <td>proxy_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>authelia</strong></td>
                                    <td><code style="font-size: 0.7rem;">authelia/authelia:latest</code></td>
                                    <td><code style="font-size: 0.7rem;">9091</code></td>
                                    <td>proxy_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>cloud-api</strong></td>
                                    <td><code style="font-size: 0.7rem;">python:3.11-slim</code></td>
                                    <td><code style="font-size: 0.7rem;">5000</code></td>
                                    <td>proxy_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- OCI Paid Flex 1 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                        oci-p-flex_1 (84.235.234.87)
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">6 containers</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th>Container</th>
                                    <th>Image</th>
                                    <th>Ports</th>
                                    <th>Network</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>photoprism</strong></td>
                                    <td><code style="font-size: 0.7rem;">photoprism/photoprism:latest</code></td>
                                    <td><code style="font-size: 0.7rem;">127.0.0.1:2342</code></td>
                                    <td>dev_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>photoprism-db</strong></td>
                                    <td><code style="font-size: 0.7rem;">mariadb:10.11</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>dev_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                                                <tr>
                                    <td><strong>radicale</strong></td>
                                    <td><code style="font-size: 0.7rem;">tomsquest/docker-radicale:latest</code></td>
                                    <td><code style="font-size: 0.7rem;">127.0.0.1:5232</code></td>
                                    <td>dev_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>wireguard</strong></td>
                                    <td><code style="font-size: 0.7rem;">linuxserver/wireguard:latest</code></td>
                                    <td><code style="font-size: 0.7rem;">51820/udp</code></td>
                                    <td>host</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>redis</strong></td>
                                    <td><code style="font-size: 0.7rem;">redis:alpine</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>dev_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- OCI Free Micro 1 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                        oci-f-micro_1 (130.110.251.193)
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">8 containers</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th>Container</th>
                                    <th>Image</th>
                                    <th>Ports</th>
                                    <th>Network</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>mailu-front</strong></td>
                                    <td><code style="font-size: 0.7rem;">mailu/nginx:2.0</code></td>
                                    <td><code style="font-size: 0.7rem;">25, 465, 587, 993, 995, 143</code></td>
                                    <td>mail_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>mailu-admin</strong></td>
                                    <td><code style="font-size: 0.7rem;">mailu/admin:2.0</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>mail_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>mailu-imap</strong></td>
                                    <td><code style="font-size: 0.7rem;">mailu/dovecot:2.0</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>mail_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>mailu-smtp</strong></td>
                                    <td><code style="font-size: 0.7rem;">mailu/postfix:2.0</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>mail_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>mailu-antispam</strong></td>
                                    <td><code style="font-size: 0.7rem;">mailu/rspamd:2.0</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>mail_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>mailu-webmail</strong></td>
                                    <td><code style="font-size: 0.7rem;">mailu/webmail:2.0</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>mail_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>mailu-redis</strong></td>
                                    <td><code style="font-size: 0.7rem;">redis:alpine</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>mail_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>mailu-resolver</strong></td>
                                    <td><code style="font-size: 0.7rem;">mailu/unbound:2.0</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>mail_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- OCI Free Micro 2 -->
                <div class="resources-section" style="margin-bottom: 1.5rem;">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="width: 8px; height: 8px; background: #F80000; border-radius: 50%;"></span>
                        oci-f-micro_2 (129.151.228.66)
                        <span style="font-size: 0.75rem; color: var(--text-secondary); font-weight: normal;">2 containers</span>
                    </h4>
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.8rem;">
                            <thead>
                                <tr>
                                    <th>Container</th>
                                    <th>Image</th>
                                    <th>Ports</th>
                                    <th>Network</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>matomo</strong></td>
                                    <td><code style="font-size: 0.7rem;">matomo:fpm-alpine</code></td>
                                    <td><code style="font-size: 0.7rem;">127.0.0.1:8080</code></td>
                                    <td>matomo_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                                <tr>
                                    <td><strong>matomo-db</strong></td>
                                    <td><code style="font-size: 0.7rem;">mariadb:10.11</code></td>
                                    <td><code style="font-size: 0.7rem;">-</code></td>
                                    <td>matomo_network</td>
                                    <td><span class="status-badge on">UP</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Container Summary -->
                <div class="resources-section">
                    <h4 style="color: var(--text-primary); margin-bottom: 0.75rem;">Container Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-green);">19</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">Total Containers</div>
                        </div>
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-blue);">4</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">Docker Networks</div>
                        </div>
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-purple);">12</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">Unique Images</div>
                        </div>
                        <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-orange);">4</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">VMs with Docker</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECURITY VIEW - Security Topology & Access Points -->
        <div id="infra-security-view" class="infra-view-content" style="display: none;">
            <!-- Security Layers Diagram -->
            <div class="resources-category">
                <h3 class="resources-category-title">Defense in Depth Model</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">"Blast Radius Containment" - Assume any public-facing service can be compromised. Design so a breach cannot spread.</p>

                <div class="security-layers-diagram">
                    <!-- Layer 1: Network Edge -->
                    <div class="security-layer" style="--layer-color: #ef4444;">
                        <div class="security-layer-header">
                            <div class="security-layer-badge">Layer 1</div>
                            <h4 class="security-layer-title">Network Edge</h4>
                        </div>
                        <div class="security-layer-content">
                            <div class="security-component">
                                <span class="security-dot" style="background: #f97316;"></span>
                                <span>Oracle Cloud Security Lists</span>
                                <span class="security-tag">Firewall</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #f97316;"></span>
                                <span>GCP Firewall Rules</span>
                                <span class="security-tag">Firewall</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #22c55e;"></span>
                                <span>UFW (Host Level)</span>
                                <span class="security-tag">Default: DROP</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #3b82f6;"></span>
                                <span>Fail2Ban</span>
                                <span class="security-tag">Brute Force Protection</span>
                            </div>
                        </div>
                    </div>

                    <!-- Layer 2: Traffic Routing -->
                    <div class="security-layer" style="--layer-color: #f97316;">
                        <div class="security-layer-header">
                            <div class="security-layer-badge">Layer 2</div>
                            <h4 class="security-layer-title">Traffic Routing</h4>
                        </div>
                        <div class="security-layer-content">
                            <div class="security-component">
                                <span class="security-dot" style="background: #8b5cf6;"></span>
                                <span>Cloudflare DNS + DDoS</span>
                                <span class="security-tag">Edge Protection</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #22c55e;"></span>
                                <span>NPM TLS Termination</span>
                                <span class="security-tag">Let's Encrypt</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #3b82f6;"></span>
                                <span>HTTP → HTTPS Redirect</span>
                                <span class="security-tag">Forced SSL</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #eab308;"></span>
                                <span>Rate Limiting</span>
                                <span class="security-tag">Abuse Prevention</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #06b6d4;"></span>
                                <span>Security Headers</span>
                                <span class="security-tag">HSTS, CSP, X-Frame</span>
                            </div>
                        </div>
                    </div>

                    <!-- Layer 3: Application Isolation -->
                    <div class="security-layer" style="--layer-color: #eab308;">
                        <div class="security-layer-header">
                            <div class="security-layer-badge">Layer 3</div>
                            <h4 class="security-layer-title">Application Isolation</h4>
                        </div>
                        <div class="security-layer-content">
                            <div class="security-component">
                                <span class="security-dot" style="background: #3b82f6;"></span>
                                <span>Docker Networks</span>
                                <span class="security-tag">No Cross-Talk</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #8b5cf6;"></span>
                                <span>Container User Namespaces</span>
                                <span class="security-tag">UID Isolation</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #22c55e;"></span>
                                <span>127.0.0.1 Binding</span>
                                <span class="security-tag">UFW Bypass Prevention</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #f97316;"></span>
                                <span>Resource Limits</span>
                                <span class="security-tag">CPU, Memory Caps</span>
                            </div>
                        </div>
                    </div>

                    <!-- Layer 4: Data Protection -->
                    <div class="security-layer" style="--layer-color: #22c55e;">
                        <div class="security-layer-header">
                            <div class="security-layer-badge">Layer 4</div>
                            <h4 class="security-layer-title">Data Protection</h4>
                        </div>
                        <div class="security-layer-content">
                            <div class="security-component">
                                <span class="security-dot" style="background: #3b82f6;"></span>
                                <span>Separate Volumes per Service</span>
                                <span class="security-tag">Isolation</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #8b5cf6;"></span>
                                <span>Database per Service</span>
                                <span class="security-tag">No Shared DBs</span>
                            </div>
                            <div class="security-component">
                                <span class="security-dot" style="background: #22c55e;"></span>
                                <span>Encrypted Backups</span>
                                <span class="security-tag">At Rest</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Access Points -->
            <div class="resources-category" style="margin-top: 2rem;">
                <h3 class="resources-category-title">Access Points</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem;">

                    <!-- User Access -->
                    <div class="app-card">
                        <div class="app-card-header">
                            <div class="app-card-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                    <circle cx="12" cy="7" r="4"/>
                                </svg>
                            </div>
                            <h3 class="app-card-title">User Access</h3>
                        </div>
                        <div class="app-card-body">
                            <div class="app-card-section">
                                <h4 class="app-card-section-title">Public Services (HTTPS)</h4>
                                <ul class="app-card-list">
                                    <li><span class="app-card-dot" style="background: #22c55e;"></span>Web Apps → Cloudflare → NPM → Service</li>
                                    <li><span class="app-card-dot" style="background: #3b82f6;"></span>Protected Apps → + Authelia 2FA Gate</li>
                                    <li><span class="app-card-dot" style="background: #8b5cf6;"></span>Email → Webmail via SSO</li>
                                </ul>
                            </div>
                            <div class="app-card-section">
                                <h4 class="app-card-section-title">Authentication Flow</h4>
                                <ul class="app-card-list">
                                    <li><span class="app-card-dot" style="background: #f97316;"></span>Password + TOTP (Authelia)</li>
                                    <li><span class="app-card-dot" style="background: #06b6d4;"></span>Session Cookie (*.diegonmarcos.com)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="app-card-footer">
                            <span class="app-card-badge" style="background: rgba(59, 130, 246, 0.15); color: #3b82f6;">HTTPS Only</span>
                            <span class="app-card-status">auth.diegonmarcos.com</span>
                        </div>
                    </div>

                    <!-- Developer/Admin Access -->
                    <div class="app-card">
                        <div class="app-card-header">
                            <div class="app-card-icon" style="background: linear-gradient(135deg, #f97316, #ea580c);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                                    <line x1="8" y1="21" x2="16" y2="21"/>
                                    <line x1="12" y1="17" x2="12" y2="21"/>
                                </svg>
                            </div>
                            <h3 class="app-card-title">Developer/Admin Access</h3>
                        </div>
                        <div class="app-card-body">
                            <div class="app-card-section">
                                <h4 class="app-card-section-title">SSH Access (Key-Only)</h4>
                                <ul class="app-card-list">
                                    <li><span class="app-card-dot" style="background: #22c55e;"></span>OCI VMs: ssh -i ~/.ssh/id_rsa ubuntu@IP</li>
                                    <li><span class="app-card-dot" style="background: #3b82f6;"></span>GCP VMs: gcloud compute ssh arch-1</li>
                                    <li><span class="app-card-dot" style="background: #ef4444;"></span>No Password Auth (Disabled)</li>
                                </ul>
                            </div>
                            <div class="app-card-section">
                                <h4 class="app-card-section-title">Admin Panels</h4>
                                <ul class="app-card-list">
                                    <li><span class="app-card-dot" style="background: #8b5cf6;"></span>NPM: proxy.diegonmarcos.com (2FA)</li>
                                    <li><span class="app-card-dot" style="background: #f97316;"></span>Mailu Admin: mail.diegonmarcos.com/admin</li>
                                    <li><span class="app-card-dot" style="background: #06b6d4;"></span>Matomo: analytics.diegonmarcos.com</li>
                                </ul>
                            </div>
                        </div>
                        <div class="app-card-footer">
                            <span class="app-card-badge" style="background: rgba(249, 115, 22, 0.15); color: #f97316;">SSH + 2FA</span>
                            <span class="app-card-status">Key-based only</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Security Flow Diagram -->
            <div class="resources-category" style="margin-top: 2rem;">
                <h3 class="resources-category-title">Traffic Flow</h3>
                <div class="resources-section">
                    <div style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; font-family: var(--font-mono); font-size: 0.75rem; line-height: 1.6; overflow-x: auto;">
<pre style="margin: 0; color: var(--text-primary);">
┌─────────────────────────────────────────────────────────────────────────────┐
│                              INTERNET                                         │
│         HTTP(80) │ HTTPS(443) │ SSH(22) │ SMTP(25,465,587) │ IMAP(993)       │
└────────────────────────────────────────────────────────────────────────────-─┘
                                        │
                                        ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                     CLOUDFLARE (DNS + DDoS + SSL)                            │
│                   *.diegonmarcos.com → Origin IPs                            │
└────────────────────────────────────────────────────────────────────────────-─┘
                                        │
            ┌───────────────────────────┼───────────────────────────┐
            ▼                           ▼                           ▼
┌───────────────────┐     ┌───────────────────┐     ┌───────────────────┐
│   OCI Firewall    │     │   GCP Firewall    │     │   OCI Firewall    │
│   (Security List) │     │   (VPC Rules)     │     │   (Security List) │
└─────────┬─────────┘     └─────────┬─────────┘     └─────────┬─────────┘
          │                         │                         │
          ▼                         ▼                         ▼
┌───────────────────┐     ┌───────────────────┐     ┌───────────────────┐
│   UFW (Host)      │     │   UFW (Host)      │     │   UFW (Host)      │
│   Default: DROP   │     │   Default: DROP   │     │   Default: DROP   │
└─────────┬─────────┘     └─────────┬─────────┘     └─────────┬─────────┘
          │                         │                         │
          ▼                         ▼                         ▼
┌───────────────────┐     ┌───────────────────┐     ┌───────────────────┐
│  oci-f-micro_1    │     │  gcp-f-micro_1    │     │  oci-f-micro_2    │
│  Mailu (Mail)     │     │  NPM + Authelia   │     │  Matomo           │
│  :443, :993, :465 │     │  :80, :443        │     │  :8080 (internal) │
└───────────────────┘     └─────────┬─────────┘     └───────────────────┘
                                    │
                          ┌─────────┴─────────┐
                          ▼                   ▼
                  ┌─────────────┐     ┌─────────────┐
                  │  Authelia   │     │  Services   │
                  │  2FA Check  │────▶│  (Docker)   │
                  │  TOTP/Pass  │     │  127.0.0.1  │
                  └─────────────┘     └─────────────┘
</pre>
                    </div>
                </div>
            </div>

            <!-- Security Checklist -->
            <div class="resources-category" style="margin-top: 2rem;">
                <h3 class="resources-category-title">Security Checklist</h3>
                <div class="resources-section">
                    <div class="resources-table-container">
                        <table class="resources-table" style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th style="width: 50%;">Security Control</th>
                                    <th style="width: 15%;">Status</th>
                                    <th style="width: 35%;">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>All containers bind to 127.0.0.1 or internal network</td>
                                    <td><span class="status-badge on">✓</span></td>
                                    <td>Prevents Docker UFW bypass</td>
                                </tr>
                                <tr>
                                    <td>WireGuard tunnel for cross-VM communication</td>
                                    <td><span class="status-badge on">✓</span></td>
                                    <td>GCP ↔ Oracle encrypted</td>
                                </tr>
                                <tr>
                                    <td>Authelia 2FA on sensitive services</td>
                                    <td><span class="status-badge on">✓</span></td>
                                    <td>Photoprism, admin panels</td>
                                </tr>
                                <tr>
                                    <td>UFW enabled with default deny</td>
                                    <td><span class="status-badge on">✓</span></td>
                                    <td>All VMs</td>
                                </tr>
                                <tr>
                                    <td>SSH key-only authentication</td>
                                    <td><span class="status-badge on">✓</span></td>
                                    <td>No passwords</td>
                                </tr>
                                <tr>
                                    <td>Let's Encrypt SSL on all domains</td>
                                    <td><span class="status-badge on">✓</span></td>
                                    <td>Auto-renewal via NPM</td>
                                </tr>
                                <tr>
                                    <td>Database ports never exposed publicly</td>
                                    <td><span class="status-badge on">✓</span></td>
                                    <td>Internal networks only</td>
                                </tr>
                                <tr>
                                    <td>Public DNS (Google/Cloudflare) on all VMs</td>
                                    <td><span class="status-badge on">✓</span></td>
                                    <td>Prevents ISP DNS poisoning</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        </div><!-- End Infrastructure Tab -->

    </div>

    <!-- Load local data as fallback (generated by c3/in-house converters) -->
    <script src="./monitor.js"></script>
    <script src="./costs.js"></script>
    <script src="./availability.js"></script>
    <script src="./security.js"></script>
    <script src="./performance.js"></script>
    <script src="./docker.js"></script>
    <script src="./web.js"></script>

    <!-- Adapter: Map exported variable names to what the code expects -->
    <script>
        // Map COSTS to CLOUD_COSTS_DATA format expected by the code
        if (typeof COSTS !== 'undefined') {
            window.CLOUD_COSTS_DATA = {
                lastUpdated: COSTS.date,
                gcp: COSTS.gcp || {},
                oci: COSTS.oci || {},
                totals: COSTS.summary || {},
                providers: { gcp: COSTS.gcp, oci: COSTS.oci }
            };
            // Also map AI costs from COSTS.claude
            if (COSTS.claude) {
                window.AI_COSTS_DATA = COSTS.claude;
            }
        }
        // Map additional monitoring data to window for easy access
        if (typeof AVAILABILITY !== 'undefined') window.AVAILABILITY_DATA = AVAILABILITY;
        if (typeof SECURITY !== 'undefined') window.SECURITY_DATA = SECURITY;
        if (typeof PERFORMANCE !== 'undefined') window.PERFORMANCE_DATA = PERFORMANCE;
        if (typeof DOCKER !== 'undefined') window.DOCKER_DATA = DOCKER;
        if (typeof WEB !== 'undefined') window.WEB_DATA = WEB;
    </script>

    <script>
        // =================================================================
        // CONFIGURATION
        // =================================================================
        const apiUrl = 'http://34.55.55.234:5000/api';
        const GITHUB_CLIENT_ID = 'Ov23liOg9JhezyYUCHmS';
        const GITHUB_REDIRECT_URI = window.location.href.split('?')[0];

        // =================================================================
        // STATE
        // =================================================================
        const isGitHubPages = window.location.hostname.includes('github.io');
        let autoRefreshInterval = null;
        let isLoading = false;
        let isLoggedIn = false;
        let githubUser = null;

        // =================================================================
        // DATA SOURCE: Try API first, fallback to local .js files
        // =================================================================

        // Static fallback infrastructure data (used when API is offline)
        const FALLBACK_INFRASTRUCTURE = {
            providers: {
                oracle: { id: 'oracle', name: 'Oracle Cloud', consoleUrl: 'https://cloud.oracle.com' },
                gcloud: { id: 'gcloud', name: 'Google Cloud', consoleUrl: 'https://console.cloud.google.com' }
            },
            virtualMachines: {
                'oci-f-micro_1': {
                    id: 'oci-f-micro_1', name: 'OCI Free Micro 1', provider: 'oracle', status: 'active',
                    network: { publicIp: '130.110.251.193' },
                    os: { name: 'Ubuntu', version: '24.04 LTS' },
                    ssh: { user: 'ubuntu', command: 'ssh -i ~/.ssh/id_rsa ubuntu@130.110.251.193' },
                    ociInstanceId: 'ocid1.instance.oc1.eu-marseille-1.anwxeljruadvczacbwylmkqr253ay7binepapgsyopllfayovkzaky6oigbq'
                },
                'oci-f-micro_2': {
                    id: 'oci-f-micro_2', name: 'OCI Free Micro 2', provider: 'oracle', status: 'active',
                    network: { publicIp: '129.151.228.66' },
                    os: { name: 'Ubuntu', version: '24.04 LTS' },
                    ssh: { user: 'ubuntu', command: 'ssh -i ~/.ssh/id_rsa ubuntu@129.151.228.66' },
                    ociInstanceId: 'ocid1.instance.oc1.eu-marseille-1.anwxeljruadvczacgwg5rkrjyomuxvjtvtuk5xrbmy7hmslwn4pse4kw5jkq'
                },
                'gcp-f-micro_1': {
                    id: 'gcp-f-micro_1', name: 'GCP Arch 1', provider: 'gcloud', status: 'active',
                    network: { publicIp: '34.55.55.234' },
                    os: { name: 'Arch Linux', version: 'rolling' },
                    ssh: { user: 'diego', command: 'gcloud compute ssh arch-1 --zone us-central1-a' }
                },
                'oci-p-flex_1': {
                    id: 'oci-p-flex_1', name: 'OCI Paid Flex 1', provider: 'oracle', status: 'active',
                    network: { publicIp: '84.235.234.87' },
                    os: { name: 'Ubuntu', version: '22.04 Minimal' },
                    ssh: { user: 'ubuntu', command: 'ssh -i ~/.ssh/id_rsa ubuntu@84.235.234.87' },
                    ociInstanceId: 'ocid1.instance.oc1.eu-marseille-1.anwxeljruadvczachwpa3qrh7n25vfez3smidz4o7gpmtj4ga4d7zqlja5yq'
                }
            },
            services: {
                'npm-gcloud': { id: 'npm-gcloud', name: 'NPM', displayName: 'Nginx Proxy Manager', vmId: 'gcp-f-micro_1', status: 'on', urls: { gui: 'https://proxy.diegonmarcos.com' }, network: { port: 81 }, description: 'Central reverse proxy' },
                'authelia': { id: 'authelia', name: 'Authelia', displayName: 'Authelia 2FA', vmId: 'gcp-f-micro_1', status: 'on', urls: { gui: 'https://auth.diegonmarcos.com' }, network: { port: 9091 }, description: 'Authentication portal' },
                'matomo-app': { id: 'matomo-app', name: 'Matomo', displayName: 'Matomo Analytics', vmId: 'oci-f-micro_2', status: 'on', urls: { gui: 'https://analytics.diegonmarcos.com' }, network: { port: 8080 }, description: 'Privacy-focused analytics' },
                'mail-app': { id: 'mail-app', name: 'Mailu', displayName: 'Mailu Mail', vmId: 'oci-f-micro_1', status: 'on', urls: { gui: 'https://mail.diegonmarcos.com' }, network: { port: 443 }, description: 'Email server suite' },
                'calendar-app': { id: 'calendar-app', name: 'Radicale', displayName: 'Calendar', vmId: 'oci-p-flex_1', status: 'on', urls: { gui: 'https://cal.diegonmarcos.com' }, network: { port: 5232 }, description: 'CalDAV/CardDAV server' },
                                'photoprism-app': { id: 'photoprism-app', name: 'PhotoPrism', displayName: 'Photo Gallery', vmId: 'oci-p-flex_1', status: 'on', urls: { gui: 'https://photos.diegonmarcos.com' }, network: { port: 2342 }, description: 'AI-powered photo management' },
                'cloud-app': { id: 'cloud-app', name: 'Cloud API', displayName: 'Cloud Control API', vmId: 'gcp-f-micro_1', status: 'on', urls: { api: 'https://api.diegonmarcos.com' }, network: { port: 5000 }, description: 'Infrastructure API' },
                'wireguard': { id: 'wireguard', name: 'WireGuard', displayName: 'WireGuard VPN', vmId: 'gcp-f-micro_1', status: 'on', urls: {}, network: { port: 51820 }, description: 'VPN mesh hub (OS-native)' }
            }
        };

        // =================================================================
        // RENDER TABLES FROM INFRASTRUCTURE DATA (JSON is source of truth!)
        // =================================================================
        function renderTablesFromConfig() {
            // Use INFRASTRUCTURE if available, fallback to CONFIG, then FALLBACK_INFRASTRUCTURE
            let DATA = (typeof INFRASTRUCTURE !== 'undefined') ? INFRASTRUCTURE : (typeof CONFIG !== 'undefined') ? CONFIG : null;

            if (!DATA) {
                console.warn('INFRASTRUCTURE/CONFIG not loaded from API, using static fallback');
                DATA = FALLBACK_INFRASTRUCTURE;
                window.CONFIG = DATA; // Make it available globally
            }

            if (!DATA) {
                console.error('No infrastructure data available');
                return;
            }

            // Transform INFRASTRUCTURE format (arrays) to CONFIG format (objects keyed by ID)
            // INFRASTRUCTURE has: vms[], services[]
            // CONFIG expects: virtualMachines{}, services{}
            if (DATA.vms && Array.isArray(DATA.vms)) {
                DATA.virtualMachines = {};
                DATA.vms.forEach(vm => {
                    DATA.virtualMachines[vm.id] = vm;
                });
                console.log('Transformed vms[] to virtualMachines{}:', Object.keys(DATA.virtualMachines));
            }
            if (DATA.services && Array.isArray(DATA.services)) {
                const servicesObj = {};
                DATA.services.forEach(svc => {
                    servicesObj[svc.id] = svc;
                });
                DATA.services = servicesObj;
                console.log('Transformed services[] to services{}:', Object.keys(DATA.services));
            }

            // For convenience, also expose as CONFIG
            window.CONFIG = DATA;

            // ===== RENDER VMs TABLE =====
            const vmsTbody = document.getElementById('vms-tbody');
            if (vmsTbody) {
                vmsTbody.innerHTML = '';
                Object.values(CONFIG.virtualMachines || {}).forEach(vm => {
                    const statusBadge = vm.status === 'active' ? 'on' : vm.status === 'pending' ? 'tbd' : vm.status === 'hold' ? 'hold' : 'dev';
                    const provider = CONFIG.providers?.[vm.provider];
                    const hostName = provider?.name || vm.provider || 'Unknown';
                    const ip = vm.network?.publicIp || 'pending';

                    // Actions column with SSH copy and URL open buttons
                    const sshCommand = vm.ssh?.command || `ssh ${vm.ssh?.user || 'root'}@${ip}`;
                    const consoleUrl = vm.ociInstanceId ? `https://cloud.oracle.com/compute/instances/${vm.ociInstanceId}` : (provider?.consoleUrl || '');

                    vmsTbody.innerHTML += `
                        <tr class="vm-row">
                            <td><span class="status-badge ${statusBadge}">${statusBadge.toUpperCase()}</span></td>
                            <td>${hostName}</td>
                            <td><strong>${vm.name}</strong></td>
                            <td><code class="ip-address">${ip}</code></td>
                            <td><span class="live-status checking" data-vm="${vm.id}"><span class="live-dot"></span>Checking...</span></td>
                            <td>
                                <div class="vm-actions-inline">
                                    <button class="vm-action-btn btn-ssh" onclick="copyToClipboard('${sshCommand.replace(/'/g, "\\'")}', 'SSH command copied!')" title="Copy SSH command">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                                        </svg>
                                    </button>
                                    <button class="vm-action-btn btn-url" onclick="window.open('${consoleUrl}', '_blank')" ${!consoleUrl ? 'disabled' : ''} title="Open cloud console">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                                            <polyline points="15 3 21 3 21 9"/>
                                            <line x1="10" y1="14" x2="21" y2="3"/>
                                        </svg>
                                    </button>
                                    <button class="vm-action-btn btn-reset" data-vm-reset="${vm.id}" onclick="resetVM('${vm.id}')" title="Reset VM (reboot if running, start if stopped)">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M23 4v6h-6M1 20v-6h6"/>
                                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>`;
                });
            }

            // ===== RENDER SERVICES TABLE (UNIFIED HIERARCHICAL) =====
            const servicesTbody = document.getElementById('services-tbody');
            const backlogTbody = document.getElementById('backlog-tbody');

            if (servicesTbody && backlogTbody) {
                servicesTbody.innerHTML = '';
                backlogTbody.innerHTML = '';

                // Get all parent services (those without parentService property)
                const parentServices = Object.values(CONFIG.services || {})
                    .filter(svc => !svc.parentService);

                parentServices.forEach(parent => {
                    // Skip if DEV/HOLD - goes to backlog
                    if (parent.status === 'dev' || parent.status === 'hold') {
                        const vm = CONFIG.virtualMachines?.[parent.vmId];
                        backlogTbody.innerHTML += `
                            <tr>
                                <td><strong>${parent.displayName || parent.name}</strong></td>
                                <td><span class="status-badge ${parent.status}">${parent.status.toUpperCase()}</span></td>
                                <td>${vm?.name || 'TBD'}</td>
                                <td>${parent.notes || '-'}</td>
                            </tr>
                        `;
                        return;
                    }

                    // Get child services
                    const children = Object.values(CONFIG.services || {})
                        .filter(svc => svc.parentService === parent.id);

                    const vm = CONFIG.virtualMachines?.[parent.vmId];
                    const vmName = vm?.name || '-';

                    // Find the NPM proxy serving this service
                    const npmService = Object.values(CONFIG.services || {})
                        .find(svc => svc.vmId === vm?.id && svc.id.includes('npm'));
                    const proxyName = npmService?.displayName || npmService?.name || '-';

                    const url = parent.urls?.gui || parent.urls?.api || parent.network?.domain || '-';
                    const ip = vm?.network?.publicIp || '-';

                    // Parent row
                    const appChild = children.find(c => c.id.endsWith('-app'));
                    const statusServiceId = appChild?.id || parent.id;

                    servicesTbody.innerHTML += `
                        <tr class="service-parent-row">
                            <td><strong>${vmName}</strong></td>
                            <td><strong>${parent.displayName || parent.name}</strong></td>
                            <td>${url !== '-' ? `<a href="${url}" target="_blank" style="color: var(--accent-blue)">${url}</a>` : '-'}</td>
                            <td>-</td>
                            <td>${proxyName}</td>
                            <td><span class="live-status checking" data-service="${statusServiceId}"><span class="live-dot"></span>Checking...</span></td>
                        </tr>
                    `;

                    // Child rows (indented)
                    children.forEach(child => {
                        const port = child.network?.proxyAddress?.split(':')[1] || '-';
                        const ipPort = port !== '-' ? `${ip}:${port}` : '-';

                        servicesTbody.innerHTML += `
                            <tr class="service-child-row">
                                <td></td>
                                <td class="child-service-name">↳ ${child.displayName || child.name}</td>
                                <td>-</td>
                                <td><code>${ipPort}</code></td>
                                <td>-</td>
                                <td><span class="status-badge ${child.status}">${child.status.toUpperCase()}</span></td>
                            </tr>
                        `;
                    });
                });
            }

            console.log('Tables rendered from CONFIG');
        }

        function copyToClipboard(text, message) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification(message || 'Copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }

        // =================================================================
        // REFRESH FUNCTION
        // Single mode: Try API first, fallback to local .js files on error
        // =================================================================
        function refreshAll() {
            fetchFromAPI();  // Always try API first, falls back to local on error
        }

        function fetchFromLocal() {
            console.log('fetchFromLocal() called');
            const connectionStatus = document.getElementById('connection-status');
            connectionStatus.classList.add('disconnected');

            if (typeof MONITOR === 'undefined') {
                console.error('MONITOR not loaded - monitor.js missing');
                document.getElementById('last-updated').textContent = 'No local data';
                return;
            }

            console.log('MONITOR loaded:', MONITOR);

            // MONITOR already has the correct format matching the API response
            // Format: { vms: [{category, vms: [{id, status}]}], services: [{category, services: [{id, health_status}]}] }
            const data = MONITOR;

            console.log('Data for updateDashboard:', JSON.stringify(data, null, 2));
            try {
                updateDashboard(data);
            } catch (e) {
                console.error('updateDashboard ERROR:', e);
            }
            // Show timestamp from MONITOR data if available
            const timestamp = MONITOR.timestamp || new Date().toLocaleTimeString();
            document.getElementById('last-updated').textContent = timestamp + ' (local)';
            console.log('fetchFromLocal() completed');
        }

        // Fetch full config from API and render tables (for API mode without local JS file)
        async function fetchConfigFromAPI() {
            try {
                const response = await fetch(`${apiUrl}/cloud_control/infrastructure`);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                const data = await response.json();
                // Map API response to match INFRASTRUCTURE format
                window.INFRASTRUCTURE = data;
                window.CONFIG = data; // Keep for backwards compatibility
                renderTablesFromConfig();
            } catch (error) {
                console.error('Failed to fetch infrastructure from API:', error);
            }
        }

        async function fetchFromAPI() {
            if (isLoading) return;
            isLoading = true;

            const refreshBtn = document.getElementById('refresh-btn');
            const connectionStatus = document.getElementById('connection-status');
            refreshBtn.classList.add('loading');

            try {
                const response = await fetch(`${apiUrl}/cloud_control/monitor`);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                const apiData = await response.json();

                // API already returns data in the correct format for updateDashboard()
                // Format: { vms: [{category, vms: [{id, status}]}], services: [{category, services: [{id, health_status}]}] }
                connectionStatus.classList.remove('disconnected');
                updateDashboard(apiData);
                document.getElementById('last-updated').textContent = new Date().toLocaleTimeString();
            } catch (error) {
                console.error('API Error:', error);
                console.log('Falling back to local .js files...');
                connectionStatus.classList.add('disconnected');
                // Fallback to local data on API error
                fetchFromLocal();
            } finally {
                refreshBtn.classList.remove('loading');
                isLoading = false;
            }
        }

        function updateDashboard(data) {
            console.log('updateDashboard() called with', data.vms[0]?.vms?.length, 'VMs and', data.services[0]?.services?.length, 'services');

            // Update VM statuses
            data.vms.forEach(cat => {
                cat.vms.forEach(vm => {
                    const el = document.querySelector(`[data-vm="${vm.id}"]`);
                    console.log(`VM ${vm.id}: element found = ${!!el}, status = ${vm.status}`);
                    if (el) {
                        const status = vm.status.toLowerCase().replace(' ', '-');
                        const statusMap = {
                            'online': { class: 'online', label: 'Online' },
                            'offline': { class: 'offline', label: 'Offline' },
                            'dormant': { class: 'dormant', label: 'Dormant' },
                            'no-ssh': { class: 'pending', label: 'No SSH' },
                            'pending': { class: 'pending', label: 'Pending' },
                            'hold': { class: 'hold', label: 'Hold' },
                            'tbd': { class: 'pending', label: 'TBD' },
                            'unknown': { class: 'pending', label: 'Unknown' }
                        };
                        const s = statusMap[status] || { class: 'checking', label: vm.status };
                        el.className = 'live-status ' + s.class;
                        el.innerHTML = `<span class="live-dot"></span>${s.label}`;
                    }
                });
            });

            // Update Service statuses
            data.services.forEach(cat => {
                cat.services.forEach(svc => {
                    const el = document.querySelector(`[data-service="${svc.id}"]`);
                    console.log(`Service ${svc.id}: element found = ${!!el}, status = ${svc.health_status}`);
                    if (el) {
                        const statusMap = {
                            'healthy': { class: 'online', label: 'Healthy' },
                            'error': { class: 'offline', label: 'Error' },
                            'development': { class: 'dev', label: 'Dev' },
                            'hold': { class: 'hold', label: 'Hold' },
                            'tbd': { class: 'pending', label: 'TBD' },
                            'no_url': { class: 'pending', label: 'N/A' }
                        };
                        const s = statusMap[svc.health_status] || { class: 'checking', label: svc.health_status };
                        el.className = 'live-status ' + s.class;
                        el.innerHTML = `<span class="live-dot"></span>${s.label}`;
                    }
                });
            });
            console.log('updateDashboard() completed');
        }

        // =================================================================
        // AUTO-REFRESH
        // API mode: fetch every 30s
        // Local mode: reload page every 30s
        // =================================================================
        function initAutoRefresh() {
            const autoRefreshEl = document.getElementById('auto-refresh');
            if (autoRefreshEl) {
                autoRefreshEl.addEventListener('change', function() {
                    if (this.checked) {
                        autoRefreshInterval = setInterval(refreshAll, 30000);
                    } else {
                        clearInterval(autoRefreshInterval);
                        autoRefreshInterval = null;
                    }
                });
            }
        }


        // =================================================================
        // GitHub OAuth Functions
        // =================================================================
        function handleGitHubLogin() {
            if (isLoggedIn) {
                // Logout
                logout();
            } else {
                // Login - redirect to GitHub OAuth
                const authUrl = `https://github.com/login/oauth/authorize?client_id=${GITHUB_CLIENT_ID}&redirect_uri=${encodeURIComponent(GITHUB_REDIRECT_URI)}&scope=read:user`;
                window.location.href = authUrl;
            }
        }

        function logout() {
            isLoggedIn = false;
            githubUser = null;
            localStorage.removeItem('github_token');
            localStorage.removeItem('github_user');
            updateLoginUI();
            updateRebootButtons();
        }

        function updateLoginUI() {
            const btn = document.getElementById('github-login-btn');
            const text = document.getElementById('github-login-text');

            if (isLoggedIn && githubUser) {
                btn.classList.add('logged-in');
                btn.innerHTML = `
                    <img src="${githubUser.avatar_url}" alt="" class="user-avatar">
                    <span>${githubUser.login}</span>
                    <button class="logout-btn" onclick="event.stopPropagation(); logout();">Logout</button>
                `;
            } else {
                btn.classList.remove('logged-in');
                btn.innerHTML = `
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                    </svg>
                    <span>Login</span>
                `;
            }
        }

        function updateRebootButtons() {
            const buttons = document.querySelectorAll('.reboot-btn');
            buttons.forEach(btn => {
                if (isLoggedIn) {
                    btn.disabled = false;
                    btn.classList.add('enabled');
                } else {
                    btn.disabled = true;
                    btn.classList.remove('enabled');
                }
            });
        }

        async function handleOAuthCallback() {
            // Check for error in URL
            const urlParams = new URLSearchParams(window.location.search);
            const error = urlParams.get('error');

            if (error) {
                window.history.replaceState({}, document.title, window.location.pathname);
                alert('GitHub login failed: ' + error);
                return;
            }

            // The backend callback already stored token in localStorage via JavaScript redirect
            // Just clean up the URL if there's a code param (shouldn't happen but just in case)
            const code = urlParams.get('code');
            if (code) {
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        }

        function checkExistingLogin() {
            const token = localStorage.getItem('github_token');
            const user = localStorage.getItem('github_user');

            if (token && user) {
                try {
                    githubUser = JSON.parse(user);
                    isLoggedIn = true;
                    updateLoginUI();
                    updateRebootButtons();
                } catch (e) {
                    logout();
                }
            }
        }

        // Reboot VM function
        async function rebootVM(vmId) {
            if (!isLoggedIn) {
                alert('Please login with GitHub to reboot VMs');
                return;
            }

            const btn = document.querySelector(`[data-vm-reboot="${vmId}"]`);
            if (!btn || btn.classList.contains('loading')) return;

            if (!confirm(`Are you sure you want to reboot ${vmId}?`)) return;

            btn.classList.add('loading');
            btn.disabled = true;

            try {
                const token = localStorage.getItem('github_token');
                const response = await fetch(`${apiUrl}/vms/${vmId}/reboot`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    btn.classList.remove('loading');
                    btn.classList.add('success');
                    btn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>Rebooting`;

                    setTimeout(() => {
                        btn.classList.remove('success');
                        btn.classList.add('enabled');
                        btn.disabled = false;
                        btn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>Reboot`;
                    }, 3000);
                } else {
                    throw new Error(await response.text());
                }
            } catch (error) {
                console.error('Reboot error:', error);
                alert(`Reboot failed: ${error.message}`);
                btn.classList.remove('loading');
                btn.disabled = false;
            }
        }

        // Add click handlers to reboot buttons
        function initRebootButtons() {
            document.querySelectorAll('.reboot-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const vmId = btn.getAttribute('data-vm-reboot');
                    if (vmId) rebootVM(vmId);
                });
            });
        }

        // Reset VM function (reboot if running, start if stopped)
        async function resetVM(vmId) {
            if (!isLoggedIn) {
                alert('Please login with GitHub to reset VMs');
                return;
            }

            const btn = document.querySelector(`[data-vm-reset="${vmId}"]`);
            if (!btn || btn.classList.contains('loading')) return;

            if (!confirm(`Reset ${vmId}?\n\nThis will reboot if running, or start if stopped.`)) return;

            btn.classList.add('loading');

            try {
                const token = localStorage.getItem('github_token');
                const response = await fetch(`${apiUrl}/vms/${vmId}/reset`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                const data = await response.json();

                if (response.ok) {
                    btn.classList.remove('loading');
                    btn.classList.add('success');

                    // Show appropriate message based on action taken
                    const action = data.action || 'reset';
                    setTimeout(() => {
                        btn.classList.remove('success');
                        alert(`VM ${vmId}: ${action === 'started' ? 'Starting up...' : 'Rebooting...'}`);
                    }, 500);
                } else {
                    throw new Error(data.error || 'Reset failed');
                }
            } catch (error) {
                console.error('Reset error:', error);
                alert(`Reset failed: ${error.message}`);
                btn.classList.remove('loading');
            }
        }

        // Shutdown VM function (stop VM)
        async function shutdownVM(vmId) {
            if (!isLoggedIn) {
                alert('Please login with GitHub to shutdown VMs');
                return;
            }

            const btn = document.querySelector(`[onclick*="shutdownVM('${vmId}')"]`);
            if (!btn || btn.classList.contains('loading')) return;

            if (!confirm(`Shutdown ${vmId}?\n\nThis will stop the VM.`)) return;

            btn.classList.add('loading');

            try {
                const token = localStorage.getItem('github_token');
                const response = await fetch(`${apiUrl}/vms/${vmId}/stop`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                const data = await response.json();

                if (response.ok) {
                    btn.classList.remove('loading');
                    btn.classList.add('success');
                    setTimeout(() => {
                        btn.classList.remove('success');
                        alert(`VM ${vmId}: Shutting down...`);
                    }, 500);
                } else {
                    throw new Error(data.error || 'Shutdown failed');
                }
            } catch (error) {
                console.error('Shutdown error:', error);
                alert(`Shutdown failed: ${error.message}`);
                btn.classList.remove('loading');
            }
        }

        // Restart container function
        async function restartContainer(vmId, containerName) {
            if (!isLoggedIn) {
                alert('Please login with GitHub to restart containers');
                return;
            }

            const btn = event.target.closest('.vm-action-btn');
            if (!btn || btn.classList.contains('loading')) return;

            if (!confirm(`Restart container "${containerName}" on ${vmId}?`)) return;

            btn.classList.add('loading');

            try {
                const token = localStorage.getItem('github_token');
                const response = await fetch(`${apiUrl}/vms/${vmId}/containers/${containerName}/restart`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                const data = await response.json();

                if (response.ok) {
                    btn.classList.remove('loading');
                    btn.classList.add('success');
                    setTimeout(() => {
                        btn.classList.remove('success');
                        alert(`Container ${containerName} restarted successfully`);
                    }, 500);
                } else {
                    throw new Error(data.error || 'Restart failed');
                }
            } catch (error) {
                console.error('Container restart error:', error);
                alert(`Restart failed: ${error.message}`);
                btn.classList.remove('loading');
            }
        }

        // ============================================
        // WAKE-ON-DEMAND FUNCTIONS (uses Cloud Control API)
        // VM: oci-p-flex_1 (Photoprism/Syncthing/Radicale server)
        // ============================================
        const WAKE_VM_ID = 'oci-p-flex_1';

        async function checkDevServerStatus() {
            try {
                const resp = await fetch(`${apiUrl}/vms/${WAKE_VM_ID}/status`);
                const data = await resp.json();

                const statusEl = document.getElementById('dev-server-status');
                const textEl = document.getElementById('dev-server-status-text');
                const wakeBtn = document.getElementById('wake-dev-btn');

                // API returns state from OCI: RUNNING, STOPPED, STARTING, STOPPING, etc.
                const state = data.state || data.status || 'UNKNOWN';

                if (state === 'RUNNING') {
                    statusEl.className = 'live-status online';
                    textEl.textContent = 'Running';
                    wakeBtn.disabled = true;
                    wakeBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>Running';
                } else if (state === 'STOPPED') {
                    statusEl.className = 'live-status offline';
                    textEl.textContent = 'Sleeping';
                    wakeBtn.disabled = false;
                    wakeBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>Wake';
                } else if (state === 'STARTING') {
                    statusEl.className = 'live-status checking';
                    textEl.textContent = 'Starting...';
                    wakeBtn.disabled = true;
                    wakeBtn.innerHTML = '<span class="spinner"></span> Starting...';
                } else if (state === 'STOPPING') {
                    statusEl.className = 'live-status checking';
                    textEl.textContent = 'Stopping...';
                    wakeBtn.disabled = true;
                } else {
                    statusEl.className = 'live-status checking';
                    textEl.textContent = state;
                }
            } catch (e) {
                console.error('Failed to check dev server status:', e);
            }
        }

        async function wakeDevServer() {
            const wakeBtn = document.getElementById('wake-dev-btn');
            const statusEl = document.getElementById('dev-server-status');
            const textEl = document.getElementById('dev-server-status-text');

            wakeBtn.disabled = true;
            wakeBtn.innerHTML = '<span class="spinner"></span> Waking...';
            statusEl.className = 'live-status checking';
            textEl.textContent = 'Starting VM...';

            try {
                const token = localStorage.getItem('github_token');
                const headers = { 'Content-Type': 'application/json' };
                if (token) headers['Authorization'] = `Bearer ${token}`;

                const resp = await fetch(`${apiUrl}/vms/${WAKE_VM_ID}/start`, {
                    method: 'POST',
                    headers: headers
                });
                const data = await resp.json();

                if (resp.ok || data.success) {
                    textEl.textContent = 'VM Starting...';
                    // Poll for running status
                    let attempts = 0;
                    const maxAttempts = 24; // 2 minutes (24 * 5s)

                    const checkInterval = setInterval(async () => {
                        attempts++;
                        textEl.textContent = `Starting... (${attempts * 5}s)`;

                        try {
                            const statusResp = await fetch(`${apiUrl}/vms/${WAKE_VM_ID}/status`);
                            const statusData = await statusResp.json();
                            const state = statusData.state || statusData.status;

                            if (state === 'RUNNING') {
                                clearInterval(checkInterval);
                                statusEl.className = 'live-status online';
                                textEl.textContent = 'Running';
                                wakeBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>Running';
                            } else if (attempts >= maxAttempts) {
                                clearInterval(checkInterval);
                                statusEl.className = 'live-status checking';
                                textEl.textContent = 'Timeout';
                                wakeBtn.disabled = false;
                                wakeBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>Wake';
                            }
                        } catch (pollError) {
                            console.error('Poll error:', pollError);
                        }
                    }, 5000);
                } else {
                    throw new Error(data.error || data.message || 'Start failed');
                }
            } catch (e) {
                console.error('Failed to wake dev server:', e);
                alert(`Failed to start VM: ${e.message}`);
                wakeBtn.disabled = false;
                wakeBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>Wake';
                statusEl.className = 'live-status offline';
                textEl.textContent = 'Sleeping';
            }
        }

        // ============================================
        // COST TAB FUNCTIONS
        // ============================================

        async function loadCostData() {
            // Use CCUSAGE_DATA if available (local JSON export)
            if (typeof CCUSAGE_DATA !== 'undefined') {
                loadCostDataFromCcusage();
                return;
            }
            // Fallback to API
            try {
                const [aiDailyResp, aiMonthlyResp] = await Promise.all([
                    fetch(`${apiUrl}/costs/ai/daily`),
                    fetch(`${apiUrl}/costs/ai/monthly`)
                ]);
                const aiDailyData = await aiDailyResp.json();
                const aiMonthlyData = await aiMonthlyResp.json();
                if (!aiDailyData.error && Array.isArray(aiDailyData)) updateDailyTable(aiDailyData);
                if (!aiMonthlyData.error && Array.isArray(aiMonthlyData)) updateMonthlyTable(aiMonthlyData);
            } catch (error) {
                console.error('Error loading cost data:', error);
            }
        }

        function loadCostDataFromCcusage() {
            const data = CCUSAGE_DATA;

            // Update hero section totals
            const heroValue = document.querySelector('.ai-cost-hero-value');
            if (heroValue) heroValue.textContent = `$${data.totals.totalCost.toFixed(2)}`;

            // Update hero cards
            const today = data.daily[0];
            const thisMonth = data.monthly[0];
            const lastMonth = data.monthly[1];

            updateHeroCards(today, thisMonth, lastMonth);
            updateDonutChart(data.modelStats, data.totals.totalCost);
            updateTokenStats(data.totals);
            updateDailyBarChart(data.daily.slice(0, 14));
            updateWeeklyBars(data.weekly);
            updateSessionList(data.sessions);
            updateDailyTableFromCcusage(data.daily.slice(0, 14));
            updateMonthlyTableFromCcusage(data.monthly);

            // Also load cloud infrastructure costs
            if (typeof CLOUD_COSTS_DATA !== 'undefined') {
                loadCloudCostsData();
            }
        }

        function updateHeroCards(today, thisMonth, lastMonth) {
            const cards = document.querySelectorAll('.ai-cost-card');
            if (cards[0]) {
                cards[0].querySelector('.ai-cost-card-value').textContent = `$${today?.totalCost?.toFixed(2) || '0.00'}`;
            }
            if (cards[1]) {
                cards[1].querySelector('.ai-cost-card-value').textContent = `$${thisMonth?.totalCost?.toFixed(2) || '0.00'}`;
            }
            if (cards[2] && lastMonth) {
                cards[2].querySelector('.ai-cost-card-value').textContent = `$${lastMonth?.totalCost?.toFixed(2) || '0.00'}`;
            }
            if (cards[3]) {
                const avgDaily = thisMonth ? (thisMonth.totalCost / new Date().getDate()) : 0;
                cards[3].querySelector('.ai-cost-card-value').textContent = `$${avgDaily.toFixed(2)}`;
            }
        }

        function updateDonutChart(modelStats, total) {
            // Update SVG donut segments
            const circumference = 251; // 2 * PI * 40
            let offset = 0;

            const opus = modelStats['claude-opus-4-5-20251101'];
            const sonnet = modelStats['claude-sonnet-4-5-20250929'];
            const haiku = modelStats['claude-haiku-4-5-20251001'];

            const opusPct = opus ? opus.percentOfTotal / 100 : 0;
            const sonnetPct = sonnet ? sonnet.percentOfTotal / 100 : 0;
            const haikuPct = haiku ? haiku.percentOfTotal / 100 : 0;

            const opusCircle = document.querySelector('.ai-donut-opus');
            const sonnetCircle = document.querySelector('.ai-donut-sonnet');
            const haikuCircle = document.querySelector('.ai-donut-haiku');

            if (opusCircle) {
                opusCircle.setAttribute('stroke-dasharray', `${opusPct * circumference} ${circumference}`);
                opusCircle.setAttribute('stroke-dashoffset', `${-offset}`);
                offset += opusPct * circumference;
            }
            if (sonnetCircle) {
                sonnetCircle.setAttribute('stroke-dasharray', `${sonnetPct * circumference} ${circumference}`);
                sonnetCircle.setAttribute('stroke-dashoffset', `${-offset}`);
                offset += sonnetPct * circumference;
            }
            if (haikuCircle) {
                haikuCircle.setAttribute('stroke-dasharray', `${haikuPct * circumference} ${circumference}`);
                haikuCircle.setAttribute('stroke-dashoffset', `${-offset}`);
            }

            // Update center
            const centerValue = document.querySelector('.ai-donut-value');
            if (centerValue) centerValue.textContent = `$${total.toFixed(0)}`;

            // Update legend
            const legendItems = document.querySelectorAll('.ai-donut-legend-item');
            if (legendItems[0] && opus) {
                legendItems[0].querySelector('.ai-donut-legend-value').textContent = `$${opus.totalCost.toFixed(2)}`;
                legendItems[0].querySelector('.ai-donut-legend-pct').textContent = `${opus.percentOfTotal.toFixed(1)}%`;
            }
            if (legendItems[1] && sonnet) {
                legendItems[1].querySelector('.ai-donut-legend-value').textContent = `$${sonnet.totalCost.toFixed(2)}`;
                legendItems[1].querySelector('.ai-donut-legend-pct').textContent = `${sonnet.percentOfTotal.toFixed(1)}%`;
            }
            if (legendItems[2] && haiku) {
                legendItems[2].querySelector('.ai-donut-legend-value').textContent = `$${haiku.totalCost.toFixed(2)}`;
                legendItems[2].querySelector('.ai-donut-legend-pct').textContent = `${haiku.percentOfTotal.toFixed(1)}%`;
            }
        }

        function updateTokenStats(totals) {
            const formatTokens = (n) => {
                if (n >= 1e9) return (n / 1e9).toFixed(2) + 'B';
                if (n >= 1e6) return (n / 1e6).toFixed(2) + 'M';
                if (n >= 1e3) return (n / 1e3).toFixed(2) + 'K';
                return n.toString();
            };

            const total = totals.totalTokens || 1;
            const inputPct = (totals.inputTokens / total) * 100;
            const outputPct = (totals.outputTokens / total) * 100;
            const cacheCreatePct = (totals.cacheCreationTokens / total) * 100;
            const cacheReadPct = (totals.cacheReadTokens / total) * 100;

            const tokenCards = document.querySelectorAll('.ai-token-card');
            if (tokenCards[0]) {
                tokenCards[0].querySelector('.ai-token-value').textContent = formatTokens(totals.inputTokens);
                tokenCards[0].querySelector('.ai-token-bar-fill').style.width = `${Math.min(inputPct * 10, 100)}%`;
            }
            if (tokenCards[1]) {
                tokenCards[1].querySelector('.ai-token-value').textContent = formatTokens(totals.outputTokens);
                tokenCards[1].querySelector('.ai-token-bar-fill').style.width = `${Math.min(outputPct * 10, 100)}%`;
            }
            if (tokenCards[2]) {
                tokenCards[2].querySelector('.ai-token-value').textContent = formatTokens(totals.cacheCreationTokens);
                tokenCards[2].querySelector('.ai-token-bar-fill').style.width = `${Math.min(cacheCreatePct, 100)}%`;
            }
            if (tokenCards[3]) {
                tokenCards[3].querySelector('.ai-token-value').textContent = formatTokens(totals.cacheReadTokens);
                tokenCards[3].querySelector('.ai-token-label').textContent = `Cache Read (${cacheReadPct.toFixed(0)}%)`;
                tokenCards[3].querySelector('.ai-token-bar-fill').style.width = `${Math.min(cacheReadPct, 100)}%`;
            }
        }

        function updateDailyBarChart(dailyData) {
            const container = document.querySelector('.ai-bar-chart');
            if (!container) return;

            const maxCost = Math.max(...dailyData.map(d => d.totalCost));
            container.innerHTML = dailyData.map(day => {
                const height = maxCost > 0 ? (day.totalCost / maxCost) * 160 : 4;
                const dateShort = new Date(day.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                return `<div class="ai-bar">
                    <div class="ai-bar-value">$${day.totalCost.toFixed(0)}</div>
                    <div class="ai-bar-fill" style="height: ${height}px;"></div>
                    <div class="ai-bar-label">${dateShort}</div>
                </div>`;
            }).reverse().join('');
        }

        function updateWeeklyBars(weeklyData) {
            const container = document.querySelector('.ai-weekly-bars');
            if (!container) return;

            const maxCost = Math.max(...weeklyData.map(w => w.totalCost));
            container.innerHTML = weeklyData.map(week => {
                const width = maxCost > 0 ? (week.totalCost / maxCost) * 100 : 0;
                const weekLabel = `Week ${new Date(week.week).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}`;
                return `<div class="ai-weekly-row">
                    <div class="ai-weekly-label">${weekLabel}</div>
                    <div class="ai-weekly-bar"><div class="ai-weekly-bar-fill" style="width: ${width}%;"></div></div>
                    <div class="ai-weekly-value">$${week.totalCost.toFixed(2)}</div>
                </div>`;
            }).join('');
        }

        function updateSessionList(sessions) {
            const container = document.querySelector('.ai-session-list');
            if (!container) return;

            const formatTokens = (n) => {
                if (n >= 1e9) return (n / 1e9).toFixed(1) + 'B';
                if (n >= 1e6) return (n / 1e6).toFixed(1) + 'M';
                if (n >= 1e3) return (n / 1e3).toFixed(1) + 'K';
                return n.toString();
            };

            container.innerHTML = sessions.sort((a, b) => b.totalCost - a.totalCost).map(s => {
                return `<div class="ai-session-item">
                    <div class="ai-session-name" title="${s.sessionId}">${s.projectPath || s.sessionId}</div>
                    <div class="ai-session-tokens">${formatTokens(s.totalTokens)}</div>
                    <div class="ai-session-cost">$${s.totalCost.toFixed(2)}</div>
                </div>`;
            }).join('');
        }

        function updateDailyTableFromCcusage(dailyData) {
            const tbody = document.getElementById('daily-cost-table');
            if (!tbody || !dailyData) return;

            const maxCost = Math.max(...dailyData.map(d => d.totalCost));
            tbody.innerHTML = dailyData.map((day, idx) => {
                const opusCost = day.modelBreakdowns?.find(m => m.modelName.includes('opus'))?.cost || 0;
                const sonnetCost = day.modelBreakdowns?.find(m => m.modelName.includes('sonnet'))?.cost || 0;
                const haikuCost = day.modelBreakdowns?.find(m => m.modelName.includes('haiku'))?.cost || 0;
                const barWidth = maxCost > 0 ? (day.totalCost / maxCost) * 100 : 0;
                const trend = idx < dailyData.length - 1 ? (day.totalCost > dailyData[idx + 1].totalCost ? '▲' : '▼') : '-';
                return `<tr>
                    <td>${day.date}</td>
                    <td>$${opusCost.toFixed(2)}</td>
                    <td>$${sonnetCost.toFixed(2)}</td>
                    <td>$${haikuCost.toFixed(2)}</td>
                    <td class="cost">$${day.totalCost.toFixed(2)}</td>
                    <td><div class="ai-mini-bar"><div class="ai-mini-bar-fill" style="width: ${barWidth}%;"></div></div></td>
                    <td>${trend}</td>
                </tr>`;
            }).join('');
        }

        function updateMonthlyTableFromCcusage(monthlyData) {
            const tbody = document.getElementById('monthly-cost-table');
            if (!tbody || !monthlyData) return;

            const maxCost = Math.max(...monthlyData.map(m => m.totalCost));
            tbody.innerHTML = monthlyData.map(month => {
                const opusCost = month.modelBreakdowns?.find(m => m.modelName.includes('opus'))?.cost || 0;
                const sonnetCost = month.modelBreakdowns?.find(m => m.modelName.includes('sonnet'))?.cost || 0;
                const haikuCost = month.modelBreakdowns?.find(m => m.modelName.includes('haiku'))?.cost || 0;
                const barWidth = maxCost > 0 ? (month.totalCost / maxCost) * 100 : 0;
                return `<tr>
                    <td>${month.month}</td>
                    <td>$${opusCost.toFixed(2)}</td>
                    <td>$${sonnetCost.toFixed(2)}</td>
                    <td>$${haikuCost.toFixed(2)}</td>
                    <td class="cost">$${month.totalCost.toFixed(2)}</td>
                    <td><div class="ai-mini-bar"><div class="ai-mini-bar-fill" style="width: ${barWidth}%;"></div></div></td>
                </tr>`;
            }).join('');
        }

        function updateDailyTable(data) {
            const tbody = document.getElementById('daily-cost-table');
            if (!tbody || !data || data.length === 0) return;
            tbody.innerHTML = data.map((day, idx) => {
                const trend = idx < data.length - 1 ? (day.total > data[idx + 1].total ? '▲' : '▼') : '-';
                return `<tr><td>${day.date || 'N/A'}</td><td>$${day.opus?.toFixed(2) || '0.00'}</td><td>$${day.sonnet?.toFixed(2) || '0.00'}</td><td>$${day.haiku?.toFixed(2) || '0.00'}</td><td><strong>$${day.total?.toFixed(2) || '0.00'}</strong></td><td>${trend}</td></tr>`;
            }).join('');
        }

        function updateMonthlyTable(data) {
            const tbody = document.getElementById('monthly-cost-table');
            if (!data || data.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" style="text-align: center;">No data available</td></tr>';
                return;
            }
            tbody.innerHTML = data.map(month => `<tr><td><strong>${month.month || 'N/A'}</strong></td><td>$${month.opus?.toFixed(2) || '0.00'}</td><td>$${month.sonnet?.toFixed(2) || '0.00'}</td><td>$${month.haiku?.toFixed(2) || '0.00'}</td><td><strong>$${month.total?.toFixed(2) || '0.00'}</strong></td></tr>`).join('');
        }

        // ============================================
        // CLOUD INFRASTRUCTURE COSTS FUNCTIONS
        // ============================================

        function loadCloudCostsData() {
            const data = CLOUD_COSTS_DATA;
            if (!data) return;

            // Update last updated timestamp
            const updatedEl = document.getElementById('cloud-costs-updated');
            if (updatedEl && data.lastUpdated) {
                const date = new Date(data.lastUpdated);
                updatedEl.textContent = `Updated: ${date.toLocaleDateString()}`;
            }

            // Use totals (new structure) or summary (old structure) for backwards compatibility
            const totals = data.totals || data.summary || {};

            // Update hero cards
            const totalMonth = document.getElementById('cloud-total-month');
            const projected = document.getElementById('cloud-projected');
            const ytd = document.getElementById('cloud-ytd');
            const savings = document.getElementById('cloud-savings');
            const monthLabel = document.getElementById('cloud-month-label');

            if (totalMonth) totalMonth.textContent = `€${(totals.totalMonthly || 0).toFixed(2)}`;
            if (projected) projected.textContent = `€${(totals.projectedMonthly || 0).toFixed(2)}`;
            if (ytd) ytd.textContent = `€${(totals.totalYTD || 0).toFixed(2)}`;
            if (savings) savings.textContent = `€${(totals.freeTierSavings || 0).toFixed(2)}`;
            if (monthLabel) {
                const currentMonth = new Date().toLocaleString('en-US', { month: 'long', year: 'numeric' });
                monthLabel.textContent = currentMonth;
            }

            // Update donut chart
            renderCloudDonut(data.providers, totals.totalMonthly || 0);

            // Render provider breakdown cards
            renderCloudProviderCards(data.providers);

            // Render monthly trend bars
            renderCloudMonthlyBars(data.monthly || []);

            // Render service details table
            renderCloudServicesTable(data.providers);

            // Render free tier usage
            renderFreeTierUsage(data.providers);

            // Render market comparison
            renderMarketComparison(data.marketComparison);
        }

        function renderCloudDonut(providers, total) {
            const ociCircle = document.querySelector('.cloud-donut-oci');
            const gcpCircle = document.querySelector('.cloud-donut-gcp');
            const donutTotal = document.getElementById('cloud-donut-total');

            if (!ociCircle || !gcpCircle) return;

            // Calculate provider costs
            const ociCost = providers?.oci?.monthly?.[0]?.totalCost || 0;
            const gcpCost = providers?.gcloud?.monthly?.[0]?.totalCost || 0;
            const actualTotal = ociCost + gcpCost || 0.01; // Prevent division by zero

            // Calculate percentages
            const ociPercent = (ociCost / actualTotal) * 100;
            const gcpPercent = (gcpCost / actualTotal) * 100;

            // SVG circle properties (circumference = 2 * PI * 40 ≈ 251)
            const circumference = 251;
            const ociDash = (ociPercent / 100) * circumference;
            const gcpDash = (gcpPercent / 100) * circumference;

            // Set OCI segment
            ociCircle.style.strokeDasharray = `${ociDash} ${circumference}`;
            ociCircle.style.strokeDashoffset = '0';

            // Set GCP segment (starts where OCI ends)
            gcpCircle.style.strokeDasharray = `${gcpDash} ${circumference}`;
            gcpCircle.style.strokeDashoffset = `-${ociDash}`;

            // Update center value
            if (donutTotal) {
                donutTotal.textContent = `€${actualTotal.toFixed(2)}`;
            }
        }

        function renderCloudProviderCards(providers) {
            const container = document.getElementById('cloud-providers-container');
            if (!container) return;

            let html = '';
            for (const [key, provider] of Object.entries(providers)) {
                const currentMonth = provider.monthly[0];
                const prevMonth = provider.monthly[1];
                const trend = prevMonth ? (currentMonth.totalCost - prevMonth.totalCost) : 0;
                const trendIcon = trend > 0 ? '▲' : trend < 0 ? '▼' : '—';
                const trendColor = trend > 0 ? 'var(--accent-red)' : trend < 0 ? 'var(--accent-green)' : 'var(--text-secondary)';
                const instanceCount = provider.instances?.length || 0;
                const region = provider.region || 'N/A';

                html += `
                <div style="background: var(--bg-secondary); border-radius: 12px; padding: 1.25rem; border-left: 4px solid ${provider.color}; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                        <div>
                            <div style="font-weight: 700; font-size: 1.1rem; color: var(--text-primary);">${provider.shortName || provider.name}</div>
                            <div style="font-size: 0.7rem; color: var(--text-secondary);">${provider.name}</div>
                        </div>
                        ${provider.freeTier ? `<span class="status-badge on" style="font-size: 0.65rem;">${provider.freeTierLabel || 'Free Tier'}</span>` : ''}
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 0.75rem;">
                        <div style="font-size: 2rem; font-weight: bold; color: ${provider.color};">€${currentMonth.totalCost.toFixed(2)}</div>
                        <div style="font-size: 0.8rem; color: ${trendColor}; font-weight: 600;">${trendIcon} €${Math.abs(trend).toFixed(2)}</div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; font-size: 0.75rem; color: var(--text-secondary); padding-top: 0.75rem; border-top: 1px solid var(--border-color);">
                        <div><strong>${instanceCount}</strong> instance${instanceCount !== 1 ? 's' : ''}</div>
                        <div style="text-align: right;">${region}</div>
                        <div><strong>${currentMonth.services.length}</strong> services</div>
                        <div style="text-align: right;">${currentMonth.month}</div>
                    </div>
                    ${provider.authRequired ? '<div style="margin-top: 0.75rem; font-size: 0.7rem; color: var(--accent-yellow); background: rgba(255,200,0,0.1); padding: 0.4rem 0.6rem; border-radius: 6px;">⚠️ ${provider.authMessage || "Requires auth for live data"}</div>' : ''}
                </div>
                `;
            }
            container.innerHTML = html;
        }

        function renderCloudMonthlyBars(monthly) {
            const container = document.getElementById('cloud-monthly-bars');
            if (!container || !monthly || !monthly.length) return;

            // Get last 6 months or available data
            const months = monthly.slice(0, 6).reverse();
            const maxCost = Math.max(...months.map(m => m.totalCost), 1);

            let html = '';
            months.forEach((month, i) => {
                const heightPercent = (month.totalCost / maxCost) * 100;
                const ociPercent = month.breakdown?.oci ? (month.breakdown.oci / month.totalCost) * 100 : 100;
                const gcpPercent = month.breakdown?.gcloud ? (month.breakdown.gcloud / month.totalCost) * 100 : 0;

                html += `
                <div class="ai-bar-group" style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                    <div style="width: 100%; height: 100%; position: relative; display: flex; flex-direction: column; justify-content: flex-end;">
                        <div style="height: ${Math.max(heightPercent, 5)}%; min-height: 4px; display: flex; flex-direction: column; border-radius: 4px 4px 0 0; overflow: hidden;">
                            <div style="height: ${ociPercent}%; background: linear-gradient(180deg, #F80000, #cc0000);"></div>
                            <div style="height: ${gcpPercent}%; background: linear-gradient(180deg, #4285F4, #2a5db0);"></div>
                        </div>
                    </div>
                    <div style="font-size: 0.7rem; color: var(--text-secondary);">${month.label?.split(' ')[0]?.substring(0,3) || month.month}</div>
                    <div style="font-size: 0.75rem; font-weight: 600; color: var(--text-primary);">€${month.totalCost.toFixed(2)}</div>
                </div>
                `;
            });

            container.innerHTML = html;
        }

        function renderCloudServicesTable(providers) {
            const tbody = document.getElementById('cloud-services-tbody');
            if (!tbody) return;

            let html = '';
            for (const [key, provider] of Object.entries(providers)) {
                const currentMonth = provider.monthly[0];

                for (const service of currentMonth.services) {
                    const freeTierBadge = service.freeUsed
                        ? '<span class="status-badge on" style="font-size: 0.65rem;">Free</span>'
                        : '<span class="status-badge" style="font-size: 0.65rem; background: rgba(255,100,100,0.15); color: var(--accent-red); border: 1px solid var(--accent-red);">Paid</span>';

                    const costDisplay = service.cost > 0
                        ? `<span style="color: var(--accent-orange);">€${service.cost.toFixed(2)}</span>`
                        : '<span style="color: var(--accent-green);">€0.00</span>';

                    html += `
                    <tr>
                        <td><span style="color: ${provider.color}; font-weight: 600;">${provider.shortName || key.toUpperCase()}</span></td>
                        <td style="font-weight: 500;">${service.name}</td>
                        <td style="font-size: 0.75rem; color: var(--text-secondary);">${service.description || '—'}</td>
                        <td><code style="background: var(--bg-tertiary); padding: 0.2rem 0.4rem; border-radius: 4px; font-size: 0.75rem;">${service.usage?.toFixed(2) || 0} ${service.unit || ''}</code></td>
                        <td style="font-weight: 600;">${costDisplay}</td>
                        <td>${freeTierBadge}</td>
                    </tr>
                    `;
                }
            }
            tbody.innerHTML = html || '<tr><td colspan="6" style="text-align: center;">No data available</td></tr>';
        }

        function renderFreeTierUsage(providers) {
            const container = document.getElementById('cloud-free-tier-container');
            if (!container) return;

            let html = '';
            for (const [key, provider] of Object.entries(providers)) {
                if (!provider.freeTierLimits) continue;

                html += `<div style="background: var(--bg-secondary); border-radius: 12px; padding: 1.25rem; border-left: 4px solid ${provider.color};">
                    <div style="font-weight: 700; font-size: 1rem; color: ${provider.color}; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <span>${provider.shortName || provider.name}</span>
                        <span style="font-size: 0.7rem; color: var(--text-secondary); font-weight: normal;">${provider.freeTierLabel || 'Free Tier'}</span>
                    </div>`;

                for (const [service, limits] of Object.entries(provider.freeTierLimits)) {
                    const percent = limits.percentage || 0;
                    const barColor = percent >= 90 ? 'var(--accent-red)' : percent >= 70 ? 'var(--accent-yellow)' : 'var(--accent-green)';

                    html += `
                    <div style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 0.4rem;">
                            <span style="color: var(--text-primary); font-weight: 500;">${service}</span>
                            <span style="color: var(--text-secondary);">${limits.used} / ${limits.limit}</span>
                        </div>
                        <div style="height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden;">
                            <div style="height: 100%; width: ${percent}%; background: ${barColor}; border-radius: 4px; transition: width 0.3s ease;"></div>
                        </div>
                        ${limits.note ? `<div style="font-size: 0.7rem; color: var(--text-secondary); margin-top: 0.25rem;">${limits.note}</div>` : ''}
                    </div>`;
                }

                html += `</div>`;
            }
            container.innerHTML = html || '<div style="color: var(--text-secondary);">No free tier data available</div>';
        }

        function renderMarketComparison(comparison) {
            const container = document.getElementById('cloud-market-comparison');
            if (!container || !comparison) return;

            const actualCost = comparison.actualCost || 0;
            const awsCost = comparison.equivalentAWS?.monthly || 0;
            const azureCost = comparison.equivalentAzure?.monthly || 0;
            const savings = comparison.savings || 0;
            const savingsPercent = comparison.savingsPercent || 0;

            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem;">
                    <div style="text-align: center; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.5rem;">Your Cost</div>
                        <div style="font-size: 2rem; font-weight: bold; color: var(--accent-green);">€${actualCost.toFixed(2)}</div>
                        <div style="font-size: 0.7rem; color: var(--text-secondary);">OCI + GCP Free Tiers</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.5rem;">AWS Equivalent</div>
                        <div style="font-size: 2rem; font-weight: bold; color: var(--accent-orange);">€${awsCost.toFixed(2)}</div>
                        <div style="font-size: 0.7rem; color: var(--text-secondary);">${comparison.equivalentAWS?.description || 't3.medium + EBS'}</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px;">
                        <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.5rem;">Azure Equivalent</div>
                        <div style="font-size: 2rem; font-weight: bold; color: var(--accent-blue);">€${azureCost.toFixed(2)}</div>
                        <div style="font-size: 0.7rem; color: var(--text-secondary);">${comparison.equivalentAzure?.description || 'B2s + SSD'}</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: linear-gradient(135deg, rgba(0,200,100,0.1), rgba(0,150,80,0.1)); border-radius: 8px; border: 1px solid var(--accent-green);">
                        <div style="font-size: 0.75rem; color: var(--accent-green); margin-bottom: 0.5rem;">Your Savings</div>
                        <div style="font-size: 2rem; font-weight: bold; color: var(--accent-green);">€${savings.toFixed(2)}</div>
                        <div style="font-size: 0.8rem; font-weight: 600; color: var(--accent-green);">${savingsPercent}% saved</div>
                    </div>
                </div>
            `;
        }

        // ============================================
        // RESOURCES TAB FUNCTIONS (htop-style)
        // ============================================

        async function loadResourcesData() {
            const monitor = document.getElementById('resources-monitor');
            if (!monitor) return;

            try {
                if (typeof CONFIG === 'undefined' || !CONFIG.virtualMachines) {
                    monitor.innerHTML = '<div class="htop-loading">No configuration data available</div>';
                    return;
                }

                const vms = Object.values(CONFIG.virtualMachines);
                const services = CONFIG.services || {};

                // Group services by VM
                const servicesByVM = {};
                Object.values(services).forEach(svc => {
                    if (svc.vmId) {
                        if (!servicesByVM[svc.vmId]) {
                            servicesByVM[svc.vmId] = [];
                        }
                        servicesByVM[svc.vmId].push(svc);
                    }
                });

                // Sort services by RAM usage (descending) within each VM
                Object.keys(servicesByVM).forEach(vmId => {
                    servicesByVM[vmId].sort((a, b) => {
                        const ramA = parseResourceValue(a.resources?.ram?.max || a.resources?.ram?.min || '0');
                        const ramB = parseResourceValue(b.resources?.ram?.max || b.resources?.ram?.min || '0');
                        return ramB - ramA;
                    });
                });

                // Render htop-style VM cards
                let html = '';
                vms.forEach(vm => {
                    const vmServices = servicesByVM[vm.id] || [];
                    const specs = vm.specs || {};

                    // Parse VM specs
                    const cpuText = specs.cpu || 'N/A';
                    const ramText = specs.ram || 'N/A';
                    const storageText = specs.storage || 'N/A';
                    const vramText = specs.vram || null;

                    // Calculate service usage totals
                    const ramTotal = parseResourceValue(ramText);
                    let ramUsed = 0;
                    let storageUsed = 0;

                    vmServices.forEach(svc => {
                        ramUsed += parseResourceValue(svc.resources?.ram?.max || svc.resources?.ram?.min || '0');
                        storageUsed += parseResourceValue(svc.resources?.storage?.max || svc.resources?.storage?.min || '0');
                    });

                    const storageTotal = parseResourceValue(storageText);
                    const ramPercent = ramTotal > 0 ? Math.min((ramUsed / ramTotal) * 100, 100) : 0;
                    const storagePercent = storageTotal > 0 ? Math.min((storageUsed / storageTotal) * 100, 100) : 0;

                    // CPU is simulated as core count for display
                    const cpuMatch = cpuText.match(/(\d+)/);
                    const cpuCores = cpuMatch ? parseInt(cpuMatch[1]) : 1;

                    html += `
                        <div class="htop-vm-card">
                            <div class="htop-vm-header">
                                <div class="htop-vm-title">
                                    <span class="htop-vm-name">${vm.name}</span>
                                    <span class="htop-vm-specs">${cpuText} • ${ramText} • ${storageText}</span>
                                </div>
                                <div class="htop-vm-status">
                                    <span class="htop-vm-badge ${vm.availability === 'wake-on-demand' ? 'dormant' : (vm.status === 'active' ? 'active' : 'stopped')}">${vm.availability === 'wake-on-demand' ? 'dormant' : (vm.status || 'unknown')}</span>
                                </div>
                            </div>

                            <div class="htop-bars-grid">
                                <div class="htop-bar-item">
                                    <div class="htop-bar-label">
                                        <span class="htop-bar-name">CPU</span>
                                        <span class="htop-bar-value">${cpuCores} core${cpuCores > 1 ? 's' : ''}</span>
                                    </div>
                                    <div class="htop-bar">
                                        <div class="htop-bar-fill cpu" style="width: ${vmServices.length > 0 ? 30 : 5}%"></div>
                                    </div>
                                </div>

                                <div class="htop-bar-item">
                                    <div class="htop-bar-label">
                                        <span class="htop-bar-name">RAM</span>
                                        <span class="htop-bar-value">${formatBytesCompact(ramUsed)} / ${ramText}</span>
                                    </div>
                                    <div class="htop-bar">
                                        <div class="htop-bar-fill ram ${getBarLevel(ramPercent)}" style="width: ${Math.max(ramPercent, 2)}%"></div>
                                    </div>
                                </div>

                                <div class="htop-bar-item">
                                    <div class="htop-bar-label">
                                        <span class="htop-bar-name">Storage</span>
                                        <span class="htop-bar-value">${formatBytesCompact(storageUsed)} / ${storageText}</span>
                                    </div>
                                    <div class="htop-bar">
                                        <div class="htop-bar-fill storage ${getBarLevel(storagePercent)}" style="width: ${Math.max(storagePercent, 2)}%"></div>
                                    </div>
                                </div>

                                ${vramText ? `
                                <div class="htop-bar-item">
                                    <div class="htop-bar-label">
                                        <span class="htop-bar-name">VRAM</span>
                                        <span class="htop-bar-value">${vramText}</span>
                                    </div>
                                    <div class="htop-bar">
                                        <div class="htop-bar-fill vram" style="width: 0%"></div>
                                    </div>
                                </div>
                                ` : ''}
                            </div>

                            <div class="htop-services">
                                <div class="htop-services-title">Services (${vmServices.length}) — sorted by RAM</div>
                                ${vmServices.length > 0 ? `
                                <div class="htop-service-list">
                                    ${vmServices.map(svc => {
                                        const svcRam = parseResourceValue(svc.resources?.ram?.max || svc.resources?.ram?.min || '0');
                                        const svcStorage = parseResourceValue(svc.resources?.storage?.max || svc.resources?.storage?.min || '0');
                                        const svcRamPercent = ramTotal > 0 ? (svcRam / ramTotal) * 100 : 0;
                                        const svcStoragePercent = storageTotal > 0 ? (svcStorage / storageTotal) * 100 : 0;

                                        return `
                                        <div class="htop-service-row">
                                            <span class="htop-service-name">${svc.displayName || svc.name}</span>
                                            <div class="htop-service-bar" title="RAM: ${formatBytesCompact(svcRam)}">
                                                <div class="htop-service-bar-fill ram" style="width: ${Math.max(svcRamPercent, 2)}%"></div>
                                            </div>
                                            <span class="htop-service-value">${formatBytesCompact(svcRam)}</span>
                                        </div>
                                        `;
                                    }).join('')}
                                </div>
                                ` : '<div class="htop-no-services">No services deployed</div>'}
                            </div>
                        </div>
                    `;
                });

                monitor.innerHTML = html;

            } catch (error) {
                console.error('Error loading resources data:', error);
                monitor.innerHTML = `<div class="htop-loading" style="color: var(--accent-red);">Error: ${error.message}</div>`;
            }
        }

        function getBarLevel(percent) {
            if (percent < 60) return '';
            if (percent < 80) return 'warning';
            return 'danger';
        }

        function formatBytesCompact(bytes) {
            if (!bytes || bytes === 0) return '0';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            const value = bytes / Math.pow(k, i);
            return value < 10 ? value.toFixed(1) + ' ' + sizes[i] : Math.round(value) + ' ' + sizes[i];
        }

        function getGaugeColor(percent) {
            if (percent < 70) return '#51cf66';
            if (percent < 90) return '#ffc107';
            return '#ff6b6b';
        }

        async function killService(serviceId) {
            const isLoggedIn = localStorage.getItem('github_token');
            if (!isLoggedIn) {
                alert('Please login to kill services');
                return;
            }

            if (!confirm(`Are you sure you want to kill ${serviceId}? This will stop the container.`)) {
                return;
            }

            try {
                const token = localStorage.getItem('github_token');
                const response = await fetch(`${apiUrl}/service/${serviceId}/kill`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    showNotification(`${serviceId} killed successfully`);
                    setTimeout(() => loadResourcesData(), 1000);
                } else {
                    const error = await response.text();
                    throw new Error(error);
                }
            } catch (error) {
                alert(`Failed to kill service: ${error.message}`);
            }
        }

        function formatBytes(bytes) {
            if (!bytes || bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i];
        }

        function parseResourceValue(value) {
            if (!value) return 0;
            if (typeof value === 'number') return value;
            const match = value.match(/(\d+(?:\.\d+)?)\s*([KMGT]?B)/i);
            if (!match) return 0;
            const num = parseFloat(match[1]);
            const unit = match[2].toUpperCase();
            const multipliers = { 'B': 1, 'KB': 1024, 'MB': 1024*1024, 'GB': 1024*1024*1024, 'TB': 1024*1024*1024*1024 };
            return num * (multipliers[unit] || 1);
        }

        function getUsageLevel(percent) {
            const p = parseFloat(percent);
            if (p < 60) return 'ok';
            if (p < 80) return 'warning';
            return 'danger';
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.classList.add('closing');
                setTimeout(() => notification.remove(), 300);
            }, 2000);
        }

        // ============================================
        // INFRASTRUCTURE TAB (Status View)
        // ============================================
        function loadInfraData() {
            console.log('loadInfraData() CALLED');
            try {
            // Use CONFIG if available, otherwise use FALLBACK_INFRASTRUCTURE
            if (typeof CONFIG === 'undefined' || !CONFIG.virtualMachines) {
                console.warn('loadInfraData: CONFIG not available, using FALLBACK_INFRASTRUCTURE');
                window.CONFIG = FALLBACK_INFRASTRUCTURE;
            }
            console.log('loadInfraData: CONFIG.virtualMachines =', CONFIG.virtualMachines);
            console.log('loadInfraData: CONFIG.services =', CONFIG.services);

            // Populate VMs table
            const vmsTbody = document.getElementById('infra-vms-tbody');
            console.log('loadInfraData: vmsTbody element =', vmsTbody);
            if (vmsTbody) {
                vmsTbody.innerHTML = '';
                Object.values(CONFIG.virtualMachines || {}).forEach(vm => {
                    const statusBadge = vm.status === 'active' ? 'on' : vm.status === 'pending' ? 'tbd' : vm.status === 'hold' ? 'hold' : 'dev';
                    const provider = CONFIG.providers?.[vm.provider];
                    const hostName = provider?.name || vm.provider || 'Unknown';
                    const ip = vm.network?.publicIp || 'pending';
                    // Handle os as object {name, version} or string
                    const osObj = vm.os || {};
                    const os = typeof osObj === 'string' ? osObj : (osObj.name ? `${osObj.name} ${osObj.version || ''}`.trim() : '-');
                    const sshCommand = vm.ssh?.command || `ssh ${vm.ssh?.user || 'root'}@${ip}`;
                    const consoleUrl = vm.ociInstanceId ? `https://cloud.oracle.com/compute/instances/${vm.ociInstanceId}` : (provider?.consoleUrl || '');

                    const dockerNetwork = vm.network?.dockerNetwork || vm.dockerNetwork || 'bridge';
                    vmsTbody.innerHTML += `
                        <tr class="vm-row">
                            <td>${hostName}</td>
                            <td><strong>${vm.name}</strong></td>
                            <td><code class="ip-address">${ip}</code></td>
                            <td><code>${dockerNetwork}</code></td>
                            <td>${os}</td>
                            <td>
                                <div class="vm-actions-inline">
                                    <button class="vm-action-btn btn-ssh" onclick="copyToClipboard('${sshCommand.replace(/'/g, "\\'")}', 'SSH command copied!')" title="Copy SSH command">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                                    </button>
                                    <button class="vm-action-btn btn-url" onclick="window.open('${consoleUrl}', '_blank')" ${!consoleUrl ? 'disabled' : ''} title="Open cloud console">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                                    </button>
                                </div>
                            </td>
                        </tr>`;
                });
            }

            // Populate Services by VM
            const servicesContainer = document.getElementById('infra-services-by-vm-container');
            if (servicesContainer) {
                servicesContainer.innerHTML = '';
                const vms = Object.values(CONFIG.virtualMachines || {});
                const services = Object.values(CONFIG.services || {});

                vms.forEach(vm => {
                    const vmServices = services.filter(svc => svc.vmId === vm.id && svc.status === 'on');
                    if (vmServices.length === 0) return;

                    const vmIp = vm.network?.publicIp || '-';

                    let html = `
                        <div class="resources-section" style="margin-bottom: 1.5rem;">
                            <h4 style="color: var(--text-primary); margin-bottom: 0.75rem;">${vm.name}</h4>
                            <div class="resources-table-container">
                                <table class="resources-table status-table" style="font-size: 0.85rem;">
                                    <thead><tr><th>Service</th><th>URL</th><th>IP:PORT</th><th>Docker Network</th><th>Container</th><th>Brief</th></tr></thead>
                                    <tbody>`;

                    vmServices.forEach(svc => {
                        const url = svc.urls?.gui || svc.urls?.api || '-';
                        const port = svc.network?.port || '-';
                        const ipPort = port !== '-' ? `${vmIp}:${port}` : '-';
                        const dockerNetwork = svc.network?.dockerNetwork || vm.network?.dockerNetwork || 'bridge';
                        const container = svc.container || svc.containerName || svc.id || '-';
                        const brief = svc.description || svc.brief || '-';
                        html += `
                            <tr>
                                <td><strong>${svc.displayName || svc.name}</strong></td>
                                <td>${url !== '-' ? `<a href="${url}" target="_blank" style="color: var(--accent-blue);">${url}</a>` : '-'}</td>
                                <td><code>${ipPort}</code></td>
                                <td><code>${dockerNetwork}</code></td>
                                <td><code>${container}</code></td>
                                <td style="color: var(--text-secondary); font-size: 0.8rem;">${brief}</td>
                            </tr>`;
                    });

                    html += `</tbody></table></div></div>`;
                    servicesContainer.innerHTML += html;
                });
            }
            console.log('loadInfraData() COMPLETED');
            } catch (e) {
                console.error('loadInfraData() ERROR:', e);
            }
        }

        // Populate Infrastructure By Type view
        function loadInfraByTypeData() {
            // Use FALLBACK_INFRASTRUCTURE if CONFIG not available
            if (typeof CONFIG === 'undefined' || !CONFIG.virtualMachines) {
                window.CONFIG = FALLBACK_INFRASTRUCTURE;
            }

            const services = Object.values(CONFIG.services || {});
            const vms = CONFIG.virtualMachines || {};

            // Define service type categories
            const typeCategories = {
                'security': {
                    container: 'infra-type-security',
                    match: svc => ['backup', 'security', 'vault', 'encryption'].some(k =>
                        (svc.category || '').toLowerCase().includes(k) ||
                        (svc.name || '').toLowerCase().includes(k) ||
                        (svc.displayName || '').toLowerCase().includes(k)
                    )
                },
                'auth-proxy': {
                    container: 'infra-type-auth-proxy',
                    match: svc => ['proxy', 'npm', 'nginx', 'authelia', 'auth', 'oauth', 'vpn', 'tunnel'].some(k =>
                        (svc.category || '').toLowerCase().includes(k) ||
                        (svc.name || '').toLowerCase().includes(k) ||
                        (svc.displayName || '').toLowerCase().includes(k) ||
                        (svc.id || '').toLowerCase().includes(k)
                    )
                },
                'audit': {
                    container: 'infra-type-audit',
                    match: svc => ['matomo', 'analytics', 'audit', 'log', 'monitor'].some(k =>
                        (svc.category || '').toLowerCase().includes(k) ||
                        (svc.name || '').toLowerCase().includes(k) ||
                        (svc.displayName || '').toLowerCase().includes(k)
                    )
                },
                'data-api': {
                    container: 'infra-type-data-api',
                    match: svc => ['api', 'flask', 'cache', 'redis', 'db', 'database', 'mcp', 'postgres', 'mysql', 'maria'].some(k =>
                        (svc.category || '').toLowerCase().includes(k) ||
                        (svc.name || '').toLowerCase().includes(k) ||
                        (svc.displayName || '').toLowerCase().includes(k) ||
                        (svc.technology?.type || '').toLowerCase().includes(k)
                    )
                }
            };

            // Categorize services
            const categorized = {
                'security': [],
                'auth-proxy': [],
                'audit': [],
                'data-api': [],
                'others': []
            };

            services.forEach(svc => {
                if (svc.status !== 'on') return; // Only active services

                let matched = false;
                for (const [catKey, catDef] of Object.entries(typeCategories)) {
                    if (catDef.match(svc)) {
                        categorized[catKey].push(svc);
                        matched = true;
                        break;
                    }
                }
                if (!matched) {
                    categorized['others'].push(svc);
                }
            });

            // Render each category
            function renderTypeTable(containerId, serviceList) {
                const container = document.getElementById(containerId);
                if (!container) return;

                if (serviceList.length === 0) {
                    container.innerHTML = '<p style="color: var(--text-secondary); font-style: italic;">No services in this category</p>';
                    return;
                }

                let html = `
                    <div class="infra-type-table-wrapper">
                        <table class="infra-type-table">
                            <thead><tr><th>Service</th><th>VM</th><th>URL</th><th>IP:Port</th><th>Docker Network</th><th>Container</th><th>Brief</th></tr></thead>
                            <tbody>`;

                serviceList.forEach(svc => {
                    const vm = vms[svc.vmId];
                    const vmName = vm?.name || svc.vmId || '-';
                    const vmIp = vm?.network?.publicIp || '-';
                    const port = svc.network?.internalPort || svc.network?.port || '-';
                    const ipPort = (vmIp !== '-' && port !== '-') ? `${vmIp}:${port}` : '-';
                    const url = svc.urls?.gui || svc.urls?.api || svc.urls?.admin || '-';
                    const dockerNetwork = svc.network?.dockerNetwork || vm?.network?.dockerNetwork || 'bridge';
                    const container = svc.technology?.image || svc.container || svc.id || '-';
                    const brief = svc.description || svc.brief || svc.notes || '-';

                    html += `
                        <tr>
                            <td><strong>${svc.displayName || svc.name}</strong></td>
                            <td>${vmName}</td>
                            <td>${url !== '-' ? `<a href="${url}" target="_blank" style="color: var(--accent-blue);">${url}</a>` : '-'}</td>
                            <td><code>${ipPort}</code></td>
                            <td><code>${dockerNetwork}</code></td>
                            <td><code style="font-size: 0.75rem;">${container}</code></td>
                            <td style="color: var(--text-secondary); font-size: 0.8rem;">${brief}</td>
                        </tr>`;
                });

                html += '</tbody></table></div>';
                container.innerHTML = html;
            }

            renderTypeTable('infra-type-security', categorized['security']);
            renderTypeTable('infra-type-auth-proxy', categorized['auth-proxy']);
            renderTypeTable('infra-type-audit', categorized['audit']);
            renderTypeTable('infra-type-data-api', categorized['data-api']);
            renderTypeTable('infra-type-others', categorized['others']);
        }

        // Infrastructure view toggle (Category + Tree/List + By VM/By Type)
        let currentCategory = 'app'; // 'app', 'data', or 'containers'
        let currentDisplayMode = 'list'; // 'tree' or 'list'
        let currentGroupMode = 'by-vm'; // 'by-vm' or 'by-type'
        let byTypeLoaded = false;
        let treeByVmLoaded = false;
        let treeByTypeLoaded = false;

        function initInfraViewToggle() {
            // Category toggle in nav-level3 (App / Data / Containers)
            const categoryBtns = document.querySelectorAll('[data-topology-cat]');
            // View mode controls (Tree/List, By VM/By Type)
            const displayBtns = document.querySelectorAll('.view-mode-btn[data-display-mode]');
            const groupBtns = document.querySelectorAll('.view-mode-btn[data-group-mode]');

            // Category toggle (App / Data / Containers) - from nav-level3
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    currentCategory = this.dataset.topologyCat;
                    categoryBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    updateInfraView();
                });
            });

            // Display mode toggle (Tree/List)
            displayBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    currentDisplayMode = this.dataset.displayMode;
                    displayBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    updateInfraView();
                });
            });

            // Group mode toggle (By VM / By Type)
            groupBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    currentGroupMode = this.dataset.groupMode;
                    groupBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    updateInfraView();
                });
            });
        }

        function updateInfraView() {
            // App views
            const byVmView = document.getElementById('infra-by-vm-view');
            const byTypeView = document.getElementById('infra-by-type-view');
            const treeByVmView = document.getElementById('infra-tree-by-vm-view');
            const treeByTypeView = document.getElementById('infra-tree-by-type-view');
            // Data views
            const dataView = document.getElementById('infra-data-view');
            // Containers views
            const containersView = document.getElementById('infra-containers-view');
            // Security views
            const securityView = document.getElementById('infra-security-view');

            // Hide all views
            [byVmView, byTypeView, treeByVmView, treeByTypeView, dataView, containersView, securityView].forEach(v => {
                if (v) {
                    v.style.display = 'none';
                    v.classList.remove('active');
                }
            });

            // Show the appropriate view based on category
            if (currentCategory === 'data') {
                // Data category - show data view (list only for now)
                dataView.style.display = 'block';
                dataView.classList.add('active');
            } else if (currentCategory === 'containers') {
                // Containers category - show containers view (list only for now)
                containersView.style.display = 'block';
                containersView.classList.add('active');
            } else if (currentCategory === 'security') {
                // Security category - show security topology view
                securityView.style.display = 'block';
                securityView.classList.add('active');
            } else {
                // App category - respect display mode and group mode
                if (currentDisplayMode === 'list') {
                    if (currentGroupMode === 'by-vm') {
                        byVmView.style.display = 'block';
                        byVmView.classList.add('active');
                    } else {
                        byTypeView.style.display = 'block';
                        byTypeView.classList.add('active');
                        if (!byTypeLoaded) {
                            loadInfraByTypeData();
                            byTypeLoaded = true;
                        }
                    }
                } else {
                    // Tree view
                    if (currentGroupMode === 'by-vm') {
                        treeByVmView.style.display = 'block';
                    treeByVmView.classList.add('active');
                    if (!treeByVmLoaded) {
                        renderTreeByVM();
                        treeByVmLoaded = true;
                    }
                } else {
                    treeByTypeView.style.display = 'block';
                    treeByTypeView.classList.add('active');
                    if (!treeByTypeLoaded) {
                        renderTreeByType();
                        treeByTypeLoaded = true;
                    }
                }
                }
            }
        }

        // Render Tree View - By VM
        function renderTreeByVM() {
            if (typeof CONFIG === 'undefined' || !CONFIG.virtualMachines) {
                window.CONFIG = FALLBACK_INFRASTRUCTURE;
            }

            const container = document.getElementById('tree-by-vm-container');
            if (!container) return;

            const vms = Object.values(CONFIG.virtualMachines || {});
            const services = Object.values(CONFIG.services || {});

            let html = `
                <div class="tree-root">
                    <div class="tree-root-node">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 15a4 4 0 0 0 4 4h9a5 5 0 1 0-.9-9.9 7 7 0 1 0-13.1 5.9z"/></svg>
                        Infrastructure
                    </div>
                    <div class="tree-connector-vertical"></div>
                    <div class="tree-branches">`;

            vms.forEach(vm => {
                const vmServices = services.filter(svc => svc.vmId === vm.id && svc.status === 'on');
                const ip = vm.network?.publicIp || 'pending';
                const provider = CONFIG.providers?.[vm.provider];
                const hostName = provider?.name || vm.provider || '';

                html += `
                    <div class="tree-branch">
                        <div class="tree-branch-connector"></div>
                        <div class="tree-node tree-node-vm">
                            <div class="tree-node-title">${vm.name}</div>
                            <div class="tree-node-subtitle">${hostName}</div>
                            <div class="tree-node-ip">${ip}</div>
                        </div>
                        <div class="tree-children">
                            <div class="tree-child-connector"></div>`;

                vmServices.forEach(svc => {
                    const url = svc.urls?.gui || svc.urls?.api || '';
                    html += `
                        <div class="tree-leaf">
                            <span class="tree-leaf-name">${svc.displayName || svc.name}</span>
                            ${url ? `<a href="${url}" target="_blank" class="tree-leaf-url">${url.replace('https://', '')}</a>` : '<span class="tree-leaf-badge">internal</span>'}
                        </div>`;
                });

                if (vmServices.length === 0) {
                    html += `<div class="tree-leaf"><span class="tree-leaf-name" style="color: var(--text-secondary); font-style: italic;">No active services</span></div>`;
                }

                html += `</div></div>`;
            });

            html += `</div></div>`;
            container.innerHTML = html;
        }

        // Render Tree View - By Type
        function renderTreeByType() {
            if (typeof CONFIG === 'undefined' || !CONFIG.virtualMachines) {
                window.CONFIG = FALLBACK_INFRASTRUCTURE;
            }

            const container = document.getElementById('tree-by-type-container');
            if (!container) return;

            const services = Object.values(CONFIG.services || {});
            const vms = CONFIG.virtualMachines || {};

            // Define type categories with icons
            const typeCategories = [
                { key: 'security', name: 'Security', icon: '🔐', keywords: ['backup', 'security', 'vault', 'encryption'] },
                { key: 'auth-proxy', name: 'Auth & Proxy', icon: '🛡️', keywords: ['proxy', 'npm', 'nginx', 'authelia', 'auth', 'oauth', 'vpn', 'tunnel'] },
                { key: 'audit', name: 'Audit & Analytics', icon: '📊', keywords: ['matomo', 'analytics', 'audit', 'log', 'monitor'] },
                { key: 'data-api', name: 'Data & API', icon: '⚡', keywords: ['api', 'flask', 'cache', 'redis', 'db', 'database', 'mcp', 'postgres', 'mysql', 'maria'] },
                { key: 'others', name: 'Other Services', icon: '📦', keywords: [] }
            ];

            // Categorize services
            const categorized = {};
            typeCategories.forEach(cat => categorized[cat.key] = []);

            services.forEach(svc => {
                if (svc.status !== 'on') return;
                const svcText = `${svc.category || ''} ${svc.name || ''} ${svc.displayName || ''} ${svc.id || ''}`.toLowerCase();

                let matched = false;
                for (const cat of typeCategories) {
                    if (cat.keywords.length > 0 && cat.keywords.some(k => svcText.includes(k))) {
                        categorized[cat.key].push(svc);
                        matched = true;
                        break;
                    }
                }
                if (!matched) categorized['others'].push(svc);
            });

            let html = `
                <div class="tree-root">
                    <div class="tree-root-node">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
                        Service Types
                    </div>
                    <div class="tree-connector-vertical"></div>
                    <div class="tree-branches">`;

            typeCategories.forEach(cat => {
                const catServices = categorized[cat.key];
                if (catServices.length === 0) return;

                html += `
                    <div class="tree-branch">
                        <div class="tree-branch-connector"></div>
                        <div class="tree-node tree-node-type">
                            <div class="tree-node-title">${cat.icon} ${cat.name}</div>
                            <div class="tree-node-subtitle">${catServices.length} service${catServices.length > 1 ? 's' : ''}</div>
                        </div>
                        <div class="tree-children">
                            <div class="tree-child-connector"></div>`;

                catServices.forEach(svc => {
                    const vm = vms[svc.vmId];
                    const vmName = vm?.name || '';
                    const url = svc.urls?.gui || svc.urls?.api || '';
                    html += `
                        <div class="tree-leaf">
                            <span class="tree-leaf-name">${svc.displayName || svc.name}</span>
                            <span class="tree-leaf-badge">${vmName}</span>
                            ${url ? `<a href="${url}" target="_blank" class="tree-leaf-url">${url.replace('https://', '')}</a>` : ''}
                        </div>`;
                });

                html += `</div></div>`;
            });

            html += `</div></div>`;
            container.innerHTML = html;
        }

        // Tab Switching with Lazy Loading
        function initTabs() {
            const headerButtons = document.querySelectorAll('[data-dash-tab]');
            const parentButtons = document.querySelectorAll('[data-dash-parent]');
            const tabContents = document.querySelectorAll('.tab-content');
            const loadedTabs = { resources: true };
            const validTabs = ['status', 'resources', 'cost', 'apps', 'security', 'infra', 'audit-analytics', 'audit-logs'];
            // Map legacy tab names to new names
            const tabAliases = { 'performance': 'resources' };
            // Map tabs to their parent groups
            const tabToParent = {
                'infra': 'topology',
                'resources': 'monitor',
                'security': 'monitor',
                'audit-analytics': 'monitor',
                'audit-logs': 'monitor'
            };

            function hideAllLevel3Navs() {
                const navTopology = document.getElementById('nav-topology');
                const navMonitor = document.getElementById('nav-monitor');
                const navCost = document.getElementById('nav-cost');
                const navApps = document.getElementById('nav-apps');
                if (navTopology) navTopology.style.display = 'none';
                if (navMonitor) navMonitor.style.display = 'none';
                if (navCost) navCost.style.display = 'none';
                if (navApps) navApps.style.display = 'none';
            }

            function switchTab(targetTab) {
                try {
                    // Handle legacy tab names
                    if (tabAliases[targetTab]) targetTab = tabAliases[targetTab];

                    // Find the target tab content
                    const targetTabEl = document.getElementById(`${targetTab}-tab`);
                    if (!targetTabEl) {
                        console.error(`Tab content not found: ${targetTab}-tab`);
                        return;
                    }

                    // Update header buttons and tab contents
                    headerButtons.forEach(b => b.classList.remove('active'));
                    parentButtons.forEach(b => b.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));

                    // Activate the selected tab
                    document.querySelectorAll(`[data-dash-tab="${targetTab}"]`).forEach(b => b.classList.add('active'));
                    targetTabEl.classList.add('active');

                    // Handle level 3 navigation visibility
                    hideAllLevel3Navs();

                    // Show appropriate level 3 nav and activate parent button
                    const parentGroup = tabToParent[targetTab];
                    if (parentGroup === 'topology') {
                        const navTopology = document.getElementById('nav-topology');
                        if (navTopology) navTopology.style.display = 'flex';
                        document.querySelector('[data-dash-parent="topology"]')?.classList.add('active');
                    } else if (parentGroup === 'monitor') {
                        const navMonitor = document.getElementById('nav-monitor');
                        if (navMonitor) navMonitor.style.display = 'flex';
                        document.querySelector('[data-dash-parent="monitor"]')?.classList.add('active');
                    } else if (targetTab === 'cost') {
                        const navCost = document.getElementById('nav-cost');
                        if (navCost) navCost.style.display = 'flex';
                        document.querySelector('[data-dash-tab="cost"]')?.classList.add('active');
                    } else if (targetTab === 'apps') {
                        const navApps = document.getElementById('nav-apps');
                        if (navApps) navApps.style.display = 'flex';
                        document.querySelector('[data-dash-tab="apps"]')?.classList.add('active');
                    }

                    // Update URL hash
                    window.history.replaceState(null, null, `#${targetTab}`);

                    if (!loadedTabs[targetTab]) {
                        loadedTabs[targetTab] = true;
                        if (targetTab === 'cost') loadCostData();
                        else if (targetTab === 'resources') loadResourcesData();
                        else if (targetTab === 'infra') loadInfraData();
                    }
                } catch (error) {
                    console.error('Error switching tab:', error);
                }
            }

            // Handle parent buttons (Topology, Monitor, Audit) - click switches to first child tab
            parentButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const parentGroup = btn.getAttribute('data-dash-parent');
                    // Switch to the first tab in this group
                    if (parentGroup === 'topology') switchTab('infra');
                    else if (parentGroup === 'monitor') switchTab('resources');
                });
            });

            // Handle header monitoring buttons
            console.log('Setting up tab buttons, found:', headerButtons.length);
            headerButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetTab = btn.getAttribute('data-dash-tab');
                    console.log('Tab clicked:', targetTab);
                    switchTab(targetTab);
                });
            });

            // Handle URL hash on page load
            const hash = window.location.hash.slice(1);
            if (hash && (validTabs.includes(hash) || tabAliases[hash])) {
                switchTab(hash);
            }

            // Handle hash changes (browser back/forward)
            window.addEventListener('hashchange', () => {
                const newHash = window.location.hash.slice(1);
                if (newHash && (validTabs.includes(newHash) || tabAliases[newHash])) {
                    switchTab(newHash);
                }
            });
        }

        // Cost Sub-tab Switching
        function initCostSubtabs() {
            const subtabButtons = document.querySelectorAll('#nav-cost [data-subtab]');
            const subtabContents = document.querySelectorAll('.cost-subtab-content');

            subtabButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetSubtab = btn.getAttribute('data-subtab');
                    subtabButtons.forEach(b => b.classList.remove('active'));
                    subtabContents.forEach(c => c.classList.remove('active'));
                    btn.classList.add('active');
                    document.getElementById(targetSubtab).classList.add('active');
                });
            });
        }

        // Status Sub-tab Switching (Frontend/Backend)
        function initStatusSubtabs() {
            const subtabButtons = document.querySelectorAll('.status-subtab-btn');
            const subtabContents = document.querySelectorAll('.status-subtab-content');

            subtabButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetSubtab = btn.getAttribute('data-subtab');
                    subtabButtons.forEach(b => b.classList.remove('active'));
                    subtabContents.forEach(c => c.classList.remove('active'));
                    btn.classList.add('active');
                    document.getElementById(targetSubtab).classList.add('active');
                });
            });
        }

        // View Toggle (Cards/List) - Note: This is a placeholder
        // Actual cards view implementation would require additional HTML structure
        function initViewToggles() {
            const toggleGroups = document.querySelectorAll('.view-toggle-inline');

            toggleGroups.forEach(group => {
                const buttons = group.querySelectorAll('.view-toggle-btn');
                buttons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        buttons.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        // View switching logic would go here
                        // For now, just toggle the active state
                    });
                });
            });
        }

        // App Card Tilt Effect (water board physics)
        function initAppCardTilt() {
            const appCards = document.querySelectorAll('.app-card');
            const intensity = 8;
            const scale = 1.01;
            const lift = 8;

            appCards.forEach(card => {
                card.style.transition = 'transform 0.15s ease-out';

                card.addEventListener('mouseenter', () => {
                    card.style.zIndex = '10';
                });

                card.addEventListener('mouseleave', () => {
                    card.style.zIndex = '1';
                    card.style.transform = 'translateY(0) scale(1) rotateX(0) rotateY(0)';
                });

                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    const rotateX = (y - centerY) / intensity;
                    const rotateY = (centerX - x) / intensity;

                    card.style.transform = `
                        translateY(-${lift}px)
                        scale(${scale})
                        perspective(1000px)
                        rotateX(${rotateX}deg)
                        rotateY(${rotateY}deg)
                    `;
                });
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', async () => {
            checkExistingLogin();
            handleOAuthCallback();
            initRebootButtons();

            // Render tables from CONFIG/INFRASTRUCTURE FIRST (before initTabs which may switch tabs)
            // This ensures CONFIG is set before any tab tries to use it
            if (typeof INFRASTRUCTURE !== 'undefined' || typeof CONFIG !== 'undefined') {
                renderTablesFromConfig();
            }

            initTabs();
            initCostSubtabs();
            initInfraViewToggle();
            initAutoRefresh();
            initAppCardTilt();

            // Check dev server status if not on GitHub Pages
            if (!isGitHubPages) {
                checkDevServerStatus();
            }

            // Refresh data: tries API first, falls back to local .js files on error
            refreshAll();

            // Start auto-refresh if enabled
            const autoRefreshCheckbox = document.getElementById('auto-refresh');
            if (autoRefreshCheckbox && autoRefreshCheckbox.checked) {
                autoRefreshInterval = setInterval(refreshAll, 30000);
            }
        });
    </script>

    <!-- Live Monitoring Bar (Bottom) -->
    <div class="dashboard-header" style="position: fixed; bottom: 0; left: 0; right: 0; z-index: 100; border-top: 1px solid var(--border-color); border-radius: 0; margin: 0; padding: 0.5rem 1rem;">
        <div class="dashboard-title">
            <div class="status-dot" id="connection-status"></div>
            <h2 style="font-size: 0.85rem;">Live Monitoring</h2>
        </div>
        <div class="dashboard-controls">
            <span class="last-updated">Last: <span id="last-updated">--:--:--</span></span>
            <label class="auto-refresh-toggle">
                <input type="checkbox" id="auto-refresh" checked>
                Auto (30s)
            </label>
            <button class="refresh-btn" id="refresh-btn" onclick="refreshAll()">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M23 4v6h-6M1 20v-6h6"/>
                    <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                </svg>
                Refresh
            </button>
            <div class="auth-buttons">
                <a href="https://auth.diegonmarcos.com/oauth2/start?rd=https://cloud.diegonmarcos.com/cloud_dash.html" class="github-login-btn" title="Login with GitHub SSO">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                    </svg>
                    <span>SSO</span>
                </a>
                <a href="https://auth.diegonmarcos.com/authelia/" class="authelia-login-btn" title="Backup: Local TOTP 2FA">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                    </svg>
                    <span>TOTP</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Mobile Desktop Mode -->
    <script>
        (function() {
            function applyMobileScaling() {
                const desktopWidth = 1200;
                const screenWidth = window.innerWidth;

                if (screenWidth < desktopWidth) {
                    const scale = screenWidth / desktopWidth;
                    document.body.style.width = desktopWidth + 'px';
                    document.body.style.minWidth = desktopWidth + 'px';
                    document.body.style.transform = 'scale(' + scale + ')';
                    document.body.style.transformOrigin = 'top left';
                    document.documentElement.style.width = screenWidth + 'px';
                    document.documentElement.style.overflowX = 'hidden';
                } else {
                    document.body.style.width = '';
                    document.body.style.minWidth = '';
                    document.body.style.transform = '';
                    document.body.style.transformOrigin = '';
                    document.documentElement.style.width = '';
                    document.documentElement.style.overflowX = '';
                }
            }
            applyMobileScaling();
            window.addEventListener('resize', applyMobileScaling);
        })();
    </script>

    <!-- TypeScript compiled bundle (zoom, theme, card effects) -->
    <script>"use strict";(()=>{function x(t,e={}){let{intensity:n=10,scale:o=1.02,lift:i=12}=e;t.addEventListener("mouseenter",()=>{t.style.zIndex="10"}),t.addEventListener("mouseleave",()=>{t.style.zIndex="1",t.style.transform="translateY(0) scale(1) rotateX(0) rotateY(0)"}),t.addEventListener("mousemove",s=>{let c=t.getBoundingClientRect(),a=s.clientX-c.left,u=s.clientY-c.top,m=c.width/2,g=c.height/2,p=(u-g)/n,v=(m-a)/n;t.style.transform=`
            translateY(-${i}px)
            scale(${o})
            perspective(1000px)
            rotateX(${p}deg)
            rotateY(${v}deg)
        `})}function C(){document.querySelectorAll(".card").forEach(e=>{var o;let n=e.dataset.url;if(n&&!e.querySelector(".card-link-overlay")){let i=document.createElement("a");i.href=n,i.target="_blank",i.rel="noopener",i.className="card-link-overlay",i.style.cssText=`
                position: absolute;
                inset: 0;
                z-index: 5;
            `,i.setAttribute("aria-label",((o=e.querySelector("h3"))==null?void 0:o.textContent)||"Open link"),e.style.position="relative",e.appendChild(i)}x(e)})}function M(){document.querySelectorAll(".app-card").forEach(e=>{x(e,{intensity:8,scale:1.01,lift:8})})}function k(){document.querySelectorAll(".card-status").forEach(e=>{setInterval(()=>{Math.random()>.95&&(e.style.animation="pulse 0.5s ease-in-out",setTimeout(()=>{e.style.animation=""},500))},2e3)})}function r(t){let e=document.createElement("div");e.className="notification",e.textContent=t,document.body.appendChild(e),setTimeout(()=>{e.classList.add("closing"),setTimeout(()=>e.remove(),300)},2e3)}function H(t){let e=t.match(/ssh:\/\/(.+)@(.+)/);if(!e)return null;let n=e[1],o=e[2],i=`ssh -i ~/.ssh/matomo_key ${n}@${o}`;return{username:n,host:o,command:i}}function I(t){let e=document.createElement("div");e.className="ssh-modal-overlay",e.innerHTML=`
        <div class="ssh-modal">
            <h3>SSH Connection to ${t.host}</h3>
            <div class="ssh-command">
                <code>${t.command}</code>
                <button class="copy-btn" data-action="copy">Copy</button>
            </div>
            <p class="ssh-instruction">Choose how to connect:</p>
            <div class="ssh-options">
                <button class="ssh-option-btn" data-action="terminal">
                    Open in Terminal
                </button>
                <button class="ssh-option-btn" data-action="vscode">
                    Open in VS Code
                </button>
            </div>
            <button class="close-modal-btn" data-action="close">Close</button>
        </div>
    `,e.addEventListener("click",n=>{let i=n.target.dataset.action;n.target===e||i==="close"?E():i==="copy"?B(t.command):i==="terminal"?z(t.command):i==="vscode"&&Y(t)}),document.body.appendChild(e)}function E(){let t=document.querySelector(".ssh-modal-overlay");t&&t.remove()}function B(t){navigator.clipboard.writeText(t).then(()=>{r("SSH command copied to clipboard!")})}function z(t){let e=/Linux/.test(navigator.userAgent),n=/Mac/.test(navigator.userAgent);e?window.location.href=`gnome-terminal://execute/${encodeURIComponent(t)}`:n?window.location.href=`terminal://execute/${encodeURIComponent(t)}`:(B(t),r("Command copied! Paste it in your terminal.")),E()}function Y(t){let{username:e,host:n}=t;window.open(`vscode://vscode-remote/ssh-remote+${e}@${n}/home/${e}`,"_blank"),E()}var Z={analytics:"https://analytics.diegonmarcos.com","cloud-dashboard":"#pending",mail:"#pending",terminal:"#pending","agentic-dashboard":"#pending",gitea:"#pending",openvpn:"#pending","vps-oracle":"https://cloud.oracle.com/","vps-gcloud":"https://console.cloud.google.com/","vm-servicesserver1":"ssh://ubuntu@129.151.228.66","vm-webserver1":"ssh://ubuntu@130.110.251.193","vm-gcloud":"ssh://diego@pending","npm-services":"http://129.151.228.66:81","npm-web":"http://130.110.251.193:81","npm-gcloud":"#pending","matomo-db":"#internal","mail-db":"#pending","n8n-infra":"https://n8n.diegonmarcos.com","flask-server":"#pending","flask-cloud-dashboard":"#pending",linktree:"https://linktree.diegonmarcos.com"};function y(t){let e=Z[t];e&&(console.log(`Navigating to ${t}: ${e}`),e.startsWith("ssh://")?W(e):e==="#pending"?r("This service is under development."):e.startsWith("http")?window.open(e,"_blank"):window.location.href=e)}function W(t){let e=H(t);if(e){if(e.host==="pending"||e.host.includes("pending")){r("This VM is not yet configured. IP address pending.");return}I(e)}}var L=["cards-front","cards-back","list-front","list-back","tree","architecture","ai-architecture","backlog","resources"];function A(){let t=window.location.hash.slice(1);return L.includes(t)?t:"cards-front"}function f(t,e=!0){let n=document.querySelectorAll(".view-btn[data-view]"),o={"cards-front":document.getElementById("cards-front-view"),"cards-back":document.getElementById("cards-back-view"),tree:document.getElementById("tree-view"),architecture:document.getElementById("architecture-view"),"ai-architecture":document.getElementById("ai-architecture-view"),backlog:document.getElementById("backlog-view"),"list-front":document.getElementById("list-front-view"),"list-back":document.getElementById("list-back-view"),resources:document.getElementById("resources-view")};n.forEach(i=>{i.dataset.view===t?i.classList.add("active"):i.classList.remove("active")}),Object.keys(o).forEach(i=>{let s=o[i];s&&(i===t?s.classList.add("active"):s.classList.remove("active"))}),e&&window.history.pushState({view:t},"",`#${t}`)}function P(){let t=document.querySelectorAll(".view-btn[data-view]");if(t.length===0)return;let e=A();f(e,!1),window.history.replaceState({view:e},"",`#${e}`),t.forEach(n=>{n.addEventListener("click",()=>{let o=n.dataset.view;o&&L.includes(o)&&f(o)})}),window.addEventListener("popstate",n=>{var o;(o=n.state)!=null&&o.view&&L.includes(n.state.view)?f(n.state.view,!1):f(A(),!1)})}function $(){document.querySelectorAll(".tree-node[data-expanded]").forEach(e=>{let n=e.querySelector(".node-header"),o=e.querySelector(".expand-icon"),i=e.nextElementSibling;n&&(i!=null&&i.classList.contains("tree-children"))&&n.addEventListener("click",s=>{s.stopPropagation(),e.dataset.expanded==="true"?(e.dataset.expanded="false",o==null||o.classList.remove("expanded"),i.classList.remove("expanded")):(e.dataset.expanded="true",o==null||o.classList.add("expanded"),i.classList.add("expanded"))})})}function q(){document.querySelectorAll(".tree-node.service-node.clickable").forEach(e=>{e.addEventListener("click",()=>{let n=e.dataset.service;if(n){let o=new CustomEvent("service-click",{detail:{service:n}});document.dispatchEvent(o)}})})}function G(){document.querySelectorAll(".tree-node[data-expanded]").forEach(e=>{var o;e.dataset.expanded="true",(o=e.querySelector(".expand-icon"))==null||o.classList.add("expanded");let n=e.nextElementSibling;n!=null&&n.classList.contains("tree-children")&&n.classList.add("expanded")})}function X(){document.querySelectorAll(".tree-node[data-expanded]").forEach(e=>{var o;e.dataset.expanded="false",(o=e.querySelector(".expand-icon"))==null||o.classList.remove("expanded");let n=e.nextElementSibling;n!=null&&n.classList.contains("tree-children")&&n.classList.remove("expanded")})}function O(){let t=document.getElementById("expand-all"),e=document.getElementById("collapse-all");t==null||t.addEventListener("click",G),e==null||e.addEventListener("click",X)}function N(){let t=document.querySelectorAll(".tree-filter-btn"),e=document.querySelector(".tree-container");t.forEach(n=>{n.addEventListener("click",()=>{t.forEach(i=>i.classList.remove("active")),n.classList.add("active");let o=n.dataset.filter||"all";e&&(e.dataset.filter=o)})})}var R="cloud-dashboard-theme",K="blurred";function V(){let t=localStorage.getItem(R);return t==="minimalistic"||t==="blurred"?t:K}function _(t){document.documentElement.setAttribute("data-theme",t),localStorage.setItem(R,t),J(t)}function j(){let e=V()==="minimalistic"?"blurred":"minimalistic";_(e)}function J(t){let e=document.querySelector(".theme-label");e&&(e.textContent=t==="minimalistic"?"Blurred":"Minimalistic")}function F(){let t=V();_(t);let e=document.getElementById("theme-toggle");e&&e.addEventListener("click",j)}var d=[100,80,60,40,30,20],w=2,D="cloud-dashboard-zoom",l=w;function U(){let t=document.getElementById("zoom-out"),e=document.getElementById("zoom-in"),n=document.getElementById("zoom-reset"),o=document.getElementById("zoom-level");if(!t||!e||!n||!o)return;let i=localStorage.getItem(D);if(i){let a=d.indexOf(parseInt(i,10));a!==-1&&(l=a)}h(),s(),t.addEventListener("click",()=>{l<d.length-1&&(l++,h(),s(),c())}),e.addEventListener("click",()=>{l>0&&(l--,h(),s(),c())}),n.addEventListener("click",()=>{l=w,h(),s(),c()});function s(){let a=d[l];o.textContent=`${a}%`,e.disabled=l===0,t.disabled=l===d.length-1,n.disabled=l===w}function c(){localStorage.setItem(D,d[l].toString())}}function h(){let e=d[l]/100,n=document.documentElement,o=document.getElementById("cards-view"),s=n.getAttribute("data-theme")==="blurred"?280:220,c=Math.round(s*e),a=1+(1-e)*2.5;n.style.setProperty("--card-min-width",`${c}px`),n.style.setProperty("--zoom-scale",e.toString()),n.style.setProperty("--hover-scale",a.toFixed(2)),o&&o.style.setProperty("--card-content-scale",e.toString())}var Q={ssh:{title:"SSH Access (Port 22)",content:`<p><strong>Key-Only Authentication</strong></p>
            <ul>
                <li>Password auth disabled</li>
                <li>Root login disabled</li>
                <li>Ed25519/RSA keys only</li>
                <li>Fail2ban protection</li>
            </ul>`},http:{title:"HTTP Redirect (Port 80)",content:`<p><strong>Automatic HTTPS Redirect</strong></p>
            <ul>
                <li>301 redirect to HTTPS</li>
                <li>HSTS headers enabled</li>
                <li>No plain HTTP content</li>
            </ul>`},https:{title:"HTTPS Traffic (Port 443)",content:`<p><strong>TLS 1.3 Encryption</strong></p>
            <ul>
                <li>Let's Encrypt certificates</li>
                <li>Auto-renewal via certbot</li>
                <li>A+ SSL Labs rating</li>
                <li>OCSP stapling enabled</li>
            </ul>`},mail:{title:"Mail Ports (25/587/993)",content:`<p><strong>Mailu Mail Server</strong></p>
            <ul>
                <li>SMTP: 25 (relay), 587 (submission)</li>
                <li>IMAPS: 993 (encrypted)</li>
                <li>SPF, DKIM, DMARC configured</li>
                <li>Rspamd anti-spam</li>
            </ul>`},firewall:{title:"Cloud Firewall",content:`<p><strong>Defense in Depth</strong></p>
            <ul>
                <li>OCI/GCP Security Lists</li>
                <li>UFW on host</li>
                <li>Docker network isolation</li>
                <li>Default deny inbound</li>
            </ul>`},server:{title:"Server Host",content:`<p><strong>Hardened Linux Host</strong></p>
            <ul>
                <li>Unattended security updates</li>
                <li>Minimal attack surface</li>
                <li>Docker isolation</li>
                <li>Log monitoring</li>
            </ul>`},nginx:{title:"Nginx Proxy Manager",content:`<p><strong>Reverse Proxy</strong></p>
            <ul>
                <li>SSL termination</li>
                <li>Virtual hosts routing</li>
                <li>Rate limiting</li>
                <li>Security headers</li>
            </ul>`}};window.openModal=function(t){let e=Q[t];if(!e)return;let n=document.getElementById("info-modal");n&&n.remove();let o=document.createElement("div");o.id="info-modal",o.className="arch-modal",o.innerHTML=`
        <div class="arch-modal-backdrop" onclick="closeModal()"></div>
        <div class="arch-modal-content">
            <button class="arch-modal-close" onclick="closeModal()">&times;</button>
            <h3>${e.title}</h3>
            ${e.content}
        </div>
    `,document.body.appendChild(o),requestAnimationFrame(()=>o.classList.add("active"))};window.closeModal=function(){let t=document.getElementById("info-modal");t&&(t.classList.remove("active"),setTimeout(()=>t.remove(),200))};document.addEventListener("DOMContentLoaded",()=>{F(),U(),ne(),C(),M(),k(),document.querySelectorAll(".card").forEach(e=>{e.addEventListener("click",()=>{let n=e.dataset.service;n&&y(n)})}),P(),$(),q(),O(),N(),document.addEventListener("service-click",(e=>{let n=e.detail.service;n&&y(n)})),document.querySelectorAll(".node-copy-btn").forEach(e=>{e.addEventListener("click",n=>{n.stopPropagation();let o=e.dataset.copy;o&&navigator.clipboard.writeText(o).then(()=>{e.style.color="var(--accent-green)",e.style.borderColor="var(--accent-green)",setTimeout(()=>{e.style.color="",e.style.borderColor=""},1e3)})})}),document.querySelectorAll(".node-url-btn").forEach(e=>{e.addEventListener("click",n=>{n.stopPropagation();let o=e.dataset.url;o&&window.open(o,"_blank")})}),document.querySelectorAll(".tree-action-btn.url-btn").forEach(e=>{e.addEventListener("click",n=>{n.stopPropagation();let o=e.dataset.url;o&&window.open(o,"_blank")})}),document.querySelectorAll(".vm-action-btn.btn-url").forEach(e=>{e.addEventListener("click",n=>{n.stopPropagation();let o=e.dataset.url;o&&window.open(o,"_blank")})}),document.querySelectorAll(".vm-action-btn.btn-ssh").forEach(e=>{e.addEventListener("click",n=>{n.stopPropagation();let o=e.dataset.copy;o&&navigator.clipboard.writeText(o).then(()=>{e.classList.add("copied"),setTimeout(()=>{e.classList.remove("copied")},1e3)})})}),ee(),te()});function ee(){let t=document.getElementById("wake-hours"),e=document.getElementById("wake-bandwidth");if(!t||!e)return;let n=.0096,o=2.55,i=.0085;function s(){let c=parseFloat(t.value)||0,a=parseFloat(e.value)||0,u=c*n,m=a*i,g=u+o+m,p=document.getElementById("wake-hours-display"),v=document.getElementById("wake-bw-display"),S=document.getElementById("wake-compute-cost"),T=document.getElementById("wake-bandwidth-cost"),b=document.getElementById("wake-total-cost");p&&(p.textContent=c.toString()),v&&(v.textContent=a.toString()),S&&(S.textContent=`${u.toFixed(2)}`),T&&(T.textContent=`${m.toFixed(2)}`),b&&(b.textContent=`${g.toFixed(2)}`)}t.addEventListener("input",s),e.addEventListener("input",s),s()}function te(){let t=document.querySelectorAll("[data-product-filter]"),e=document.querySelectorAll(".card[data-product-category]");t.length&&t.forEach(n=>{n.addEventListener("click",()=>{let o=n.dataset.productFilter;t.forEach(i=>i.classList.remove("active")),n.classList.add("active"),e.forEach(i=>{let s=i.dataset.productCategory,c=i.classList.contains("card-placeholder");o==="all"?i.style.display=c?"none":"":s===o?i.style.display="":i.style.display="none"})})})}function ne(){let t=document.querySelector(".view-toggle");if(t){let e=t.querySelectorAll(".view-group");e.forEach(n=>{n.querySelectorAll(".view-btn").forEach(i=>{i.addEventListener("click",()=>{e.forEach(s=>s.classList.remove("group-active")),n.classList.add("group-active")})})})}oe()}function oe(){let t=document.querySelectorAll(".nav-main-btn"),e=document.getElementById("nav-products"),n=document.getElementById("nav-c3");t.length&&t.forEach(o=>{o.addEventListener("click",()=>{let i=o.dataset.section;t.forEach(s=>s.classList.remove("active")),o.classList.add("active"),i==="products"?(e&&(e.classList.add("active"),e.style.display="flex"),n&&(n.classList.remove("active"),n.style.display="none")):i==="c3"&&(n&&(n.classList.add("active"),n.style.display="flex"),e&&(e.classList.remove("active"),e.style.display="none"))})})}})();
</script>
</body>
</html>
