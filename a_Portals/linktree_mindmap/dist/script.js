"use strict";(()=>{var ve={physics:{repulsion:0,attraction:0,centerGravity:0,damping:.98,ambientForce:0,ambientFrequency:.002,minVelocity:0,maxVelocity:1},visual:{nodeRadiusByDepth:[45,32,24,16,12],glowIntensityByDepth:[1,.8,.6,.4,.25],opacityByDepth:[1,.95,.85,.7,.5],breatheDuration:4e3,particleCount:80}};var H={levelSpacing:280,siblingSpacing:120,minZoom:.2,maxZoom:2.5,defaultZoom:1,panEasing:.12,hoverFadeSpeed:.15,expansionDuration:2e3,expansionEasing:.08};var Ge={root:{id:"dnm",label:"DNM",fullLabel:"Diego Nepomuceno Marcos",icon:"user",color:"#2196F3",children:["professional","personal"]},nodes:{professional:{id:"professional",label:"Professional",icon:"briefcase",color:"#4CAF50",children:["profile-pro","repos","nexus"]},personal:{id:"personal",label:"Personal",icon:"heart",color:"#E91E63",children:["profile-personal","deving","tools","circus"]},"profile-pro":{id:"profile-pro",label:"Profile",icon:"user",color:"#4CAF50",children:["contact-pro","profiles-pro","ventures","curriculum"]},repos:{id:"repos",label:"Repos",icon:"brand-github",color:"#4CAF50",children:["github-overview","cs-repos","eng-finance-repos"]},nexus:{id:"nexus",label:"Nexus",icon:"rocket",color:"#4CAF50",children:["nexus-contact","nexus-venture"]},"profile-personal":{id:"profile-personal",label:"Profile",icon:"user",color:"#E91E63",children:["contact-personal","profiles-personal","my-media","my-endurance","my-maps","my-bucket"]},deving:{id:"deving",label:"Deving",icon:"code",color:"#E91E63",children:["cloud-portal","ai-tools","inbox-tools","productivity-tools","dev-tools"]},tools:{id:"tools",label:"Tools",icon:"settings",color:"#E91E63",children:["health-tools","finance-tools","content-tools"]},circus:{id:"circus",label:"Circus",icon:"sparkles",color:"#E91E63",children:["games","video","audio"]},"contact-pro":{id:"contact-pro",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"vCard",url:"public/diegonmarcos-contact_photo.vcf",icon:"user",download:!0}]},"profiles-pro":{id:"profiles-pro",label:"Profiles",icon:"world",color:"#81C784",links:[{label:"Landpage",url:"https://diegonmarcos.com/",icon:"world"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"},{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},ventures:{id:"ventures",label:"Ventures",icon:"rocket",color:"#81C784",links:[{label:"Nexus",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"}]},curriculum:{id:"curriculum",label:"Curriculum",icon:"file-type-pdf",color:"#81C784",links:[{label:"CV (web)",url:"https://diegonmarcos.github.io/cv_web",icon:"file-type-html"},{label:"CV (pdf)",url:"https://diegonmarcos.github.io/cv_pdf",icon:"file-type-pdf"}]},"github-overview":{id:"github-overview",label:"Overview",icon:"brand-github",color:"#81C784",links:[{label:"Github",url:"https://github.com/diegonmarcos",icon:"brand-github"}]},"cs-repos":{id:"cs-repos",label:"Computer Science",icon:"brain",color:"#81C784",links:[{label:"Back-End",url:"https://github.com/diegonmarcos/back-System",icon:"settings"},{label:"Cyber-Security",url:"https://github.com/diegonmarcos/cyber-Cyberwarfare",icon:"bolt"},{label:"DevOps",url:"https://github.com/diegonmarcos/ops-Tooling",icon:"git-branch"},{label:"Front-End",url:"https://github.com/diegonmarcos/diegonmarcos.github.io",icon:"world"},{label:"ARM Mobile",url:"https://github.com/diegonmarcos/front-android-Portfolio",icon:"device-desktop"},{label:"Data Science",url:"https://github.com/diegonmarcos/ml-DataScience",icon:"brain"}]},"eng-finance-repos":{id:"eng-finance-repos",label:"Engineering & Finance",icon:"database",color:"#81C784",links:[{label:"Civil Engineer",url:"https://github.com/diegonmarcos/cveng_AFrame",icon:"settings"},{label:"Macro Economics",url:"https://github.com/diegonmarcos/ecoqt-thesis1",icon:"world-longitude"},{label:"Quant Finance",url:"https://github.com/diegonmarcos/ecoqt-thesis2",icon:"database"}]},"nexus-contact":{id:"nexus-contact",label:"Contact",icon:"mail",color:"#81C784",links:[{label:"Email",url:"mailto:me@diegonmarcos.com",icon:"mail"},{label:"LinkedIn",url:"https://linkedin.com/in/diegonmarcos",icon:"brand-linkedin"}]},"nexus-venture":{id:"nexus-venture",label:"Venture",icon:"rocket",color:"#81C784",links:[{label:"Website",url:"https://diegonmarcos.github.io/nexus/",icon:"rocket"},{label:"Slides",url:"https://diegonmarcos.github.io/nexus/slides",icon:"slideshow"}]},"contact-personal":{id:"contact-personal",label:"Contact",icon:"send",color:"#F48FB1",links:[{label:"Telegram",url:"https://t.me/diegonmarcos",icon:"send"},{label:"WhatsApp",url:"https://wa.me/34634769833",icon:"brand-whatsapp"}]},"profiles-personal":{id:"profiles-personal",label:"Profiles",icon:"user",color:"#F48FB1",links:[{label:"MyProfile",url:"https://diegonmarcos.github.io/myprofile",icon:"user"}]},"my-media":{id:"my-media",label:"Media",icon:"headphones",color:"#F48FB1",links:[{label:"TIDAL",url:"https://tidal.com/@diegonmarcos",icon:"headphones"},{label:"YouTube",url:"https://www.youtube.com/@diegonmarcos1",icon:"brand-youtube"},{label:"Pinterest",url:"https://www.pinterest.com/diegonmarcos",icon:"slideshow"},{label:"Instagram",url:"https://www.instagram.com/diegonmarcos",icon:"brand-instagram"}]},"my-endurance":{id:"my-endurance",label:"Endurance",icon:"bike",color:"#F48FB1",links:[{label:"Komoot",url:"https://www.komoot.com/user/2474200810898/routes",icon:"christmas-tree"},{label:"Strava",url:"https://www.strava.com/athletes/4662170",icon:"bike"}]},"my-maps":{id:"my-maps",label:"Maps",icon:"map-pin-2",color:"#F48FB1",links:[{label:"NomadMania",url:"https://nomadmania.com/profile/73889",icon:"brand-google-maps"},{label:"Google Maps",url:"https://www.google.com/maps/d/u/0/edit?mid=1Wpors-fGHMZOYPx41nDtyF9vXOJcpsY",icon:"map-pin-2"},{label:"Earth",url:"https://earth.google.com/earth/d/1WF5_9NDew9IB5xkTqXPpm9e9n8JM0a3H",icon:"world-longitude"}]},"my-bucket":{id:"my-bucket",label:"Bucket List",icon:"checklist",color:"#F48FB1",links:[{label:"50 Things",url:"https://bucketlistjourney.net/my-bucket-list",icon:"checklist"}]},"cloud-portal":{id:"cloud-portal",label:"Cloud Portal",icon:"settings",color:"#F48FB1",links:[{label:"Portal",url:"https://diegonmarcos.github.io/cloud",icon:"settings"}]},"ai-tools":{id:"ai-tools",label:"AI",icon:"robot",color:"#F48FB1",links:[{label:"Chat Multi-Model",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"robot"},{label:"WebIDE",url:"https://diegonmarcos.github.io/cloud/products.html",icon:"device-desktop"}]},"inbox-tools":{id:"inbox-tools",label:"Inbox",icon:"mail",color:"#F48FB1",links:[{label:"Mail&Cal",url:"https://diegonmarcos.github.io/mymail",icon:"mail"},{label:"MyFeed",url:"https://diegonmarcos.github.io/myfeed",icon:"file-stack"}]},"productivity-tools":{id:"productivity-tools",label:"Productivity",icon:"file-stack",color:"#F48FB1",links:[{label:"Drive&Suite",url:"https://diegonmarcos.github.io/mydrive",icon:"file-stack"},{label:"JSON Vision",url:"https://diegonmarcos.github.io/json-vision",icon:"database"}]},"dev-tools":{id:"dev-tools",label:"DEV",icon:"git-branch",color:"#F48FB1",links:[{label:"API Endpoints",url:"https://diegonmarcos.github.io/cloud/api",icon:"git-branch"},{label:"MCP Tools",url:"https://diegonmarcos.github.io/cloud/mcp",icon:"settings"}]},"health-tools":{id:"health-tools",label:"Health",icon:"heart",color:"#F48FB1",links:[{label:"Feed Yourself",url:"https://diegonmarcos.github.io/feed_yourself",icon:"brain"},{label:"Health Tracker",url:"https://diegonmarcos.github.io/health_tracker",icon:"heart"}]},"finance-tools":{id:"finance-tools",label:"Finance",icon:"database",color:"#F48FB1",links:[{label:"Market Watch",url:"https://diegonmarcos.github.io/market_watch",icon:"database"},{label:"Central Bank",url:"https://diegonmarcos.github.io/central_bank",icon:"database"}]},"content-tools":{id:"content-tools",label:"Content",icon:"map-pin-2",color:"#F48FB1",links:[{label:"MyMaps",url:"https://diegonmarcos.github.io/mymaps",icon:"map-pin-2"}]},games:{id:"games",label:"Games",icon:"device-gamepad",color:"#F48FB1",links:[{label:"MyGames",url:"https://diegonmarcos.github.io/mygames",icon:"device-gamepad"}]},video:{id:"video",label:"Video",icon:"brand-youtube",color:"#F48FB1",links:[{label:"MyVideos",url:"https://diegonmarcos.github.io/myvideos",icon:"video"},{label:"MyMovies",url:"https://diegonmarcos.github.io/mymovies/",icon:"brand-youtube"}]},audio:{id:"audio",label:"Audio",icon:"headphones",color:"#F48FB1",links:[{label:"MyMusic",url:"https://diegonmarcos.github.io/mymusic/",icon:"headphones"}]}}};async function Be(){return Promise.resolve(Ge)}function Fe(e){let n=[],t=[],o=new Map,i=He(e.root,0,null);n.push(i),o.set(i.id,i);function l(a,c,u){c&&c.forEach(r=>{let m=e.nodes[r];if(!m){console.warn(`Node not found: ${r}`);return}let d=He(m,u,a);n.push(d),o.set(d.id,d),a.children.push(d),t.push({source:a,target:d,highlighted:!1,opacity:1}),l(d,m.children,u+1),m.links&&m.links.length>0&&(!m.children||m.children.length===0)&&m.links.forEach((p,w)=>{let v=wt(p,`${d.id}-link-${w}`,u+1,d);n.push(v),o.set(v.id,v),d.children.push(v),t.push({source:d,target:v,highlighted:!1,opacity:1})})})}return l(i,e.root.children,1),{nodes:n,edges:t}}function wt(e,n,t,o){let i=ve.visual,l=Math.min(t,i.nodeRadiusByDepth.length-1);return{id:n,label:e.label,fullLabel:e.label,icon:e.icon,color:o.color,depth:t,parent:o,children:[],links:[e],x:0,y:0,vx:0,vy:0,targetX:0,targetY:0,radius:i.nodeRadiusByDepth[l],opacity:1,glowIntensity:i.glowIntensityByDepth[l],highlighted:!1,hovered:!1,focused:!1,breathePhase:Math.random()*Math.PI*2,breatheScale:1}}function He(e,n,t){let o=ve.visual,i=Math.min(n,o.nodeRadiusByDepth.length-1);return{id:e.id,label:e.label,fullLabel:e.fullLabel,icon:e.icon,color:e.color,depth:n,parent:t,children:[],links:e.links||[],x:0,y:0,vx:0,vy:0,targetX:0,targetY:0,radius:o.nodeRadiusByDepth[i],opacity:1,glowIntensity:o.glowIntensityByDepth[i],highlighted:!1,hovered:!1,focused:!1,breathePhase:Math.random()*Math.PI*2,breatheScale:1}}function Mt(e){let n=[],t=e.parent;for(;t;)n.push(t),t=t.parent;return n}function Nt(e){let n=[];function t(o){o.children.forEach(i=>{n.push(i),t(i)})}return t(e),n}function Z(e,n,t){if(!t){e.forEach(r=>{r.highlighted=!1,r.opacity=1}),n.forEach(r=>{r.highlighted=!1,r.opacity=1});return}let o=Mt(t),i=Nt(t),l=new Set([t,...o,...i]),a=new Map;a.set(t,0),o.forEach((r,m)=>{a.set(r,m+1)});function c(r,m){r.children.forEach(d=>{a.has(d)||(a.set(d,m),c(d,m+1))})}c(t,1);let u=Math.max(...Array.from(a.values()),1);e.forEach(r=>{if(r.highlighted=l.has(r),r.highlighted){let m=a.get(r)||0;r.opacity=Math.max(.3,1-m/(u+1)*.7)}else r.opacity=.08}),n.forEach(r=>{if(r.highlighted=l.has(r.source)&&l.has(r.target),r.highlighted){let m=a.get(r.source)||0,d=a.get(r.target)||0,p=(m+d)/2;r.opacity=Math.max(.3,1-p/(u+1)*.7)}else r.opacity=.03})}var B=null,D=null,k=null,ae=new Map,ye=new Map;function Ye(e){if(B=e,D=document.getElementById("graph-world"),k=document.getElementById("edges-svg"),!D||!k){console.error("Graph DOM elements not found");return}De(),window.addEventListener("resize",De)}function De(){if(!k||!B)return;let e=B.clientWidth,n=B.clientHeight;k.setAttribute("viewBox",`0 0 ${e} ${n}`),k.style.width=`${e}px`,k.style.height=`${n}px`}function re(){return{width:B?.clientWidth||window.innerWidth,height:B?.clientHeight||window.innerHeight}}function $e(e){D&&(D.innerHTML="",ae.clear(),e.forEach((n,t)=>{let o=document.createElement("div");o.className=`node node--depth-${Math.min(n.depth,5)}`,o.dataset.nodeId=n.id,o.style.setProperty("--node-color",n.color),o.style.setProperty("--enter-delay",String(t)),o.style.setProperty("--icon-url",`url(public/icons/${n.icon}.svg)`),o.style.backgroundImage="none";let i=document.createElement("img");i.className="node-icon",i.src=`public/icons/${n.icon}.svg`,i.alt="",i.draggable=!1,o.appendChild(i);let l=document.createElement("span");if(l.className="node-label",l.textContent=n.label,o.appendChild(l),n.children.length>0&&n.depth<3){let a=document.createElement("span");a.className="node-badge",a.textContent=String(n.children.length),o.appendChild(a)}D.appendChild(o),ae.set(n.id,o)}))}function Pe(e){if(!k)return;k.innerHTML="",ye.clear();let n=document.createElementNS("http://www.w3.org/2000/svg","defs");k.appendChild(n),e.forEach((t,o)=>{let i=`edge-gradient-${o}`,l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");l.id=i,l.setAttribute("gradientUnits","userSpaceOnUse");let a=document.createElementNS("http://www.w3.org/2000/svg","stop");a.setAttribute("offset","0%"),a.setAttribute("stop-color",t.source.color);let c=document.createElementNS("http://www.w3.org/2000/svg","stop");c.setAttribute("offset","100%"),c.setAttribute("stop-color",t.target.color),l.appendChild(a),l.appendChild(c),n.appendChild(l);let u=document.createElementNS("http://www.w3.org/2000/svg","path");u.className.baseVal="edge",u.setAttribute("stroke",`url(#${i})`),u.dataset.sourceId=t.source.id,u.dataset.targetId=t.target.id,k.appendChild(u),ye.set(`${t.source.id}-${t.target.id}`,u)})}function I(e,n,t){if(!D||!k||!B)return;let o=B.clientWidth/2,i=B.clientHeight/2;D.style.transform=`
    translate(${o+t.x}px, ${i+t.y}px)
    scale(${t.scale})
    translate(${-o}px, ${-i}px)
  `,k.style.transform=D.style.transform,e.forEach(l=>{let a=ae.get(l.id);a&&(a.style.left=`${l.x}px`,a.style.top=`${l.y}px`,a.classList.toggle("highlighted",l.highlighted),a.classList.toggle("dimmed",!l.highlighted&&e.some(c=>c.highlighted)),a.classList.toggle("focused",l.focused),!l.highlighted&&!l.hovered?a.style.opacity=String(l.opacity):a.style.opacity="1")}),n.forEach(l=>{let a=ye.get(`${l.source.id}-${l.target.id}`);if(a){let{source:c,target:u}=l,r=(c.x+u.x)/2,m=(c.y+u.y)/2,d=u.x-c.x,p=u.y-c.y,w=Math.sqrt(d*d+p*p),v=w*.15,C=-p/w,_=d/w,fe=r+C*v,be=m+_*v;a.setAttribute("d",`M ${c.x} ${c.y} Q ${fe} ${be} ${u.x} ${u.y}`);let y=a.getAttribute("stroke")?.match(/url\(#(.+)\)/)?.[1];if(y){let X=k?.querySelector(`#${y}`);X&&(X.setAttribute("x1",String(c.x)),X.setAttribute("y1",String(c.y)),X.setAttribute("x2",String(u.x)),X.setAttribute("y2",String(u.y)))}a.classList.toggle("highlighted",l.highlighted)}})}function Xe(e){return ae.get(e)}function Ae(e,n,t){let o=e.find(l=>l.depth===0);if(!o)return;o.x=o.targetX=n,o.y=o.targetY=t,Re(o,n,t,0,Math.PI*2,0,180)}function Ve(e,n,t){if(e.length===0)return 1;let o=1/0,i=-1/0,l=1/0,a=-1/0;e.forEach(v=>{let C=v.radius+30;o=Math.min(o,v.targetX-C),i=Math.max(i,v.targetX+C),l=Math.min(l,v.targetY-C),a=Math.max(a,v.targetY+C)});let c=i-o,u=a-l,r=n*.9,m=t*.9,d=r/c,p=m/u,w=Math.min(d,p,1);return Math.max(w,H.minZoom)}function Re(e,n,t,o,i,l,a){if(e.children.length===0)return;let c=a*(l+1),u=e.children.length,r=i/u;e.children.forEach((m,d)=>{let p=o+r*d+r/2;m.x=m.targetX=n+Math.cos(p)*c,m.y=m.targetY=t+Math.sin(p)*c,Re(m,n,t,o+r*d,r,l+1,a)})}function Ze(){return{x:0,y:0,scale:H.defaultZoom,targetX:0,targetY:0,targetScale:H.defaultZoom}}function We(e,n,t,o){let i=t/2,l=o/2;n.targetX=i-e.x,n.targetY=l-e.y,n.targetScale=Math.min(1.5,H.maxZoom)}var ze=1;function Oe(e){ze=e}function U(e){e.targetX=0,e.targetY=0,e.targetScale=ze}function qe(e){e.targetScale=Math.min(e.targetScale*1.3,H.maxZoom)}function _e(e){e.targetScale=Math.max(e.targetScale/1.3,H.minZoom)}function Ee(e,n,t,o,i,l){let a=e.targetScale,c=Math.max(H.minZoom,Math.min(H.maxZoom,a*(1-o*.001))),u=i/2,r=l/2,m=n-u,d=t-r,p=c-a;e.targetX-=(m-e.targetX)*(p/a),e.targetY-=(d-e.targetY)*(p/a),e.targetScale=c}var g={hoveredNode:null,focusedNode:null,draggingNode:null,isPanning:!1,panStartX:0,panStartY:0,lastMouseX:0,lastMouseY:0},f=null,Y=[],W=[],h=null,j=null,K=null,xe=null,ke=0,se=!1;function je(e){xe=e}function A(){xe&&xe()}function Ke(e,n,t,o){f=e,Y=n,W=t,h=o,Y.forEach(i=>{let l=Xe(i.id);l&&(l.addEventListener("click",a=>{a.stopPropagation(),j&&j(i)}),l.addEventListener("mouseenter",()=>{g.hoveredNode=i,i.hovered=!0,Z(Y,W,i),A()}),l.addEventListener("mouseleave",()=>{i.hovered=!1,g.hoveredNode=null,g.focusedNode||Z(Y,W,null),A()}))}),f.addEventListener("mousedown",St),f.addEventListener("mousemove",Ct),f.addEventListener("mouseup",Ue),f.addEventListener("mouseleave",Ue),f.addEventListener("wheel",It,{passive:!1}),f.addEventListener("dblclick",Tt),f.addEventListener("click",i=>{let l=i.target;(l===f||l.id==="graph-world"||l.id==="edges-svg"||l.tagName==="svg"||l.tagName==="path")&&K&&K()}),f.addEventListener("touchstart",Gt,{passive:!1}),f.addEventListener("touchmove",Ht,{passive:!1}),f.addEventListener("touchend",Bt,{passive:!1})}function Je(e,n){j=e,K=n}function St(e){e.target.closest(".node")||(g.isPanning=!0,g.panStartX=e.clientX,g.panStartY=e.clientY,f&&(f.style.cursor="grabbing"))}function Ct(e){if(!g.isPanning||!h)return;let n=e.clientX-g.panStartX,t=e.clientY-g.panStartY;h.x+=n,h.y+=t,h.targetX=h.x,h.targetY=h.y,g.panStartX=e.clientX,g.panStartY=e.clientY,A()}function Ue(){g.isPanning=!1,f&&(f.style.cursor="grab")}function It(e){if(e.preventDefault(),!h||!f)return;let n=f.getBoundingClientRect(),t=e.clientX-n.left,o=e.clientY-n.top;Ee(h,t,o,e.deltaY,f.clientWidth,f.clientHeight),h.x=h.targetX,h.y=h.targetY,h.scale=h.targetScale,A()}function Tt(e){e.target.closest(".node")||h&&(U(h),h.x=h.targetX,h.y=h.targetY,h.scale=h.targetScale,g.focusedNode=null,Z(Y,W,null),A())}function Gt(e){let n=e.target;if(n.closest(".node")){let o=n.closest(".node")?.dataset.nodeId,i=Y.find(l=>l.id===o);i&&j&&(e.preventDefault(),j(i));return}if(!(n.closest("#ui-overlay")&&!n.closest("#graph-container"))){if(e.preventDefault(),e.touches.length===1)g.isPanning=!0,g.panStartX=e.touches[0].clientX,g.panStartY=e.touches[0].clientY,se=!1;else if(e.touches.length===2){g.isPanning=!1;let t=e.touches[0],o=e.touches[1];ke=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY)}}}function Ht(e){if(!h||!f)return;let n=e.target;if(!(n.closest("#ui-overlay")&&!n.closest("#graph-container"))){if(e.preventDefault(),se=!0,e.touches.length===1&&g.isPanning){let t=e.touches[0],o=t.clientX-g.panStartX,i=t.clientY-g.panStartY;h.x+=o,h.y+=i,h.targetX=h.x,h.targetY=h.y,g.panStartX=t.clientX,g.panStartY=t.clientY,A()}else if(e.touches.length===2){let t=e.touches[0],o=e.touches[1],i=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY),l=(t.clientX+o.clientX)/2,a=(t.clientY+o.clientY)/2,c=f.getBoundingClientRect(),u=(ke-i)*2;Ee(h,l-c.left,a-c.top,u,f.clientWidth,f.clientHeight),h.x=h.targetX,h.y=h.targetY,h.scale=h.targetScale,ke=i,A()}}}function Bt(e){let n=e.target;!se&&e.changedTouches.length===1&&!n.closest(".node")&&!n.closest("#ui-overlay")&&K&&K(),g.isPanning=!1,se=!1}function Le(e){g.focusedNode=e,e&&Z(Y,W,e)}function we(){g.focusedNode=null,Z(Y,W,null)}var Ft=null,Dt=null,Yt=null,$t=null,M=null,ce=null,Ne=null,J=null,Qe=null,q=null,et=null,tt=null,nt=null,ot=null,he=null,Se=null,te=null,Me=null,N=null,L=null,de=null,ue=null,Q=null,z=null,T=null,it=null,$=null,s=null,ne=0,oe=0,F=[],O=null,ie=null,V=null,S=null;function at(e,n,t){s=e,ne=n,oe=t,Ft=document.getElementById("tooltip"),Dt=document.getElementById("tooltip-title"),Yt=document.getElementById("tooltip-subtitle"),$t=document.getElementById("tooltip-badge"),M=document.getElementById("link-panel"),ce=document.getElementById("link-panel-icon"),Ne=document.getElementById("link-panel-title"),J=document.getElementById("link-panel-links"),Qe=document.getElementById("link-panel-close"),q=document.getElementById("btn-back"),et=document.getElementById("btn-home"),tt=document.getElementById("btn-reset"),nt=document.getElementById("btn-zoom-in"),ot=document.getElementById("btn-zoom-out"),he=document.getElementById("btn-fullscreen"),Se=document.getElementById("zoom-indicator"),te=document.getElementById("loading"),Me=document.getElementById("search-container"),N=document.getElementById("search-input"),L=document.getElementById("search-results"),de=document.getElementById("breadcrumb"),ue=document.getElementById("breadcrumb-nav"),Q=document.getElementById("minimap-canvas"),z=document.getElementById("minimap-viewport"),T=document.getElementById("keyboard-hints"),it=document.getElementById("hints-close"),$=document.createElement("div"),$.className="panel-backdrop",document.getElementById("ui-overlay")?.appendChild($),Qe?.addEventListener("click",Ce),$?.addEventListener("click",Ce),tt?.addEventListener("click",me),et?.addEventListener("click",me),nt?.addEventListener("click",ft),ot?.addEventListener("click",bt),he?.addEventListener("click",vt),q?.addEventListener("click",Zt),it?.addEventListener("click",pt),N?.addEventListener("input",At),N?.addEventListener("focus",()=>Me?.classList.add("focused")),N?.addEventListener("blur",()=>{setTimeout(()=>{Me?.classList.remove("focused"),L&&(L.hidden=!0)},200)}),document.addEventListener("keydown",Wt),localStorage.getItem("mindmap-hints-shown")||setTimeout(mt,2e3),P()}function rt(e){F=e}function st(e){ie=e}function ct(e){V=e}function dt(e){S=e}function ut(e,n){ne=e,oe=n}function ht(){te&&(te.hidden=!1)}function Ie(){te&&(te.hidden=!0)}function P(){if(Se&&s){let e=Math.round(s.scale*100);Se.textContent=`${e}%`}}function G(e){if(!de||!ue)return;if(!e){de.hidden=!0;return}let n=[],t=e;for(;t;)n.unshift(t),t=t.parent;ue.innerHTML=n.map((o,i)=>{let l=i===n.length-1,a=o.label;return l?`<span class="breadcrumb-current" style="color: ${o.color}">${a}</span>`:`<button class="breadcrumb-item" data-node-id="${o.id}" style="--accent: ${o.color}">${a}</button><span class="breadcrumb-sep">\u203A</span>`}).join(""),ue.querySelectorAll(".breadcrumb-item").forEach(o=>{o.addEventListener("click",()=>{let i=o.dataset.nodeId,l=F.find(a=>a.id===i);l&&V&&V(l)})}),de.hidden=!1}function pe(e){if(!M||!Ne||!J||!$)return;O=e,M.style.setProperty("--panel-accent",e.color),ce&&(ce.innerHTML=`<img src="public/icons/${e.icon}.svg" alt="">`,ce.style.backgroundColor=e.color),Ne.textContent=e.fullLabel||e.label,J.innerHTML="";let n=Pt(e.links);Object.entries(n).forEach(([t,o])=>{if(Object.keys(n).length>1&&o.length>0){let i=document.createElement("div");i.className="link-group-header",i.textContent=t,J.appendChild(i)}o.forEach(i=>{let l=Xt(i,e.color);J.appendChild(l)})}),$.classList.add("visible"),M.hidden=!1,requestAnimationFrame(()=>{M?.classList.add("visible")}),G(e)}function Pt(e){let n={};return e.forEach(t=>{let o="Links",i=t.url.toLowerCase();i.includes("mailto:")||i.includes("linkedin")||i.includes("telegram")||i.includes("whatsapp")?o="Contact":i.includes("github")?o="Code":(t.download||i.includes(".pdf")||i.includes(".vcf"))&&(o="Downloads"),n[o]||(n[o]=[]),n[o].push(t)}),n}function Ce(){!M||!$||(M.classList.remove("visible"),$.classList.remove("visible"),setTimeout(()=>{M&&!M.classList.contains("visible")&&(M.hidden=!0)},300))}function Xt(e,n){let t=document.createElement("a");return t.className="link-card",t.href=e.url,t.target="_blank",t.rel="noopener noreferrer",t.style.setProperty("--link-accent",n),e.download&&(t.download=""),t.innerHTML=`
    <div class="link-icon">
      <img src="public/icons/${e.icon}.svg" alt="${e.label}">
    </div>
    <span class="link-label">${e.label}</span>
    <svg class="link-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M7 17L17 7M17 7H7M17 7v10"/>
    </svg>
  `,t.addEventListener("click",o=>{let i=t.getBoundingClientRect(),l=document.createElement("span");l.className="ripple",l.style.left=`${o.clientX-i.left}px`,l.style.top=`${o.clientY-i.top}px`,t.appendChild(l),setTimeout(()=>l.remove(),600)}),t}function At(){if(!N||!L)return;let e=N.value.toLowerCase().trim();if(e.length<2){L.hidden=!0;return}let n=F.filter(t=>t.label.toLowerCase().includes(e)||t.fullLabel&&t.fullLabel.toLowerCase().includes(e));if(n.length===0){L.innerHTML='<div class="search-empty">No results found</div>',L.hidden=!1;return}L.innerHTML=n.slice(0,8).map(t=>`
      <button class="search-result" data-node-id="${t.id}">
        <span class="search-result-dot" style="background: ${t.color}"></span>
        <span class="search-result-label">${t.fullLabel||t.label}</span>
        <span class="search-result-path">${Vt(t)}</span>
      </button>
    `).join(""),L.querySelectorAll(".search-result").forEach(t=>{t.addEventListener("click",()=>{let o=t.dataset.nodeId,i=F.find(l=>l.id===o);i&&V&&(V(i),N.value="",L.hidden=!0,N.blur())})}),L.hidden=!1}function Vt(e){let n=[],t=e.parent;for(;t;)n.unshift(t.label),t=t.parent;return n.join(" \u203A ")}function R(e,n){if(!Q||!z||!s)return;let t=Q.getContext("2d");if(!t)return;let o=Q.width,i=Q.height;t.clearRect(0,0,o,i);let l=1/0,a=-1/0,c=1/0,u=-1/0;e.forEach(y=>{l=Math.min(l,y.x),a=Math.max(a,y.x),c=Math.min(c,y.y),u=Math.max(u,y.y)});let r=20,m=a-l+r*2,d=u-c+r*2,p=Math.min(o/m,i/d),w=(o-m*p)/2-l*p+r*p,v=(i-d*p)/2-c*p+r*p;t.strokeStyle="rgba(255,255,255,0.2)",t.lineWidth=.5,n.forEach(y=>{t.beginPath(),t.moveTo(y.source.x*p+w,y.source.y*p+v),t.lineTo(y.target.x*p+w,y.target.y*p+v),t.stroke()}),e.forEach(y=>{let X=y.x*p+w,kt=y.y*p+v,Lt=Math.max(2,y.radius*p*.3);t.fillStyle=y.highlighted?y.color:"rgba(255,255,255,0.5)",t.beginPath(),t.arc(X,kt,Lt,0,Math.PI*2),t.fill()});let C=ne/s.scale*p,_=oe/s.scale*p,fe=(-s.x/s.scale+ne/2/s.scale)*p+w-C/2,be=(-s.y/s.scale+oe/2/s.scale)*p+v-_/2;z.style.width=`${Math.min(o,C)}px`,z.style.height=`${Math.min(i,_)}px`,z.style.left=`${Math.max(0,Math.min(o-C,fe))}px`,z.style.top=`${Math.max(0,Math.min(i-_,be))}px`}function mt(){T&&(T.hidden=!1,requestAnimationFrame(()=>T?.classList.add("visible")))}function pt(){T&&(T.classList.remove("visible"),setTimeout(()=>{T&&(T.hidden=!0)},300),localStorage.setItem("mindmap-hints-shown","true"))}function Rt(){q&&(q.hidden=!1)}function gt(){q&&(q.hidden=!0)}function me(){s&&(U(s),s.x=s.targetX,s.y=s.targetY,s.scale=s.targetScale,gt(),G(null),P(),ie&&ie(),S&&S())}function ft(){s&&(qe(s),s.scale=s.targetScale,P(),S&&S())}function bt(){s&&(_e(s),s.scale=s.targetScale,P(),S&&S())}function vt(){document.fullscreenElement?(document.exitFullscreen(),he?.classList.remove("active")):(document.documentElement.requestFullscreen(),he?.classList.add("active"))}function Zt(){s&&(U(s),s.x=s.targetX,s.y=s.targetY,s.scale=s.targetScale,gt(),G(null),P(),ie&&ie(),S&&S())}var ee=-1;function Wt(e){if(document.activeElement===N){e.key==="Escape"&&(N?.blur(),L&&(L.hidden=!0));return}if(e.key==="/"||e.key==="s"){e.preventDefault(),N?.focus();return}if(e.key==="f"){vt();return}e.key==="Escape"&&(M&&!M.hidden?Ce():T&&!T.hidden?pt():s&&me()),(e.key==="+"||e.key==="=")&&ft(),(e.key==="-"||e.key==="_")&&bt(),(e.key==="0"||e.key==="r")&&me(),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),zt(e.key)),e.key==="Enter"&&O&&O.links.length>0&&pe(O),e.key==="?"&&mt()}function zt(e){if(F.length===0)return;if(ee<0){ee=0,lt(F[0]);return}let n=F[ee],t=null;switch(e){case"ArrowUp":n.parent&&(t=n.parent);break;case"ArrowDown":n.children.length>0&&(t=n.children[0]);break;case"ArrowLeft":case"ArrowRight":if(n.parent){let o=n.parent.children,a=(o.indexOf(n)+(e==="ArrowRight"?1:-1)+o.length)%o.length;t=o[a]}break}t&&(ee=F.indexOf(t),lt(t))}function lt(e){O=e,G(e),V&&V(e)}function Te(e){O=e,e&&(ee=F.indexOf(e),G(e))}function yt(e){s&&(We(e,s,ne,oe),s.x=s.targetX,s.y=s.targetY,s.scale=s.targetScale,Rt(),G(e),P(),Te(e),e.links.length>0&&pe(e),S&&S())}var b=[],E=[],x,le=null,ge=null;function Ot(){let e=document.createElement("div");e.id="particles-layer",e.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
  `;let n=document.createElement("style");n.textContent=`
    @keyframes particle-float {
      0% { transform: translateY(100vh) translateX(0); opacity: 0; }
      10% { opacity: var(--particle-opacity); }
      90% { opacity: var(--particle-opacity); }
      100% { transform: translateY(-20px) translateX(var(--drift)); opacity: 0; }
    }
    @keyframes particle-twinkle {
      0%, 100% { opacity: var(--particle-opacity); }
      50% { opacity: calc(var(--particle-opacity) * 1.5); }
    }
    .particle {
      position: absolute;
      width: var(--size);
      height: var(--size);
      background: radial-gradient(circle, rgba(255,255,255,0.8), rgba(255,255,255,0.2));
      border-radius: 50%;
      animation:
        particle-float var(--duration) linear infinite,
        particle-twinkle var(--twinkle) ease-in-out infinite;
      will-change: transform, opacity;
    }
  `,document.head.appendChild(n);for(let t=0;t<40;t++){let o=document.createElement("div");o.className="particle";let i=1+Math.random()*3,l=15+Math.random()*25,a=Math.random()*l,c=-30+Math.random()*60,u=.2+Math.random()*.4,r=2+Math.random()*4;o.style.cssText=`
      left: ${Math.random()*100}%;
      --size: ${i}px;
      --duration: ${l}s;
      --drift: ${c}px;
      --particle-opacity: ${u};
      --twinkle: ${r}s;
      animation-delay: -${a}s, -${Math.random()*r}s;
    `,e.appendChild(o)}document.body.insertBefore(e,document.body.firstChild)}async function Et(){try{if(ht(),ge=document.getElementById("graph-container"),!ge)throw new Error("Graph container element not found");Ot(),Ye(ge);let e=await Be(),n=Fe(e);b=n.nodes,E=n.edges,x=Ze();let{width:t,height:o}=re();Ae(b,t/2,o/2);let i=Ve(b,t,o);Oe(i),x.scale=i,x.targetScale=i,$e(b),Pe(E);let l=t/2,a=o/2;b.forEach(c=>{c.x=l,c.y=a}),Ke(ge,b,E,x),Je(_t,jt),je(()=>{I(b,E,x),R(b,E),P()}),at(x,t,o),rt(b),st(Kt),ct(Ut),dt(()=>{I(b,E,x),R(b,E)}),Ie(),qt()}catch(e){console.error("Failed to initialize:",e),Ie(),alert("Failed to load mindmap data. Please refresh the page.")}}function qt(){let e=performance.now(),n=2e3,{width:t,height:o}=re(),i=t/2,l=o/2;function a(c){let u=c-e,r=Math.min(1,u/n),m=1-Math.pow(1-r,3);b.forEach(d=>{d.x=i+(d.targetX-i)*m,d.y=l+(d.targetY-l)*m}),I(b,E,x),r<1?le=requestAnimationFrame(a):(le=null,b.forEach(d=>{d.x=d.targetX,d.y=d.targetY}),I(b,E,x))}le=requestAnimationFrame(a)}function _t(e){if(Le(e),Te(e),G(e),e.links.length===1&&e.children.length===0){let n=e.links[0];window.open(n.url,"_blank","noopener,noreferrer")}else e.links.length>1&&pe(e);I(b,E,x),R(b,E)}function Ut(e){Le(e),yt(e),I(b,E,x),R(b,E)}function jt(){we(),G(null),I(b,E,x),R(b,E)}function Kt(){we(),G(null),I(b,E,x),R(b,E)}function xt(){let{width:e,height:n}=re();ut(e,n),I(b,E,x)}window.addEventListener("resize",xt);function Jt(){le!==null&&cancelAnimationFrame(le),window.removeEventListener("resize",xt)}window.addEventListener("beforeunload",Jt);document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Et):Et();})();
