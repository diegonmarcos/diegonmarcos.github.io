"use strict";(()=>{function l(e){return document.getElementById(e)}function p(e,t=document){return t.querySelector(e)}function H(e,t=document){return t.querySelectorAll(e)}function D(e,t,o){e.style.setProperty(t,o)}function i(e,t){e.classList.add(t)}function s(e,t){e.classList.remove(t)}function v(e,t){return e.classList.contains(t)}function B(e){let t=e.parentElement?.closest(".collapsible-content");for(;t;){if(v(t,"open")){let o=t.style.maxHeight;t.style.maxHeight="none";let n=t.scrollHeight;t.style.maxHeight=o,t.offsetHeight,t.style.maxHeight=n+"px"}t=t.parentElement?.closest(".collapsible-content")}}function re(){H(".collapsible-content").forEach(t=>{v(t,"open")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight="0px"})}function ae(e){let t=e.getAttribute("data-target");if(!t)return;let o=l(t);o&&(v(o,"open")?(s(o,"open"),s(e,"open"),o.style.maxHeight="0px",setTimeout(()=>B(o),100)):(i(o,"open"),i(e,"open"),o.style.maxHeight=o.scrollHeight+"px",setTimeout(()=>{v(o,"open")&&(o.style.maxHeight=o.scrollHeight+"px")},50),setTimeout(()=>B(o),100),setTimeout(()=>B(o),300),setTimeout(()=>B(o),500)))}function V(){re(),H(".more-toggle").forEach(t=>{t.addEventListener("click",()=>ae(t))})}function F(){let e=l("controls-fab"),t=l("controls-list"),o=e?.parentElement;if(!e||!t||!o)return;let n=null,a=()=>{s(t,"open"),s(e,"open"),n&&(clearTimeout(n),n=null)},r=()=>{i(t,"open"),i(e,"open"),n=window.setTimeout(()=>{a()},1e3)},c=()=>{n&&(clearTimeout(n),n=null)},d=()=>{c(),v(t,"open")&&(n=window.setTimeout(()=>{a()},1e3))};e.addEventListener("mouseenter",()=>{c(),v(t,"open")||r()}),t.addEventListener("mouseenter",()=>{c()}),o.addEventListener("mouseleave",()=>{d()}),e.addEventListener("click",()=>{v(t,"open")?a():r()})}var Y=["public/videos/background.mp4","public/videos/background2.mp4","public/videos/background3.mp4","public/videos/background4.mp4"],ce="public/images/background_static.jpg",u=null,L=!0;function _(){return Y[Math.floor(Math.random()*Y.length)]}function G(){u=l("background-video"),u&&(u.src=_(),u.poster=ce)}function K(){let e=l("video-toggle");if(!e||!u)return;localStorage.getItem("videoPlaying")==="false"?(L=!1,s(e,"active"),U()):(L=!0,i(e,"active")),e.addEventListener("click",()=>{L?(U(),s(e,"active")):(de(),i(e,"active")),localStorage.setItem("videoPlaying",String(L))})}function U(){u&&(u.pause(),u.removeAttribute("src"),u.load(),L=!1)}function de(){u&&(u.src=_(),u.play().catch(()=>{}),L=!0)}var S="professional",g,E,T,h,C,x,k,P,I=!1,pe=300,W={effect:"creative",grabCursor:!0,centeredSlides:!1,slidesPerView:1,spaceBetween:0,loop:!0,creativeEffect:{prev:{shadow:!0,translate:["-120%",0,-500],rotate:[0,0,-15],opacity:0,scale:.8},next:{shadow:!0,translate:["120%",0,-500],rotate:[0,0,15],opacity:0,scale:.8}},keyboard:{enabled:!0,onlyInViewport:!0},touchRatio:1,resistanceRatio:.85,touchStartPreventDefault:!1,touchStartForcePreventDefault:!1,touchMoveStopPropagation:!1,simulateTouch:!0,allowTouchMove:!0,touchEventsTarget:"container",threshold:10,passiveListeners:!0,speed:900};function w(e){S=e,e==="professional"?(i(T,"selected"),s(h,"selected")):(i(h,"selected"),s(T,"selected"))}function f(){let e=p(".professional-swiper"),t=p(".personal-swiper");!e||!t||(S==="professional"?(C.style.opacity="1",x.style.opacity="1",C.style.pointerEvents="auto",x.style.pointerEvents="auto",g.allowTouchMove=!0,g.enable(),i(e,"swiper-enabled"),s(e,"swiper-disabled"),k.style.opacity="0.3",P.style.opacity="0.3",k.style.pointerEvents="none",P.style.pointerEvents="none",E.allowTouchMove=!1,E.disable(),i(t,"swiper-disabled"),s(t,"swiper-enabled")):(k.style.opacity="1",P.style.opacity="1",k.style.pointerEvents="auto",P.style.pointerEvents="auto",E.allowTouchMove=!0,E.enable(),i(t,"swiper-enabled"),s(t,"swiper-disabled"),C.style.opacity="0.3",x.style.opacity="0.3",C.style.pointerEvents="none",x.style.pointerEvents="none",g.allowTouchMove=!1,g.disable(),i(e,"swiper-disabled"),s(e,"swiper-enabled")))}function z(e,t){Math.abs(e.deltaX)>Math.abs(e.deltaY)&&(I||(I=!0,e.deltaX>30?t.slidePrev():e.deltaX<-30&&t.slideNext(),setTimeout(()=>{I=!1},pe),e.preventDefault()))}function X(e){z(e,g)}function j(e){z(e,E)}function R(){T.removeEventListener("wheel",X),h.removeEventListener("wheel",j),S==="professional"?T.addEventListener("wheel",X,{passive:!1}):h.addEventListener("wheel",j,{passive:!1})}function ue(){let e=!1;[T,h].forEach((t,o)=>{t.addEventListener("touchstart",n=>{n.touches.length===2&&(e=!0)},{passive:!0}),t.addEventListener("touchmove",n=>{e&&n.touches.length},{passive:!0}),t.addEventListener("touchend",()=>{e&&(w(o===0?"professional":"personal"),f(),e=!1)},{passive:!0})})}function me(){document.addEventListener("keydown",e=>{e.key==="ArrowLeft"?S==="professional"?g.slidePrev():E.slidePrev():e.key==="ArrowRight"?S==="professional"?g.slideNext():E.slideNext():e.key==="ArrowDown"?(w("personal"),f()):e.key==="ArrowUp"&&(w("professional"),f())})}function fe(){T.addEventListener("mouseenter",()=>{w("professional"),f(),R()}),h.addEventListener("mouseenter",()=>{w("personal"),f(),R()})}function $(){if(typeof Swiper>"u"){console.warn("Swiper not loaded - carousel disabled");return}let e=p(".professional-section .carousel-row"),t=p(".personal-section .carousel-row");if(!e||!t)return;T=e,h=t;let o=p(".professional-prev"),n=p(".professional-next"),a=p(".personal-prev"),r=p(".personal-next");!o||!n||!a||!r||(C=o,x=n,k=a,P=r,g=new Swiper(".professional-swiper",{...W,navigation:{nextEl:".professional-next",prevEl:".professional-prev"},pagination:{el:".professional-pagination",clickable:!0}}),E=new Swiper(".personal-swiper",{...W,navigation:{nextEl:".personal-next",prevEl:".personal-prev"},pagination:{el:".personal-pagination",clickable:!0}}),i(T,"selected"),f(),ue(),me(),fe(),R())}function J(){return S}function Q(e,t){let o=!1;return function(...n){o||(e.apply(this,n),o=!0,setTimeout(()=>{o=!1},t))}}function Z(e){let t=e.getBoundingClientRect();return t.top+t.height/2}function ve(e){return e.getBoundingClientRect().bottom<window.innerHeight/2}function N(e,t){if(ve(t))return;let o=window.innerHeight/2,n=Z(e),a=Z(t),r=Math.abs(o-n),c=Math.abs(o-a),d=J();r<c?d!=="professional"&&(w("professional"),f()):d!=="personal"&&(w("personal"),f())}function ee(){let e=p(".professional-section .carousel-row"),t=p(".personal-section .carousel-row");if(!e||!t)return;let o=Q(()=>N(e,t),150);window.addEventListener("scroll",o,{passive:!0}),setTimeout(()=>N(e,t),100),window.addEventListener("resize",Q(()=>{N(e,t)},200),{passive:!0})}var M=!1;function te(){H(".link").forEach(t=>{let o=t.getAttribute("data-preview");o&&D(t,"--thumbnail-url",`url(${o})`)})}function ge(e){M=!M,localStorage.setItem("galleryEnabled",String(M)),M?(te(),i(document.body,"gallery-mode"),i(e,"active")):(s(document.body,"gallery-mode"),s(e,"active"))}function oe(){let e=l("gallery-toggle");e&&(M=localStorage.getItem("galleryEnabled")==="true",M&&(te(),i(document.body,"gallery-mode"),i(e,"active")),e.addEventListener("click",()=>ge(e)))}var b=!1;function A(){document.body.classList.add("lite-mode"),b=!0;let e=l("video-toggle");e&&e.classList.contains("active")&&e.click()}function Ee(){document.body.classList.remove("lite-mode"),b=!1;let e=l("video-toggle");e&&!e.classList.contains("active")&&e.click()}function Te(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function ne(){let e=l("lite-toggle");if(Te()){A(),e&&i(e,"active");return}if(!e)return;localStorage.getItem("liteMode")==="true"&&(b=!0,i(e,"active"),A()),e.addEventListener("click",()=>{b?(Ee(),s(e,"active")):(A(),i(e,"active")),localStorage.setItem("liteMode",String(b))}),window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",o=>{o.matches&&!b&&(A(),i(e,"active"))})}var O=!1,ie,we=800;function ye(e,t){let o=window.scrollY,n=e-o,a=performance.now();function r(c){let d=c-a,m=Math.min(d/t,1),y=1-Math.pow(1-m,3);window.scrollTo(0,o+n*y),m<1?requestAnimationFrame(r):O=!1}O=!0,requestAnimationFrame(r)}function he(){let e=document.querySelector("header"),t=document.querySelector(".professional-section"),o=document.querySelector(".personal-section"),n=[];e&&n.push(e.getBoundingClientRect().top+window.scrollY),t&&n.push(t.getBoundingClientRect().top+window.scrollY),o&&n.push(o.getBoundingClientRect().top+window.scrollY);let a=window.scrollY,r=n[0],c=Math.abs(a-r);for(let d of n){let m=Math.abs(a-d);m<c&&(c=m,r=d)}return r}function Le(){if(O)return;let e=he(),t=window.scrollY;Math.abs(t-e)>50&&ye(e,we)}function se(){document.documentElement.style.scrollSnapType="none",window.addEventListener("scroll",()=>{clearTimeout(ie),ie=setTimeout(Le,500)},{passive:!0})}function le(){let e=l("mindmap-btn"),t=l("btn-mindmap"),o=l("mindmap-overlay"),n=l("mindmap-overlay-close"),a=l("mindmap-iframe");if(!e||!o||!n||!a)return;let r=e.href,c=null,d=()=>{a.src=r,console.log("Opening mindmap overlay with URL:",r),i(o,"active"),i(e,"hidden")},m=()=>{s(o,"active"),s(e,"hidden")};e.addEventListener("mouseenter",()=>{c=window.setTimeout(()=>{d()},500)}),e.addEventListener("mouseleave",()=>{c&&(clearTimeout(c),c=null)}),e.addEventListener("click",y=>{y.preventDefault(),d()}),t&&t.addEventListener("click",()=>{d()}),n.addEventListener("click",()=>{m()}),o.addEventListener("click",y=>{y.target===o&&m()}),document.addEventListener("keydown",y=>{y.key==="Escape"&&o.classList.contains("active")&&m()})}function Se(){V(),F(),le(),G(),K(),$(),ee(),oe(),ne(),se()}function q(){requestAnimationFrame(()=>{requestAnimationFrame(Se)})}document.addEventListener("DOMContentLoaded",()=>{if(typeof Swiper<"u")q();else{let e=setTimeout(q,5e3);window.addEventListener("swiperReady",()=>{clearTimeout(e),q()})}});})();
