# Development Roadmap & Plan

## Overview
This document outlines the phased development approach for the personal profile website. Each phase builds upon the previous, allowing for iterative development and testing.

**Estimated Total Timeline**: 6-8 weeks (depending on complexity and available time)

---

## Phase 1: Foundation & Setup
**Duration**: 1 week
**Goal**: Establish development environment and basic project structure

### Milestones
- ✅ Development environment configured
- ✅ SvelteKit project initialized
- ✅ Basic routing and navigation working
- ✅ Sass compilation configured

### Tasks
1. **Environment Setup**
   - Install Node.js 18+ and npm
   - Set up code editor (VS Code) with extensions
   - Install Git and configure GitHub access
   - Create project repository on GitHub

2. **SvelteKit Initialization**
   - Run `npm create svelte@latest myprofile`
   - Select TypeScript, ESLint, and Prettier options
   - Install dependencies
   - Verify dev server runs (`npm run dev`)

3. **Sass Configuration**
   - Install `sass` package as dev dependency
   - Configure `svelte.config.js` for Sass preprocessing
   - Create folder structure for styles:
     - `src/styles/abstracts/` - variables, mixins, functions
     - `src/styles/base/` - resets, typography, global
     - `src/styles/components/` - component-specific styles
     - `src/styles/layouts/` - page layout styles
   - Create initial variable files with color palette

4. **TypeScript Configuration**
   - Verify `tsconfig.json` settings
   - Create type definition files for data models
   - Set up path aliases for imports

5. **Code Quality Setup**
   - Configure ESLint rules
   - Configure Prettier formatting rules
   - Add pre-commit hooks with husky (optional)
   - Create `.editorconfig` for consistency

6. **Project Structure**
   - Create folder structure as defined in 00-instruc.md
   - Set up static assets directories
   - Create placeholder README.md

### Deliverables
- Working SvelteKit application with dev server
- Configured build pipeline
- Documentation for setup process
- Git repository with initial commit

### Dependencies
- None (first phase)

### Risks
- Version compatibility issues between packages
- Learning curve for SvelteKit if unfamiliar

---

## Phase 2: Core UI & Navigation
**Duration**: 1-2 weeks
**Goal**: Build responsive layout with pixel art navigation

### Milestones
- ✅ Responsive layout implemented
- ✅ Navigation working on all devices
- ✅ Purple pixel art theme applied
- ✅ Basic pages created

### Tasks
1. **Design System Implementation**
   - Implement color variables in Sass
   - Create typography scale with pixel fonts
   - Build spacing system
   - Create Sass mixins for pixel effects:
     - Pixel borders
     - Pixel shadows
     - Scanline effects
   - Set up responsive breakpoint mixins

2. **Layout Components**
   - Create `Layout.svelte` wrapper component
   - Build `Navigation.svelte` component:
     - Desktop horizontal navigation
     - Mobile hamburger menu
     - Active state highlighting
     - Smooth scroll to sections
   - Build `Footer.svelte` component:
     - Social media links
     - Copyright info
     - Pixel art decorations

3. **Page Routes**
   - Set up SvelteKit routing structure:
     - `/` - Home page
     - `/photos` - Photo albums
     - `/music` - Music section
     - `/stats` - Activity stats
     - `/about` - About page (optional)
   - Create page components for each route
   - Add page transitions

4. **Home Page**
   - Hero section with welcome message
   - Pixel art avatar/logo
   - Quick links to main sections
   - Latest activity feed placeholder
   - Animated background (optional)

5. **Responsive Design**
   - Test on mobile (320px - 640px)
   - Test on tablet (641px - 1024px)
   - Test on desktop (1025px+)
   - Ensure touch-friendly targets on mobile
   - Optimize font sizes for readability

6. **Pixel Art Assets**
   - Create or find pixel art icons for navigation
   - Design pixel art avatar
   - Create loading spinner animation
   - Design decorative elements

### Deliverables
- Fully responsive layout
- Working navigation between pages
- Consistent pixel art theme
- Home page with hero section

### Dependencies
- Phase 1 complete

### Risks
- Pixel fonts may impact readability
- Mobile menu animations may be complex

---

## Phase 3: Photo Albums Feature
**Duration**: 1-2 weeks
**Goal**: Implement photo gallery with albums and lightbox

### Milestones
- ✅ Album grid displays local images
- ✅ Lightbox viewer functional
- ✅ Lazy loading implemented
- ✅ Image optimization complete

### Tasks
1. **Data Structure & Mock Data**
   - Define Album and Photo TypeScript interfaces
   - Create JSON file with album metadata
   - Organize sample photos in `/static/images/albums/`
   - Create thumbnail versions of images

2. **Album Grid Component**
   - Build `AlbumGrid.svelte` component
   - Build `AlbumCard.svelte` component:
     - Cover image display
     - Album title and photo count
     - Hover effects
     - Click to open handler
   - Implement responsive grid (4→2→1 columns)
   - Add filter by category functionality
   - Add sort by date functionality

3. **Lightbox Component**
   - Build `Lightbox.svelte` component:
     - Fullscreen overlay
     - Image display with fade transitions
     - Navigation arrows (prev/next)
     - Close button and ESC key handler
     - Keyboard navigation (arrow keys)
   - Display photo metadata:
     - Caption overlay
     - Date taken
     - Location (if available)
   - Smooth transitions between photos

4. **Image Optimization**
   - Convert images to WebP format
   - Create responsive image sizes
   - Implement lazy loading with Intersection Observer
   - Add loading skeleton UI
   - Optimize image compression (target < 500KB)

5. **Photos Page**
   - Integrate AlbumGrid component
   - Add page header with title
   - Implement Lightbox integration
   - Add empty state for no albums
   - Test with various image sizes

6. **Performance Optimization**
   - Implement virtual scrolling for large galleries (optional)
   - Preload next/previous images in lightbox
   - Test page load performance
   - Optimize bundle size

### Deliverables
- Functional photo gallery with albums
- Lightbox viewer with keyboard navigation
- Optimized images with lazy loading
- Filter and sort functionality

### Dependencies
- Phase 2 complete

### Risks
- Large images may slow down page load
- Complex lightbox keyboard interactions

---

## Phase 4: Music Integration (Spotify API)
**Duration**: 1-2 weeks
**Goal**: Display music preferences from Spotify

### Milestones
- ✅ Spotify OAuth authentication working
- ✅ Top tracks and artists displayed
- ✅ Recently played tracks shown
- ✅ Playlists integrated
- ✅ API caching implemented

### Tasks
1. **Spotify Developer Setup**
   - Create Spotify Developer account
   - Register application in Spotify Dashboard
   - Obtain Client ID and Client Secret
   - Configure redirect URI for OAuth
   - Test credentials with Spotify API playground

2. **OAuth Implementation**
   - Create `spotify.service.ts` for API calls
   - Implement Authorization Code Flow:
     - Build authorization URL
     - Handle callback and token exchange
     - Store access token securely
     - Implement token refresh logic
   - Create login/connect button
   - Handle OAuth errors gracefully

3. **API Service Methods**
   - Implement `getTopTracks(timeRange)`:
     - Fetch top tracks from Spotify API
     - Transform response to Track interface
     - Handle pagination if needed
   - Implement `getTopArtists(timeRange)`:
     - Fetch top artists
     - Extract artist images and genres
   - Implement `getRecentlyPlayed(limit)`:
     - Fetch recently played tracks
     - Include timestamps
   - Implement `getUserPlaylists()`:
     - Fetch user's playlists
     - Get playlist details

4. **Music Page Components**
   - Build `TimeRangeSelector.svelte`:
     - Dropdown for time range selection
     - Options: 4 weeks, 6 months, all time
   - Build `PlaylistCard.svelte`:
     - Display playlist cover
     - Show track count
     - Link to Spotify
   - Build `TrackItem.svelte`:
     - Display album art thumbnail
     - Show track and artist name
     - Display timestamp (for recently played)
     - Link to Spotify
   - Build `ArtistCard.svelte`:
     - Display artist image
     - Show artist name
     - Show genres
     - Link to Spotify

5. **Music Page Integration**
   - Integrate all components into `/music` route
   - Fetch data on page load
   - Display loading states
   - Handle API errors with user-friendly messages
   - Add empty states if no data

6. **Caching & Performance**
   - Implement localStorage caching:
     - Cache top tracks/artists for 24 hours
     - Cache recently played for 1 hour
   - Add cache invalidation logic
   - Implement loading skeletons
   - Rate limit API requests

### Deliverables
- Working Spotify integration with OAuth
- Music page displaying playlists, tracks, and artists
- Responsive design for music components
- Proper error handling and loading states

### Dependencies
- Phase 2 complete
- Spotify Developer credentials

### Risks
- OAuth flow complexity
- Spotify API rate limits
- Token expiration handling

---

## Phase 5: Stats Integration (Strava API)
**Duration**: 1-2 weeks
**Goal**: Display endurance activity statistics

### Milestones
- ✅ Strava OAuth authentication working
- ✅ Activity statistics displayed
- ✅ Recent activities shown
- ✅ Achievements calculated
- ✅ API caching implemented

### Tasks
1. **Strava Developer Setup**
   - Create Strava Developer account
   - Register application
   - Obtain Client ID and Client Secret
   - Configure OAuth callback URL
   - Test credentials with Strava API

2. **OAuth Implementation**
   - Create `strava.service.ts` for API calls
   - Implement OAuth 2.0 flow:
     - Build authorization URL
     - Handle callback and token exchange
     - Store access and refresh tokens
     - Implement token refresh logic
   - Create connect button
   - Handle OAuth errors

3. **API Service Methods**
   - Implement `getAthleteStats()`:
     - Fetch athlete statistics
     - Extract totals by activity type
   - Implement `getActivities(page, perPage)`:
     - Fetch activities with pagination
     - Transform response to Activity interface
   - Implement `getActivity(id)`:
     - Fetch single activity details
     - Get polyline for map (optional)
   - Implement `calculateAchievements()`:
     - Find longest distance
     - Find highest elevation
     - Calculate streaks

4. **Stats Page Components**
   - Build `YearSelector.svelte`:
     - Dropdown for year selection
     - Filter stats by year
   - Build `StatCard.svelte`:
     - Display stat value with pixel icon
     - Show label and unit
     - Animated count-up effect
   - Build `ActivityItem.svelte`:
     - Display activity type icon
     - Show distance, duration, date
     - Format "time ago" display
     - Link to Strava activity
   - Build `AchievementBadge.svelte`:
     - Pixel art badge design
     - Display achievement type and value
     - Tooltip with details

5. **Stats Page Integration**
   - Integrate components into `/stats` route
   - Display overall statistics cards
   - Show recent activities list
   - Display achievements section
   - Add loading states
   - Handle errors gracefully

6. **Data Transformation & Caching**
   - Convert meters to kilometers
   - Format duration (HH:MM:SS)
   - Calculate pace/speed
   - Implement localStorage caching:
     - Cache stats for 12 hours
     - Cache activities for 1 hour
   - Add cache invalidation

### Deliverables
- Working Strava integration with OAuth
- Stats page with activities and achievements
- Responsive design for stats components
- Data transformation and formatting

### Dependencies
- Phase 2 complete
- Strava Developer credentials

### Risks
- OAuth complexity similar to Spotify
- Activity data format variations
- Map polyline rendering complexity (optional)

---

## Phase 6: Polish, Animations & Optimization
**Duration**: 1 week
**Goal**: Refine user experience with animations and performance

### Milestones
- ✅ Smooth animations implemented
- ✅ Performance optimized (Lighthouse 90+)
- ✅ Accessibility tested and improved
- ✅ Cross-browser compatibility verified

### Tasks
1. **Animation Implementation**
   - Add page transition animations using Svelte transitions
   - Implement hover effects on interactive elements:
     - Card lift effects
     - Button hover states
     - Navigation active states
   - Create loading animations:
     - Skeleton screens for API data
     - Pixel art loading spinner
     - Progress indicators
   - Add micro-interactions:
     - Click feedback
     - Form input focus
     - Smooth scrolling

2. **Performance Optimization**
   - Run Lighthouse audits on all pages
   - Optimize bundle size:
     - Code splitting by route
     - Tree shaking unused code
     - Minimize CSS and JS
   - Optimize images:
     - Verify WebP usage
     - Check lazy loading works
     - Compress all assets
   - Implement service worker for caching (optional)
   - Test on slow 3G connection

3. **Accessibility Improvements**
   - Add proper semantic HTML throughout
   - Ensure all images have alt text
   - Add ARIA labels where needed
   - Test keyboard navigation:
     - Tab order correct
     - Focus indicators visible
     - Escape key handlers work
   - Test with screen reader (NVDA or JAWS)
   - Verify color contrast ratios (4.5:1 minimum)
   - Add skip navigation links

4. **Cross-Browser Testing**
   - Test on Chrome (latest)
   - Test on Firefox (latest)
   - Test on Safari (latest)
   - Test on Edge (latest)
   - Test on mobile browsers (iOS Safari, Chrome Mobile)
   - Fix any browser-specific issues
   - Add necessary polyfills

5. **Responsive Design Refinement**
   - Test on various screen sizes
   - Verify mobile touch targets (min 44x44px)
   - Test landscape and portrait orientations
   - Ensure readable text at all sizes
   - Test on real devices if possible

6. **Error Handling & Edge Cases**
   - Handle API failures gracefully
   - Add proper error messages
   - Handle empty states (no data)
   - Handle slow network conditions
   - Add retry mechanisms for failed requests

### Deliverables
- Polished UI with smooth animations
- Lighthouse score 90+ on all pages
- Accessible to WCAG AA standards
- Cross-browser compatible

### Dependencies
- Phases 2-5 complete

### Risks
- Performance targets may require significant optimization
- Accessibility fixes may require UI changes

---

## Phase 7: DevOps, Analytics & Deployment
**Duration**: 1 week
**Goal**: Set up CI/CD, analytics, and deploy to production

### Milestones
- ✅ GitHub Actions workflow configured
- ✅ Matomo analytics integrated
- ✅ Site deployed to GitHub Pages
- ✅ Documentation complete

### Tasks
1. **GitHub Actions Setup**
   - Create `.github/workflows/deploy.yml`:
     - Trigger on push to main branch
     - Install dependencies
     - Run linting and type checking
     - Build production bundle
     - Run Lighthouse CI (optional)
     - Deploy to GitHub Pages
   - Configure GitHub Pages settings
   - Test automated deployment

2. **Environment Variables**
   - Set up environment variable management
   - Store API keys securely (GitHub Secrets)
   - Create `.env.example` template
   - Document environment setup

3. **Matomo Integration**
   - Set up Matomo instance (cloud or self-hosted)
   - Obtain tracking code
   - Implement privacy-focused tracking:
     - Cookie-less tracking option
     - Respect Do Not Track
     - GDPR compliance
   - Add Matomo tracking script
   - Configure custom events:
     - Photo views
     - Spotify link clicks
     - Strava activity views
   - Test tracking in development
   - Verify data in Matomo dashboard

4. **SEO Optimization**
   - Add meta tags to all pages:
     - Title tags
     - Meta descriptions
     - Open Graph tags
   - Create `robots.txt`
   - Generate `sitemap.xml`
   - Add structured data (JSON-LD):
     - Person schema
     - Website schema
   - Test with Google Rich Results Test

5. **Documentation**
   - Update README.md:
     - Project description
     - Setup instructions
     - Build and deployment commands
     - Environment variables guide
   - Document API integration process
   - Create component usage documentation
   - Write deployment guide
   - Document known issues and limitations

6. **Production Deployment**
   - Build production bundle
   - Test production build locally
   - Deploy to GitHub Pages
   - Verify all pages work in production
   - Test API integrations in production
   - Set up custom domain (if applicable)
   - Enable HTTPS

7. **Monitoring & Maintenance**
   - Set up error tracking (optional: Sentry)
   - Monitor Lighthouse scores over time
   - Set up uptime monitoring (optional)
   - Create maintenance checklist
   - Plan for API updates and migrations

### Deliverables
- Automated CI/CD pipeline
- Working Matomo analytics
- Production deployment on GitHub Pages
- Complete documentation

### Dependencies
- Phases 1-6 complete
- Matomo account set up
- GitHub Pages enabled

### Risks
- GitHub Actions workflow complexity
- API keys exposure if not properly secured
- Deployment issues with SPA routing on GitHub Pages

---

## Success Criteria by Phase

### Phase 1
- [ ] Dev server runs without errors
- [ ] Sass compiles successfully
- [ ] TypeScript has no type errors
- [ ] Git repository initialized with meaningful commits

### Phase 2
- [ ] Navigation works on all devices
- [ ] All pages are accessible via routing
- [ ] Responsive design verified on 3+ screen sizes
- [ ] Pixel art theme consistently applied

### Phase 3
- [ ] Can view photo albums
- [ ] Lightbox opens and navigates properly
- [ ] Images load efficiently with lazy loading
- [ ] Performance acceptable (< 3s load time)

### Phase 4
- [ ] Spotify OAuth completes successfully
- [ ] Top tracks and artists display correctly
- [ ] Recently played updates properly
- [ ] API responses cached appropriately

### Phase 5
- [ ] Strava OAuth completes successfully
- [ ] Activity stats display correctly
- [ ] Recent activities shown with proper formatting
- [ ] Achievements calculated accurately

### Phase 6
- [ ] Lighthouse score 90+ on all metrics
- [ ] No accessibility violations
- [ ] Works on all major browsers
- [ ] Animations smooth at 60fps

### Phase 7
- [ ] Automated deployment works
- [ ] Matomo tracks visits and events
- [ ] Site accessible at production URL
- [ ] Documentation complete and accurate

---

## Risk Management

### High Priority Risks
| Risk | Probability | Impact | Mitigation |
|------|------------|--------|------------|
| API rate limits exceeded | Medium | High | Implement aggressive caching, request throttling |
| OAuth token management issues | Medium | High | Thorough testing, proper error handling, token refresh |
| Performance below targets | Medium | Medium | Early performance testing, image optimization |

### Medium Priority Risks
| Risk | Probability | Impact | Mitigation |
|------|------------|--------|------------|
| Browser compatibility issues | Low | Medium | Progressive enhancement, polyfills, testing |
| Accessibility violations | Medium | Medium | Regular audits, axe DevTools integration |
| Deployment configuration issues | Low | Medium | Test deployment early, document process |

### Low Priority Risks
| Risk | Probability | Impact | Mitigation |
|------|------------|--------|------------|
| Design changes mid-development | Low | Low | Clear spec upfront, iterate after MVP |
| Dependency version conflicts | Low | Low | Lock file usage, careful updates |

---

## Timeline Visualization

```
Week 1: Phase 1 - Foundation & Setup
  ████████████████████

Week 2-3: Phase 2 - Core UI & Navigation
  ████████████████████████████████████████

Week 4-5: Phase 3 - Photo Albums
  ████████████████████████████████████████

Week 6-7: Phase 4 - Music Integration
  ████████████████████████████████████████

Week 8-9: Phase 5 - Stats Integration
  ████████████████████████████████████████

Week 10: Phase 6 - Polish & Optimization
  ████████████████████

Week 11: Phase 7 - DevOps & Deployment
  ████████████████████

Week 12: Buffer & Final Testing
  ████████████████████
```

**Note**: Timeline is flexible and phases can overlap. Music and Stats integrations (Phases 4-5) can be developed in parallel by focusing on one fully before starting the other.

---

## Next Steps

1. Review and approve this plan
2. Begin Phase 1 tasks
3. Set up project tracking (GitHub Projects or similar)
4. Schedule regular check-ins to review progress
5. Adjust timeline as needed based on actual progress

---

**Document Version**: 1.0
**Last Updated**: 2025-11-14
**Next Review**: After Phase 2 completion