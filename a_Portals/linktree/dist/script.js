"use strict";(()=>{function c(e){return document.getElementById(e)}function r(e,t=document){return t.querySelector(e)}function b(e,t=document){return t.querySelectorAll(e)}function D(e,t,o){e.style.setProperty(t,o)}function n(e,t){e.classList.add(t)}function s(e,t){e.classList.remove(t)}function M(e,t){return e.classList.contains(t)}function P(e){let t=e.parentElement?.closest(".collapsible-content");for(;t;){if(M(t,"open")){let o=t.style.maxHeight;t.style.maxHeight="none";let i=t.scrollHeight;t.style.maxHeight=o,t.offsetHeight,t.style.maxHeight=i+"px"}t=t.parentElement?.closest(".collapsible-content")}}function se(){b(".collapsible-content").forEach(t=>{M(t,"open")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight="0px"})}function re(e){let t=e.getAttribute("data-target");if(!t)return;let o=c(t);o&&(M(o,"open")?(s(o,"open"),s(e,"open"),o.style.maxHeight="0px",setTimeout(()=>P(o),100)):(n(o,"open"),n(e,"open"),o.style.maxHeight=o.scrollHeight+"px",setTimeout(()=>{M(o,"open")&&(o.style.maxHeight=o.scrollHeight+"px")},50),setTimeout(()=>P(o),100),setTimeout(()=>P(o),300),setTimeout(()=>P(o),500)))}function O(){se(),b(".more-toggle").forEach(t=>{t.addEventListener("click",()=>re(t))})}var V=["public/videos/background.mp4","public/videos/background2.mp4","public/videos/background3.mp4","public/videos/background4.mp4"],le="public/images/background_static.jpg",l=null,T=!0;function F(){return V[Math.floor(Math.random()*V.length)]}function U(){l=c("background-video"),l&&(l.src=F(),l.poster=le)}function _(){let e=c("video-toggle");if(!e||!l)return;localStorage.getItem("videoPlaying")==="false"?(T=!1,s(e,"active"),Y()):(T=!0,n(e,"active")),e.addEventListener("click",()=>{T?(Y(),s(e,"active")):(ae(),n(e,"active")),localStorage.setItem("videoPlaying",String(T))})}function Y(){l&&(l.pause(),l.removeAttribute("src"),l.load(),T=!1)}function ae(){l&&(l.src=F(),l.play().catch(()=>{}),T=!0)}var h="professional",u,f,m,w,H,x,C,k,B=!1,ce=300,G={effect:"creative",grabCursor:!0,centeredSlides:!1,slidesPerView:1,spaceBetween:0,loop:!0,creativeEffect:{prev:{shadow:!0,translate:["-120%",0,-500],rotate:[0,0,-15],opacity:0,scale:.8},next:{shadow:!0,translate:["120%",0,-500],rotate:[0,0,15],opacity:0,scale:.8}},keyboard:{enabled:!0,onlyInViewport:!0},touchRatio:1,resistanceRatio:.85,touchStartPreventDefault:!1,touchStartForcePreventDefault:!1,touchMoveStopPropagation:!1,simulateTouch:!0,allowTouchMove:!0,touchEventsTarget:"container",threshold:10,passiveListeners:!0,speed:900};function v(e){h=e,e==="professional"?(n(m,"selected"),s(w,"selected")):(n(w,"selected"),s(m,"selected"))}function p(){let e=r(".professional-swiper"),t=r(".personal-swiper");!e||!t||(h==="professional"?(H.style.opacity="1",x.style.opacity="1",H.style.pointerEvents="auto",x.style.pointerEvents="auto",u.allowTouchMove=!0,u.enable(),n(e,"swiper-enabled"),s(e,"swiper-disabled"),C.style.opacity="0.3",k.style.opacity="0.3",C.style.pointerEvents="none",k.style.pointerEvents="none",f.allowTouchMove=!1,f.disable(),n(t,"swiper-disabled"),s(t,"swiper-enabled")):(C.style.opacity="1",k.style.opacity="1",C.style.pointerEvents="auto",k.style.pointerEvents="auto",f.allowTouchMove=!0,f.enable(),n(t,"swiper-enabled"),s(t,"swiper-disabled"),H.style.opacity="0.3",x.style.opacity="0.3",H.style.pointerEvents="none",x.style.pointerEvents="none",u.allowTouchMove=!1,u.disable(),n(e,"swiper-disabled"),s(e,"swiper-enabled")))}function X(e,t){Math.abs(e.deltaX)>Math.abs(e.deltaY)&&(B||(B=!0,e.deltaX>30?t.slidePrev():e.deltaX<-30&&t.slideNext(),setTimeout(()=>{B=!1},ce),e.preventDefault()))}function K(e){X(e,u)}function W(e){X(e,f)}function I(){m.removeEventListener("wheel",K),w.removeEventListener("wheel",W),h==="professional"?m.addEventListener("wheel",K,{passive:!1}):w.addEventListener("wheel",W,{passive:!1})}function de(){let e=!1;[m,w].forEach((t,o)=>{t.addEventListener("touchstart",i=>{i.touches.length===2&&(e=!0)},{passive:!0}),t.addEventListener("touchmove",i=>{e&&i.touches.length},{passive:!0}),t.addEventListener("touchend",()=>{e&&(v(o===0?"professional":"personal"),p(),e=!1)},{passive:!0})})}function pe(){document.addEventListener("keydown",e=>{e.key==="ArrowLeft"?h==="professional"?u.slidePrev():f.slidePrev():e.key==="ArrowRight"?h==="professional"?u.slideNext():f.slideNext():e.key==="ArrowDown"?(v("personal"),p()):e.key==="ArrowUp"&&(v("professional"),p())})}function ue(){m.addEventListener("mouseenter",()=>{v("professional"),p(),I()}),w.addEventListener("mouseenter",()=>{v("personal"),p(),I()})}function j(){if(typeof Swiper>"u"){console.warn("Swiper not loaded - carousel disabled");return}let e=r(".professional-section .carousel-row"),t=r(".personal-section .carousel-row");if(!e||!t)return;m=e,w=t;let o=r(".professional-prev"),i=r(".professional-next"),d=r(".personal-prev"),a=r(".personal-next");!o||!i||!d||!a||(H=o,x=i,C=d,k=a,u=new Swiper(".professional-swiper",{...G,navigation:{nextEl:".professional-next",prevEl:".professional-prev"},pagination:{el:".professional-pagination",clickable:!0}}),f=new Swiper(".personal-swiper",{...G,navigation:{nextEl:".personal-next",prevEl:".personal-prev"},pagination:{el:".personal-pagination",clickable:!0}}),n(m,"selected"),p(),de(),pe(),ue(),I())}function z(){return h}function $(e,t){let o=!1;return function(...i){o||(e.apply(this,i),o=!0,setTimeout(()=>{o=!1},t))}}function J(e){let t=e.getBoundingClientRect();return t.top+t.height/2}function fe(e){return e.getBoundingClientRect().bottom<window.innerHeight/2}function R(e,t){if(fe(t))return;let o=window.innerHeight/2,i=J(e),d=J(t),a=Math.abs(o-i),E=Math.abs(o-d),g=z();a<E?g!=="professional"&&(v("professional"),p()):g!=="personal"&&(v("personal"),p())}function Q(){let e=r(".professional-section .carousel-row"),t=r(".personal-section .carousel-row");if(!e||!t)return;let o=$(()=>R(e,t),150);window.addEventListener("scroll",o,{passive:!0}),setTimeout(()=>R(e,t),100),window.addEventListener("resize",$(()=>{R(e,t)},200),{passive:!0})}var y=!1;function Z(){b(".link").forEach(t=>{let o=t.getAttribute("data-preview");o&&D(t,"--thumbnail-url",`url(${o})`)})}function me(e){y=!y,localStorage.setItem("galleryEnabled",String(y)),y?(Z(),n(document.body,"gallery-mode"),n(e,"active")):(s(document.body,"gallery-mode"),s(e,"active"))}function ee(){let e=c("gallery-toggle");e&&(y=localStorage.getItem("galleryEnabled")==="true",y&&(Z(),n(document.body,"gallery-mode"),n(e,"active")),e.addEventListener("click",()=>me(e)))}var S=!1;function A(){document.body.classList.add("lite-mode"),S=!0;let e=c("video-toggle");e&&e.classList.contains("active")&&e.click()}function ve(){document.body.classList.remove("lite-mode"),S=!1;let e=c("video-toggle");e&&!e.classList.contains("active")&&e.click()}function ge(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function te(){let e=c("lite-toggle");if(ge()){A(),e&&n(e,"active");return}if(!e)return;localStorage.getItem("liteMode")==="true"&&(S=!0,n(e,"active"),A()),e.addEventListener("click",()=>{S?(ve(),s(e,"active")):(A(),n(e,"active")),localStorage.setItem("liteMode",String(S))}),window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",o=>{o.matches&&!S&&(A(),n(e,"active"))})}var N=!1,oe,we=800;function Ee(e,t){let o=window.scrollY,i=e-o,d=performance.now();function a(E){let g=E-d,L=Math.min(g/t,1),ie=1-Math.pow(1-L,3);window.scrollTo(0,o+i*ie),L<1?requestAnimationFrame(a):N=!1}N=!0,requestAnimationFrame(a)}function Te(){let e=document.querySelector("header"),t=document.querySelector(".professional-section"),o=document.querySelector(".personal-section"),i=[];e&&i.push(e.getBoundingClientRect().top+window.scrollY),t&&i.push(t.getBoundingClientRect().top+window.scrollY),o&&i.push(o.getBoundingClientRect().top+window.scrollY);let d=window.scrollY,a=i[0],E=Math.abs(d-a);for(let g of i){let L=Math.abs(d-g);L<E&&(E=L,a=g)}return a}function he(){if(N)return;let e=Te(),t=window.scrollY;Math.abs(t-e)>50&&Ee(e,we)}function ne(){document.documentElement.style.scrollSnapType="none",window.addEventListener("scroll",()=>{clearTimeout(oe),oe=setTimeout(he,500)},{passive:!0})}function ye(){O(),U(),_(),j(),Q(),ee(),te(),ne()}function q(){requestAnimationFrame(()=>{requestAnimationFrame(ye)})}document.addEventListener("DOMContentLoaded",()=>{if(typeof Swiper<"u")q();else{let e=setTimeout(q,5e3);window.addEventListener("swiperReady",()=>{clearTimeout(e),q()})}});})();
