// ============================================
// MYMAPS PRO - SASS MIXINS
// ============================================
// Glassmorphism-focused utility mixins

@use 'sass:color';
@use './variables' as *;

// ----------------
// RESPONSIVE DESIGN
// ----------------

@mixin mq($breakpoint) {
  @if $breakpoint == sm {
    @media (min-width: $breakpoint-sm) { @content; }
  } @else if $breakpoint == md {
    @media (min-width: $breakpoint-md) { @content; }
  } @else if $breakpoint == lg {
    @media (min-width: $breakpoint-lg) { @content; }
  } @else if $breakpoint == xl {
    @media (min-width: $breakpoint-xl) { @content; }
  } @else if $breakpoint == 2xl {
    @media (min-width: $breakpoint-2xl) { @content; }
  }
}

@mixin mobile-only {
  @media (max-width: #{$breakpoint-sm - 1px}) { @content; }
}

// ----------------
// GLASSMORPHISM
// ----------------

@mixin glass-panel($blur: $glass-blur, $bg: $bg-glass) {
  background: $bg;
  backdrop-filter: blur($blur) saturate($glass-saturate);
  -webkit-backdrop-filter: blur($blur) saturate($glass-saturate);
  border: 1px solid $border-glass;
  border-radius: $glass-radius;
  box-shadow: $shadow-lg, inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

@mixin glass-panel-sm {
  @include glass-panel($glass-blur, $bg-glass);
  border-radius: $glass-radius-sm;
}

@mixin glass-panel-lg {
  @include glass-panel($glass-blur, $bg-glass);
  border-radius: $glass-radius-lg;
}

@mixin glass-button {
  @include glass-panel;
  padding: $space-3 $space-4;
  cursor: pointer;
  transition: all $duration-normal $ease-in-out;

  &:hover {
    background: $bg-glass-hover;
    border-color: $border-glass-hover;
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }
}

@mixin glass-input {
  @include glass-panel-sm;
  padding: $space-3 $space-4;
  color: $text-primary;
  font-size: $text-base;
  outline: none;
  transition: border-color $duration-normal $ease-in-out;

  &::placeholder {
    color: $text-muted;
  }

  &:focus {
    border-color: $border-accent;
  }
}

// ----------------
// LAYOUT UTILITIES
// ----------------

@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-row($justify: flex-start, $align: center, $gap: 0) {
  display: flex;
  flex-direction: row;
  justify-content: $justify;
  align-items: $align;
  @if $gap != 0 {
    gap: $gap;
  }
}

@mixin flex-col($justify: flex-start, $align: stretch, $gap: 0) {
  display: flex;
  flex-direction: column;
  justify-content: $justify;
  align-items: $align;
  @if $gap != 0 {
    gap: $gap;
  }
}

@mixin grid-auto-fit($min-size: 200px, $gap: $space-4) {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax($min-size, 1fr));
  gap: $gap;
}

@mixin absolute-fill {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

@mixin absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

// ----------------
// TEXT UTILITIES
// ----------------

@mixin truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin line-clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// ----------------
// ANIMATION
// ----------------

@mixin transition($property: all, $duration: $duration-normal, $easing: $ease-in-out) {
  transition: $property $duration $easing;
}

@mixin hover-lift($distance: -2px) {
  @include transition(transform);

  &:hover {
    transform: translateY($distance);
  }
}

@mixin fade-in($duration: $duration-normal) {
  animation: fadeIn $duration $ease-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@mixin slide-up($duration: $duration-normal, $distance: 10px) {
  animation: slideUp $duration $ease-out forwards;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// ----------------
// SCROLLBAR
// ----------------

@mixin custom-scrollbar($width: 6px, $track: transparent, $thumb: $primary-600) {
  scrollbar-width: thin;
  scrollbar-color: $thumb $track;

  &::-webkit-scrollbar {
    width: $width;
  }

  &::-webkit-scrollbar-track {
    background: $track;
  }

  &::-webkit-scrollbar-thumb {
    background: $thumb;
    border-radius: $width;

    &:hover {
      background: color.adjust($thumb, $lightness: 10%);
    }
  }
}

// ----------------
// ACCESSIBILITY
// ----------------

@mixin sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

@mixin focus-visible {
  &:focus-visible {
    outline: 2px solid $accent-blue;
    outline-offset: 2px;
  }
}

// ----------------
// PROVIDER BADGES
// ----------------

@mixin provider-badge($bg-color) {
  font-size: $text-xs;
  padding: 0.15rem 0.4rem;
  border-radius: 4px;
  text-transform: uppercase;
  font-weight: 600;
  letter-spacing: 0.02em;
  background: $bg-color;
}
